(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1842],{1842:(q,s,T)=>{"use strict";T.d(s,{w:()=>$});var n=T(553),d=T(6689),L=T(9843),G=T(8248);let $=(()=>{var y;class F{constructor(j){this.modalc=j,this.titulo="JUAN",this.uri=n.N.image+"oportunidades-documentos/"}ngOnInit(){}}return(y=F).\u0275fac=function(j){return new(j||y)(d.Y36(L.IN))},y.\u0275cmp=d.Xpm({type:y,selectors:[["app-visor-pdf"]],inputs:{titulo:"titulo",pdf:"pdf"},decls:8,vars:6,consts:[[3,"translucent"],["color","dark"],["color","light","slot","start","expand","block","fill","clear","shape","round",3,"click"],["slot","icon-only","name","close-outline"],[3,"fullscreen"],[2,"display","block","min-height","100%",3,"src","render-text","original-size"]],template:function(j,N){1&j&&(d.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-button",2),d.NdJ("click",function(){return N.modalc.dismiss()}),d._UZ(3,"ion-icon",3),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.qZA()()(),d.TgZ(6,"ion-content",4),d._UZ(7,"pdf-viewer",5),d.qZA()),2&j&&(d.Q6J("translucent",!0),d.xp6(5),d.Oqu(N.titulo),d.xp6(1),d.Q6J("fullscreen",!0),d.xp6(1),d.Q6J("src",N.uri+N.pdf)("render-text",!0)("original-size",!0))},dependencies:[L.YG,L.W2,L.Gu,L.gu,L.wd,L.sr,G.rQ]}),F})()},9627:(module,__unused_webpack_exports,__webpack_require__)=>{var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(9382).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,T;globalThis,T=()=>(()=>{"use strict";var __webpack_modules__=[,(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=le,s.arraysToBytes=function ue(J){const X=J.length;if(1===X&&J[0]instanceof Uint8Array)return J[0];let Y=0;for(let he=0;he<X;he++)Y+=le(J[he]);let Ae=0;const be=new Uint8Array(Y);for(let he=0;he<X;he++){let ce=J[he];ce instanceof Uint8Array||(ce="string"==typeof ce?pe(ce):new Uint8Array(ce));const ve=ce.byteLength;be.set(ce,Ae),Ae+=ve}return be},s.assert=function l(J,X){J||_(X)},s.bytesToString=function te(J){("object"!=typeof J||null===J||void 0===J.length)&&_("Invalid argument for bytesToString");const X=J.length,Y=8192;if(X<Y)return String.fromCharCode.apply(null,J);const Ae=[];for(let be=0;be<X;be+=Y){const he=Math.min(be+Y,X),ce=J.subarray(be,he);Ae.push(String.fromCharCode.apply(null,ce))}return Ae.join("")},s.createPromiseCapability=function ge(){const J=Object.create(null);let X=!1;return Object.defineProperty(J,"settled",{get:()=>X}),J.promise=new Promise(function(Y,Ae){J.resolve=function(be){X=!0,Y(be)},J.reject=function(be){X=!0,Ae(be)}}),J},s.createValidAbsoluteUrl=function B(J,X=null,Y=null){if(!J)return null;try{if(Y&&"string"==typeof J){if(Y.addDefaultProtocol&&J.startsWith("www.")){const be=J.match(/\./g);be&&be.length>=2&&(J=`http://${J}`)}if(Y.tryConvertEncoding)try{J=U(J)}catch{}}const Ae=X?new URL(J,X):new URL(J);if(function S(J){if(!J)return!1;switch(J.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Ae))return Ae}catch{}return null},s.escapeString=function xe(J){return J.replace(/([()\\\n\r])/g,X=>"\n"===X?"\\n":"\r"===X?"\\r":`\\${X}`)},s.getModificationDate=function ae(J=new Date){return[J.getUTCFullYear().toString(),(J.getUTCMonth()+1).toString().padStart(2,"0"),J.getUTCDate().toString().padStart(2,"0"),J.getUTCHours().toString().padStart(2,"0"),J.getUTCMinutes().toString().padStart(2,"0"),J.getUTCSeconds().toString().padStart(2,"0")].join("")},s.getVerbosityLevel=function Q(){return k},s.info=function se(J){k>=f.INFOS&&console.log(`Info: ${J}`)},s.isArrayBuffer=function ne(J){return"object"==typeof J&&null!==J&&void 0!==J.byteLength},s.isArrayEqual=function Z(J,X){if(J.length!==X.length)return!1;for(let Y=0,Ae=J.length;Y<Ae;Y++)if(J[Y]!==X[Y])return!1;return!0},s.isAscii=function Pe(J){return/^[\x00-\x7F]*$/.test(J)},s.objectFromMap=function me(J){const X=Object.create(null);for(const[Y,Ae]of J)X[Y]=Ae;return X},s.objectSize=function _e(J){return Object.keys(J).length},s.setVerbosityLevel=function W(J){Number.isInteger(J)&&(k=J)},s.shadow=P,s.string32=function de(J){return String.fromCharCode(J>>24&255,J>>16&255,J>>8&255,255&J)},s.stringToBytes=pe,s.stringToPDFString=function Ce(J){if(J[0]>="\xef"){let Y;if("\xfe"===J[0]&&"\xff"===J[1]?Y="utf-16be":"\xff"===J[0]&&"\xfe"===J[1]?Y="utf-16le":"\xef"===J[0]&&"\xbb"===J[1]&&"\xbf"===J[2]&&(Y="utf-8"),Y)try{const Ae=new TextDecoder(Y,{fatal:!0}),be=pe(J);return Ae.decode(be)}catch(Ae){H(`stringToPDFString: "${Ae}".`)}}const X=[];for(let Y=0,Ae=J.length;Y<Ae;Y++){const be=fe[J.charCodeAt(Y)];X.push(be?String.fromCharCode(be):J.charAt(Y))}return X.join("")},s.stringToUTF16BEString=function ye(J){const X=["\xfe\xff"];for(let Y=0,Ae=J.length;Y<Ae;Y++){const be=J.charCodeAt(Y);X.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return X.join("")},s.stringToUTF8String=U,s.unreachable=_,s.utf8StringToString=function ee(J){return unescape(encodeURIComponent(J))},s.warn=H,T(2),s.IDENTITY_MATRIX=[1,0,0,1,0,0],s.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],s.LINE_FACTOR=1.35,s.LINE_DESCENT_FACTOR=.35,s.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},s.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},s.AnnotationEditorPrefix="pdfjs_internal_editor_",s.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},s.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},s.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},s.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},s.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},s.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},s.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},s.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},s.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},s.AnnotationReplyType={GROUP:"Group",REPLY:"R"},s.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},s.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},s.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},s.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},s.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},s.PageActionEventType={O:"PageOpen",C:"PageClose"},s.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},s.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const f={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=f,s.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},s.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},s.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},s.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k=f.WARNINGS;function H(J){k>=f.WARNINGS&&console.log(`Warning: ${J}`)}function _(J){throw new Error(J)}function P(J,X,Y){return Object.defineProperty(J,X,{value:Y,enumerable:!0,configurable:!0,writable:!1}),Y}const i=function(){function X(Y,Ae){this.constructor===X&&_("Cannot initialize BaseException."),this.message=Y,this.name=Ae}return X.prototype=new Error,X.constructor=X,X}();function pe(J){"string"!=typeof J&&_("Invalid argument for stringToBytes");const X=J.length,Y=new Uint8Array(X);for(let Ae=0;Ae<X;++Ae)Y[Ae]=255&J.charCodeAt(Ae);return Y}function le(J){return void 0!==J.length?J.length:void 0!==J.byteLength?J.byteLength:void _("Invalid argument for arrayByteLength")}s.BaseException=i,s.PasswordException=class c extends i{constructor(X,Y){super(X,"PasswordException"),this.code=Y}},s.UnknownErrorException=class u extends i{constructor(X,Y){super(X,"UnknownErrorException"),this.details=Y}},s.InvalidPDFException=class M extends i{constructor(X){super(X,"InvalidPDFException")}},s.MissingPDFException=class I extends i{constructor(X){super(X,"MissingPDFException")}},s.UnexpectedResponseException=class z extends i{constructor(X,Y){super(X,"UnexpectedResponseException"),this.status=Y}},s.FormatError=class K extends i{constructor(X){super(X,"FormatError")}},s.AbortException=class re extends i{constructor(X){super(X,"AbortException")}},s.FeatureTest=class Fe{static get isLittleEndian(){return P(this,"isLittleEndian",function ie(){const J=new Uint8Array(4);return J[0]=1,1===new Uint32Array(J.buffer,0,1)[0]}())}static get isEvalSupported(){return P(this,"isEvalSupported",function oe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return P(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const Le=[...Array(256).keys()].map(J=>J.toString(16).padStart(2,"0"));class Me{static makeHexColor(X,Y,Ae){return`#${Le[X]}${Le[Y]}${Le[Ae]}`}static scaleMinMax(X,Y){let Ae;X[0]?(X[0]<0&&(Ae=Y[0],Y[0]=Y[1],Y[1]=Ae),Y[0]*=X[0],Y[1]*=X[0],X[3]<0&&(Ae=Y[2],Y[2]=Y[3],Y[3]=Ae),Y[2]*=X[3],Y[3]*=X[3]):(Ae=Y[0],Y[0]=Y[2],Y[2]=Ae,Ae=Y[1],Y[1]=Y[3],Y[3]=Ae,X[1]<0&&(Ae=Y[2],Y[2]=Y[3],Y[3]=Ae),Y[2]*=X[1],Y[3]*=X[1],X[2]<0&&(Ae=Y[0],Y[0]=Y[1],Y[1]=Ae),Y[0]*=X[2],Y[1]*=X[2]),Y[0]+=X[4],Y[1]+=X[4],Y[2]+=X[5],Y[3]+=X[5]}static transform(X,Y){return[X[0]*Y[0]+X[2]*Y[1],X[1]*Y[0]+X[3]*Y[1],X[0]*Y[2]+X[2]*Y[3],X[1]*Y[2]+X[3]*Y[3],X[0]*Y[4]+X[2]*Y[5]+X[4],X[1]*Y[4]+X[3]*Y[5]+X[5]]}static applyTransform(X,Y){return[X[0]*Y[0]+X[1]*Y[2]+Y[4],X[0]*Y[1]+X[1]*Y[3]+Y[5]]}static applyInverseTransform(X,Y){const Ae=Y[0]*Y[3]-Y[1]*Y[2];return[(X[0]*Y[3]-X[1]*Y[2]+Y[2]*Y[5]-Y[4]*Y[3])/Ae,(-X[0]*Y[1]+X[1]*Y[0]+Y[4]*Y[1]-Y[5]*Y[0])/Ae]}static getAxialAlignedBoundingBox(X,Y){const Ae=Me.applyTransform(X,Y),be=Me.applyTransform(X.slice(2,4),Y),he=Me.applyTransform([X[0],X[3]],Y),ce=Me.applyTransform([X[2],X[1]],Y);return[Math.min(Ae[0],be[0],he[0],ce[0]),Math.min(Ae[1],be[1],he[1],ce[1]),Math.max(Ae[0],be[0],he[0],ce[0]),Math.max(Ae[1],be[1],he[1],ce[1])]}static inverseTransform(X){const Y=X[0]*X[3]-X[1]*X[2];return[X[3]/Y,-X[1]/Y,-X[2]/Y,X[0]/Y,(X[2]*X[5]-X[4]*X[3])/Y,(X[4]*X[1]-X[5]*X[0])/Y]}static apply3dTransform(X,Y){return[X[0]*Y[0]+X[1]*Y[1]+X[2]*Y[2],X[3]*Y[0]+X[4]*Y[1]+X[5]*Y[2],X[6]*Y[0]+X[7]*Y[1]+X[8]*Y[2]]}static singularValueDecompose2dScale(X){const Y=[X[0],X[2],X[1],X[3]],Ae=X[0]*Y[0]+X[1]*Y[2],ce=X[2]*Y[1]+X[3]*Y[3],ve=(Ae+ce)/2,Ee=Math.sqrt((Ae+ce)**2-4*(Ae*ce-(X[2]*Y[0]+X[3]*Y[2])*(X[0]*Y[1]+X[1]*Y[3])))/2,we=ve-Ee||1;return[Math.sqrt(ve+Ee||1),Math.sqrt(we)]}static normalizeRect(X){const Y=X.slice(0);return X[0]>X[2]&&(Y[0]=X[2],Y[2]=X[0]),X[1]>X[3]&&(Y[1]=X[3],Y[3]=X[1]),Y}static intersect(X,Y){const Ae=Math.max(Math.min(X[0],X[2]),Math.min(Y[0],Y[2])),be=Math.min(Math.max(X[0],X[2]),Math.max(Y[0],Y[2]));if(Ae>be)return null;const he=Math.max(Math.min(X[1],X[3]),Math.min(Y[1],Y[3])),ce=Math.min(Math.max(X[1],X[3]),Math.max(Y[1],Y[3]));return he>ce?null:[Ae,he,be,ce]}static bezierBoundingBox(X,Y,Ae,be,he,ce,ve,Ee){const Se=[],we=[[],[]];let ke,Te,Re,De,Be,Ne,We,Ge;for(let $e=0;$e<2;++$e)if(0===$e?(Te=6*X-12*Ae+6*he,ke=-3*X+9*Ae-9*he+3*ve,Re=3*Ae-3*X):(Te=6*Y-12*be+6*ce,ke=-3*Y+9*be-9*ce+3*Ee,Re=3*be-3*Y),Math.abs(ke)<1e-12){if(Math.abs(Te)<1e-12)continue;De=-Re/Te,0<De&&De<1&&Se.push(De)}else We=Te*Te-4*Re*ke,Ge=Math.sqrt(We),!(We<0)&&(Be=(-Te+Ge)/(2*ke),0<Be&&Be<1&&Se.push(Be),Ne=(-Te-Ge)/(2*ke),0<Ne&&Ne<1&&Se.push(Ne));let Ie,Oe=Se.length;const ze=Oe;for(;Oe--;)De=Se[Oe],Ie=1-De,we[0][Oe]=Ie*Ie*Ie*X+3*Ie*Ie*De*Ae+3*Ie*De*De*he+De*De*De*ve,we[1][Oe]=Ie*Ie*Ie*Y+3*Ie*Ie*De*be+3*Ie*De*De*ce+De*De*De*Ee;return we[0][ze]=X,we[1][ze]=Y,we[0][ze+1]=ve,we[1][ze+1]=Ee,we[0].length=we[1].length=ze+2,[Math.min(...we[0]),Math.min(...we[1]),Math.max(...we[0]),Math.max(...we[1])]}}s.Util=Me;const fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function U(J){return decodeURIComponent(escape(J))}},(q,s,T)=>{T(3)},(q,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const T=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);s.isNodeJS=T},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:q,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:T}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=q,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=T}function setPDFNetworkStreamFactory(q){createPDFNetworkStream=q}function getDocument(q){const s=new PDFDocumentLoadingTask;let T;if("string"==typeof q||q instanceof URL)T={url:q};else if((0,_util.isArrayBuffer)(q))T={data:q};else if(q instanceof PDFDataRangeTransport)T={range:q};else{if("object"!=typeof q)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!q.url&&!q.data&&!q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");T=q}const n=Object.create(null);let d=null,L=null;for(const $ in T){const y=T[$];switch($){case"url":if(typeof window<"u")try{n[$]=new URL(y,window.location).href;continue}catch(F){(0,_util.warn)(`Cannot create valid URL: "${F}".`)}else if("string"==typeof y||y instanceof URL){n[$]=y.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":d=y;continue;case"worker":L=y;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&y instanceof Buffer)n[$]=new Uint8Array(y);else{if(y instanceof Uint8Array)break;if("string"==typeof y)n[$]=(0,_util.stringToBytes)(y);else if("object"!=typeof y||null===y||isNaN(y.length)){if(!(0,_util.isArrayBuffer)(y))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");n[$]=new Uint8Array(y)}else n[$]=new Uint8Array(y)}continue}n[$]=y}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!L){const $={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};L=$.port?PDFWorker.fromPort($):new PDFWorker($),s._worker=L}const G=s.docId;return L.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const $=_fetchDocument(L,n,d,G),y=new Promise(function(F){let O;d?O=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},d):n.data||(O=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),F(O)});return Promise.all([$,y]).then(function([F,O]){if(s.destroyed)throw new Error("Loading aborted");const j=new _message_handler.MessageHandler(G,F,L.port),N=new WorkerTransport(j,s,O,n);s._transport=N,j.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(q,s,T,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(q,s,T,n){if(q.destroyed)throw new Error("Worker was destroyed");T&&(s.length=T.length,s.initialData=T.initialData,s.progressiveDone=T.progressiveDone,s.contentDispositionFilename=T.contentDispositionFilename);const d=yield q.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.16.105",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(s.data&&(s.data=null),q.destroyed)throw new Error("Worker was destroyed");return d})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var s,T;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(s=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),T=s++,s)),T}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var s=this;return _asyncToGenerator(function*(){var T;s.destroyed=!0,yield null===(T=s._transport)||void 0===T?void 0:T.destroy(),s._transport=null,s._worker&&(s._worker.destroy(),s._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,T,n=!1,d=null){this.length=s,this.initialData=T,this.progressiveDone=n,this.contentDispositionFilename=d,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,T){for(const n of this._rangeListeners)n(s,T)}onDataProgress(s,T){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(s,T)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const T of this._progressiveReadListeners)T(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,T){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,T){var d,n=this;this._pdfInfo=s,this._transport=T,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(d=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return d.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,T,n,d,L=!1){this._pageIndex=s,this._pageInfo=T,this._ownerDocument=d,this._transport=n,this._stats=L?new _display_utils.StatTimer:null,this._pdfBug=L,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:T=this.rotate,offsetX:n=0,offsetY:d=0,dontFlip:L=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:T,offsetX:n,offsetY:d,dontFlip:L})}getAnnotations({intent:s="display"}={}){const T=this._transport.getRenderingIntent(s);let n=this._annotationPromises.get(T.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,T.renderingIntent),this._annotationPromises.set(T.cacheKey,n),n=n.then(d=>{for(const L of d)void 0!==L.titleObj&&Object.defineProperty(L,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),L.titleObj.str)}),void 0!==L.contentsObj&&Object.defineProperty(L,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),L.contentsObj.str)});return d})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var s=this;return _asyncToGenerator(function*(){var T;return(null===(T=s._transport._htmlForXfa)||void 0===T?void 0:T.children[s._pageIndex])||null})()}render({canvasContext:s,viewport:T,intent:n="display",annotationMode:d=_util.AnnotationMode.ENABLE,transform:L=null,imageLayer:G=null,canvasFactory:$=null,background:y=null,optionalContentConfigPromise:F=null,annotationCanvasMap:O=null,pageColors:j=null,printAnnotationStorage:N=null}){var D,w,r;void 0!==(null===(D=arguments[0])||void 0===D?void 0:D.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(w=arguments[0])||void 0===w?void 0:w.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const p=this._transport.getRenderingIntent(n,d,N);this.pendingCleanup=!1,F||(F=this._transport.getOptionalContentConfig());let C=this._intentStates.get(p.cacheKey);C||(C=Object.create(null),this._intentStates.set(p.cacheKey,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const m=$||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),b=!!(p.renderingIntent&_util.RenderingIntentFlag.PRINT);C.displayReadyCapability||(C.displayReadyCapability=(0,_util.createPromiseCapability)(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(p));const h=a=>{C.renderTasks.delete(t),(this.cleanupAfterRender||b)&&(this.pendingCleanup=!0),this._tryCleanup(),a?(t.capability.reject(a),this._abortOperatorList({intentState:C,reason:a instanceof Error?a:new Error(a)})):t.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},t=new InternalRenderTask({callback:h,params:{canvasContext:s,viewport:T,transform:L,imageLayer:G,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:O,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:m,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:j});((r=C).renderTasks||(r.renderTasks=new Set)).add(t);const e=t.task;return Promise.all([C.displayReadyCapability.promise,F]).then(([a,g])=>{this.pendingCleanup?h():(this._stats&&this._stats.time("Rendering"),t.initializeGraphics({transparency:a,optionalContentConfig:g}),t.operatorListChanged())}).catch(h),e}getOperatorList({intent:s="display",annotationMode:T=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){const L=this._transport.getRenderingIntent(s,T,n,!0);let $,G=this._intentStates.get(L.cacheKey);var y;return G||(G=Object.create(null),this._intentStates.set(L.cacheKey,G)),G.opListReadCapability||($=Object.create(null),$.operatorListChanged=function d(){G.operatorList.lastChunk&&(G.opListReadCapability.resolve(G.operatorList),G.renderTasks.delete($))},G.opListReadCapability=(0,_util.createPromiseCapability)(),((y=G).renderTasks||(y.renderTasks=new Set)).add($),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(L)),G.opListReadCapability.promise}streamTextContent({disableCombineTextItems:s=!1,includeMarkedContent:T=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==s,includeMarkedContent:!0===T},{highWaterMark:100,size:d=>d.items.length})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const T=this.streamTextContent(s);return new Promise(function(n,d){const G=T.getReader(),$={items:[],styles:Object.create(null)};!function L(){G.read().then(function({value:y,done:F}){F?n($):(Object.assign($.styles,y.styles),$.items.push(...y.items),L())},d)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const T of this._intentStates.values())if(this._abortOperatorList({intentState:T,reason:new Error("Page was destroyed."),force:!0}),!T.opListReadCapability)for(const n of T.renderTasks)s.push(n.completed),n.cancel();this.objs.clear();for(const T of this._bitmaps)T.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(s=!1){return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(s=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:T,operatorList:n}of this._intentStates.values())if(T.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const T of this._bitmaps)T.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,T){const n=this._intentStates.get(T);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(s))}_renderPageChunk(s,T){for(let n=0,d=s.length;n<d;n++)T.operatorList.fnArray.push(s.fnArray[n]),T.operatorList.argsArray.push(s.argsArray[n]);T.operatorList.lastChunk=s.lastChunk,T.operatorList.separateAnnots=s.separateAnnots;for(const n of T.renderTasks)n.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:s,cacheKey:T,annotationStorageMap:n}){const L=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:T,annotationStorage:n}).getReader(),G=this._intentStates.get(T);G.streamReader=L;const $=()=>{L.read().then(({value:y,done:F})=>{F?G.streamReader=null:this._transport.destroyed||(this._renderPageChunk(y,G),$())},y=>{if(G.streamReader=null,!this._transport.destroyed){if(G.operatorList){G.operatorList.lastChunk=!0;for(const F of G.renderTasks)F.operatorListChanged();this._tryCleanup()}if(G.displayReadyCapability)G.displayReadyCapability.reject(y);else{if(!G.opListReadCapability)throw y;G.opListReadCapability.reject(y)}}})};$()}_abortOperatorList({intentState:s,reason:T,force:n=!1}){if(s.streamReader){if(!n){if(s.renderTasks.size>0)return;if(T instanceof _display_utils.RenderingCancelledException)return void(s.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:s,reason:T,force:!0}),s.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(s.streamReader.cancel(new _util.AbortException(T.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[d,L]of this._intentStates)if(L===s){this._intentStates.delete(d);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,T){const n={data:structuredClone(s,T)};this._deferred.then(()=>{for(const d of this._listeners)d.call(this,n)})}addEventListener(s,T){this._listeners.push(T)}removeEventListener(s,T){const n=this._listeners.indexOf(T);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){var _document;const q=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;q&&(PDFWorkerUtil.fallbackWorkerSrc=q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(q,s){let T;try{if(T=new URL(q),!T.origin||"null"===T.origin)return!1}catch{return!1}const n=new URL(s,T);return T.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(q){return URL.createObjectURL(new Blob([`importScripts("${q}");`]))};class PDFWorker{constructor({name:q=null,port:s=null,verbosity:T=(0,_util.getVerbosityLevel)()}={}){if(s&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=q,this.destroyed=!1,this.verbosity=T,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(s,this),void this._initializeFromPort(s);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(q){this._port=q,this._messageHandler=new _message_handler.MessageHandler("main","worker",q),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:q}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,q)||(q=PDFWorkerUtil.createCDNWrapper(new URL(q,window.location).href));const s=new Worker(q),T=new _message_handler.MessageHandler("main","worker",s),n=()=>{s.removeEventListener("error",d),T.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=()=>{this._webWorker||n()};s.addEventListener("error",d),T.on("test",G=>{s.removeEventListener("error",d),this.destroyed?n():G?(this._messageHandler=T,this._port=s,this._webWorker=s,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),T.destroy(),s.terminate())}),T.on("ready",G=>{if(s.removeEventListener("error",d),this.destroyed)n();else try{L()}catch{this._setupFakeWorker()}});const L=()=>{const G=new Uint8Array;T.send("test",G,[G.buffer])};return void L()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(q=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const s=new LoopbackPort;this._port=s;const T="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(T+"_worker",T,s);q.setup(n,s);const d=new _message_handler.MessageHandler(T,T+"_worker",s);this._messageHandler=d,this._readyCapability.resolve(),d.send("configure",{verbosity:this.verbosity})}).catch(q=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${q.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(q){if(null==q||!q.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(q.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(q.port):new PDFWorker(q)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var q;return(null===(q=globalThis.pdfjsWorker)||void 0===q?void 0:q.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function q(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(s,T,n,d){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=s,this.loadingTask=T,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:T.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:d.ownerDocument,styleElement:d.styleElement}),this._params=d,d.useWorkerFetch||(this.CMapReaderFactory=new d.CMapReaderFactory({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked}),this.StandardFontDataFactory=new d.StandardFontDataFactory({baseUrl:d.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(s,T=_util.AnnotationMode.ENABLE,n=null,d=!1){let L=_util.RenderingIntentFlag.DISPLAY,G=null;switch(s){case"any":L=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":L=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(T){case _util.AnnotationMode.DISABLE:L+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:L+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:L+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,G=(L&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${T}`)}return d&&(L+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:L,cacheKey:`${L}_${_annotation_storage.AnnotationStorage.getHash(G)}`,annotationStorageMap:G}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const n of _classPrivateFieldGet(this,_pageCache).values())s.push(n._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const T=this.messageHandler.sendWithPromise("Terminate",null);return s.push(T),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:T}=this;s.on("GetReader",(n,d)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=L=>{this._lastProgress={loaded:L.loaded,total:L.total}},d.onPull=()=>{this._fullReader.read().then(function({value:L,done:G}){G?d.close():((0,_util.assert)((0,_util.isArrayBuffer)(L),"GetReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(L),1,[L]))}).catch(L=>{d.error(L)})},d.onCancel=L=>{this._fullReader.cancel(L),d.ready.catch(G=>{if(!this.destroyed)throw G})}}),s.on("ReaderHeadersReady",n=>{const d=(0,_util.createPromiseCapability)(),L=this._fullReader;return L.headersReady.then(()=>{var G;L.isStreamingSupported&&L.isRangeSupported||(this._lastProgress&&(null===(G=T.onProgress)||void 0===G||G.call(T,this._lastProgress)),L.onProgress=$=>{var y;null===(y=T.onProgress)||void 0===y||y.call(T,{loaded:$.loaded,total:$.total})}),d.resolve({isStreamingSupported:L.isStreamingSupported,isRangeSupported:L.isRangeSupported,contentLength:L.contentLength})},d.reject),d.promise}),s.on("GetRangeReader",(n,d)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const L=this._networkStream.getRangeReader(n.begin,n.end);L?(d.onPull=()=>{L.read().then(function({value:G,done:$}){$?d.close():((0,_util.assert)((0,_util.isArrayBuffer)(G),"GetRangeReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(G),1,[G]))}).catch(G=>{d.error(G)})},d.onCancel=G=>{L.cancel(G),d.ready.catch($=>{if(!this.destroyed)throw $})}):d.close()}),s.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,T._capability.resolve(new PDFDocumentProxy(n,this))}),s.on("DocException",function(n){let d;switch(n.name){case"PasswordException":d=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":d=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":d=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":d=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":d=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}T._capability.reject(d)}),s.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),T.onPassword){const d=L=>{L instanceof Error?this._passwordCapability.reject(L):this._passwordCapability.resolve({password:L})};try{T.onPassword(d,n.code)}catch(L){this._passwordCapability.reject(L)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),s.on("DataLoaded",n=>{var d;null===(d=T.onProgress)||void 0===d||d.call(T,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),s.on("StartRenderPage",n=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),s.on("commonobj",([n,d,L])=>{var G;if(!this.destroyed&&!this.commonObjs.has(n))switch(d){case"Font":const $=this._params;if("error"in L){const O=L.error;(0,_util.warn)(`Error during font loading: ${O}`),this.commonObjs.resolve(n,O);break}let y=null;$.pdfBug&&null!==(G=globalThis.FontInspector)&&void 0!==G&&G.enabled&&(y={registerFont(O,j){globalThis.FontInspector.fontAdded(O,j)}});const F=new _font_loader.FontFaceObject(L,{isEvalSupported:$.isEvalSupported,disableFontFace:$.disableFontFace,ignoreErrors:$.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:y});this.fontLoader.bind(F).catch(O=>s.sendWithPromise("FontFallback",{id:n})).finally(()=>{!$.fontExtraProperties&&F.data&&(F.data=null),this.commonObjs.resolve(n,F)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,L);break;default:throw new Error(`Got unknown common object type ${d}`)}}),s.on("obj",([n,d,L,G])=>{if(this.destroyed)return;const $=_classPrivateFieldGet(this,_pageCache).get(d);if(!$.objs.has(n))switch(L){case"Image":$.objs.resolve(n,G);const F=8e6;if(G){let O;if(G.bitmap){const{bitmap:j,width:N,height:D}=G;O=N*D*4,$._bitmaps.add(j)}else{var y;O=(null===(y=G.data)||void 0===y?void 0:y.length)||0}O>F&&($.cleanupAfterRender=!0)}break;case"Pattern":$.objs.resolve(n,G);break;default:throw new Error(`Got unknown object type ${L}`)}}),s.on("DocProgress",n=>{var d;this.destroyed||null===(d=T.onProgress)||void 0===d||d.call(T,{loaded:n.loaded,total:n.total})}),s.on("DocStats",n=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:s}){var T,n;this.destroyed||null===(T=(n=this.loadingTask).onUnsupportedFeature)||void 0===T||T.call(n,s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const T=s-1,n=_classPrivateFieldGet(this,_pagePromises).get(T);if(n)return n;const d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:T}).then(L=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(T,L,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(T,G),G});return _classPrivateFieldGet(this,_pagePromises).set(T,d),d}getPageIndex(s){return"object"!=typeof s||null===s||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,T){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:T})}saveDocument(){var s,T;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(s=null===(T=this._fullReader)||void 0===T?void 0:T.filename)&&void 0!==s?s:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return"string"!=typeof s?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>{var T,n,d,L;return{info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:null!==(T=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==T?T:null,contentLength:null!==(d=null===(L=this._fullReader)||void 0===L?void 0:L.contentLength)&&void 0!==d?d:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(s=!1){var T=this;return _asyncToGenerator(function*(){if(yield T.messageHandler.sendWithPromise("Cleanup",null),!T.destroyed){for(const n of _classPrivateFieldGet(T,_pageCache).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);T.commonObjs.clear(),s||T.fontLoader.clear(),_classPrivateFieldSet(T,_metadataPromise,null),T._getFieldObjectsPromise=null,T._hasJSActionsPromise=null}})()}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(s,T=null){if(T){const d=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);return d.capability.promise.then(()=>T(d.data)),null}const n=_classPrivateFieldGet(this,_objs)[s];if(null==n||!n.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return n.data}has(s){const T=_classPrivateFieldGet(this,_objs)[s];return(null==T?void 0:T.capability.settled)||!1}resolve(s,T=null){const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);n.data=T,n.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(q){return _classPrivateFieldGet(this,_objs)[q]||(_classPrivateFieldGet(this,_objs)[q]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(s){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,s),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:s}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!s)return!1;const{annotationCanvasMap:T}=_classPrivateFieldGet(this,_internalRenderTask);return s.form||s.canvas&&(null==T?void 0:T.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:s,params:T,objs:n,commonObjs:d,annotationCanvasMap:L,operatorList:G,pageIndex:$,canvasFactory:y,useRequestAnimationFrame:F=!1,pdfBug:O=!1,pageColors:j=null}){this.callback=s,this.params=T,this.objs=n,this.commonObjs=d,this.annotationCanvasMap=L,this.operatorListIdx=null,this.operatorList=G,this._pageIndex=$,this.canvasFactory=y,this._pdfBug=O,this.pageColors=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===F&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=T.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:T}){var n;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:d,viewport:L,transform:G,imageLayer:$,background:y}=this.params;this.gfx=new _canvas.CanvasGraphics(d,this.commonObjs,this.objs,this.canvasFactory,$,T,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:G,viewport:L,transparency:s,background:y}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(s=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var s=this;return _asyncToGenerator(function*(){s.cancelled||(s.operatorListIdx=s.gfx.executeOperatorList(s.operatorList,s.operatorListIdx,s._continueBound,s.stepper),s.operatorListIdx===s.operatorList.argsArray.length&&(s.running=!1,s.operatorList.lastChunk&&(s.gfx.endDrawing(),s._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(s._canvas),s.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var n=T(1),d=T(6),L=T(10),G=new WeakSet;class ${constructor(){_classPrivateMethodInitSpec(this,G),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(N,D){const w=this._storage.get(N);return void 0===w?D:Object.assign(D,w)}getRawValue(N){return this._storage.get(N)}remove(N){if(this._storage.delete(N),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const D of this._storage.values())if(D instanceof d.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(N,D){const w=this._storage.get(N);let r=!1;if(void 0!==w)for(const[p,C]of Object.entries(D))w[p]!==C&&(r=!0,w[p]=C);else r=!0,this._storage.set(N,D);r&&_classPrivateMethodGet(this,G,y).call(this),D instanceof d.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(D.constructor._type)}has(N){return this._storage.has(N)}getAll(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new O(this)}get serializable(){if(0===this._storage.size)return null;const N=new Map;for(const[D,w]of this._storage){const r=w instanceof d.AnnotationEditor?w.serialize():w;r&&N.set(D,r)}return N}static getHash(N){if(!N)return"";const D=new L.MurmurHash3_64;for(const[w,r]of N)D.update(`${w}:${JSON.stringify(r)}`);return D.hexdigest()}}function y(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}s.AnnotationStorage=$;var F=new WeakMap;class O extends ${constructor(N){super(),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldSet(this,F,structuredClone(N.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,F)}}s.PrintAnnotationStorage=O},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var n=T(7),d=T(1),L=new WeakMap,G=new WeakMap,$=new WeakMap,y=new WeakMap,F=new WeakMap,O=new WeakMap;class j{constructor(D){_classPrivateFieldInitSpec(this,L,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:j._zIndex++}),this.constructor===j&&(0,d.unreachable)("Cannot initialize AnnotationEditor."),this.parent=D.parent,this.id=D.id,this.width=this.height=null,this.pageIndex=D.parent.pageIndex,this.name=D.name,this.div=null;const[w,r]=this.parent.viewportBaseDimensions;this.x=D.x/w,this.y=D.y/r,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,d.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,O)}focusin(D){_classPrivateFieldGet(this,$)?_classPrivateFieldSet(this,$,!1):this.parent.setSelected(this)}focusout(D){if(!this.isAttachedToDOM)return;const w=D.relatedTarget;null!=w&&w.closest(`#${this.id}`)||(D.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(D){const w=this.parent.div.getBoundingClientRect();this.startX=D.clientX-w.x,this.startY=D.clientY-w.y,D.dataTransfer.setData("text/plain",this.id),D.dataTransfer.effectAllowed="move"}setAt(D,w,r,p){const[C,m]=this.parent.viewportBaseDimensions;[r,p]=this.screenToPageTranslation(r,p),this.x=(D+r)/C,this.y=(w+p)/m,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(D,w){const[r,p]=this.parent.viewportBaseDimensions;[D,w]=this.screenToPageTranslation(D,w),this.x+=D/r,this.y+=w/p,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(D,w){const{rotation:r}=this.parent.viewport;switch(r){case 90:return[w,-D];case 180:return[-D,-w];case 270:return[-w,D];default:return[D,w]}}setDims(D,w){const[r,p]=this.parent.viewportBaseDimensions;this.div.style.width=100*D/r+"%",this.div.style.height=100*w/p+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,L)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,G));const[D,w]=this.getInitialTranslation();return this.translate(D,w),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(D){const w=n.KeyboardManager.platform.isMac;0!==D.button||D.ctrlKey&&w?D.preventDefault():(D.ctrlKey&&!w||D.shiftKey||D.metaKey&&w?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,$,!0))}getRect(D,w){const[r,p]=this.parent.viewportBaseDimensions,[C,m]=this.parent.pageDimensions,b=C*D/r,h=m*w/p,t=this.x*C,e=this.y*m,a=this.width*C,g=this.height*m;switch(this.rotation){case 0:return[t+b,m-e-h-g,t+b+a,m-e-h];case 90:return[t+h,m-e+b,t+h+g,m-e+b+a];case 180:return[t-b-a,m-e+h,t-b,m-e+h+g];case 270:return[t-h-g,m-e-b-a,t-h,m-e-b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(D,w){const[r,p,C,m]=D,b=C-r,h=m-p;switch(this.rotation){case 0:return[r,w-m,b,h];case 90:return[r,w-p,h,b];case 180:return[C,w-p,b,h];case 270:return[C,w-m,h,b];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,F,!0)}disableEditMode(){_classPrivateFieldSet(this,F,!1)}isInEditMode(){return _classPrivateFieldGet(this,F)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var D;null===(D=this.div)||void 0===D||D.addEventListener("focusin",_classPrivateFieldGet(this,L))}serialize(){(0,d.unreachable)("An editor must be serializable")}static deserialize(D,w){const r=new this.prototype.constructor({parent:w,id:w.getNextId()});r.rotation=D.rotation;const[p,C]=w.pageDimensions,[m,b,h,t]=r.getRectInCurrentCoords(D.rect,C);return r.x=m/p,r.y=b/C,r.width=h/p,r.height=t/C,r}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,L)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,G)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var D;null===(D=this.div)||void 0===D||D.classList.add("selectedEditor")}unselect(){var D;null===(D=this.div)||void 0===D||D.classList.remove("selectedEditor")}updateParams(D,w){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,y)}set isEditing(D){_classPrivateFieldSet(this,y,D),D?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(j,"_colorManager",new n.ColorManager),_defineProperty(j,"_zIndex",1),s.AnnotationEditor=j},(q,s,T)=>{var n;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=function G(me,ie,oe){for(const Fe of oe)ie.addEventListener(Fe,me[Fe].bind(me))},s.opacityToHex=function $(me){return Math.round(Math.min(255,Math.max(1,255*me))).toString(16).padStart(2,"0")};var d=T(1),L=T(8),y=new WeakMap;class F{constructor(){_classPrivateFieldInitSpec(this,y,{writable:!0,value:0})}getId(){var ie,oe;return`${d.AnnotationEditorPrefix}${_classPrivateFieldSet(this,y,(ie=_classPrivateFieldGet(this,y),oe=ie++,ie)),oe}`}}var O=new WeakMap,j=new WeakMap,N=new WeakMap,D=new WeakMap;class w{constructor(ie=128){_classPrivateFieldInitSpec(this,O,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:-1}),_classPrivateFieldSet(this,N,ie)}add({cmd:ie,undo:oe,mustExec:Fe,type:Le=NaN,overwriteIfSameType:Me=!1,keepUndo:fe=!1}){if(Fe&&ie(),_classPrivateFieldGet(this,j))return;const Ce={cmd:ie,undo:oe,type:Le};if(-1===_classPrivateFieldGet(this,D))return _classPrivateFieldGet(this,O).length>0&&(_classPrivateFieldGet(this,O).length=0),_classPrivateFieldSet(this,D,0),void _classPrivateFieldGet(this,O).push(Ce);if(Me&&_classPrivateFieldGet(this,O)[_classPrivateFieldGet(this,D)].type===Le)return fe&&(Ce.undo=_classPrivateFieldGet(this,O)[_classPrivateFieldGet(this,D)].undo),void(_classPrivateFieldGet(this,O)[_classPrivateFieldGet(this,D)]=Ce);const xe=_classPrivateFieldGet(this,D)+1;xe===_classPrivateFieldGet(this,N)?_classPrivateFieldGet(this,O).splice(0,1):(_classPrivateFieldSet(this,D,xe),xe<_classPrivateFieldGet(this,O).length&&_classPrivateFieldGet(this,O).splice(xe)),_classPrivateFieldGet(this,O).push(Ce)}undo(){-1!==_classPrivateFieldGet(this,D)&&(_classPrivateFieldSet(this,j,!0),_classPrivateFieldGet(this,O)[_classPrivateFieldGet(this,D)].undo(),_classPrivateFieldSet(this,j,!1),_classPrivateFieldSet(this,D,_classPrivateFieldGet(this,D)-1))}redo(){_classPrivateFieldGet(this,D)<_classPrivateFieldGet(this,O).length-1&&(_classPrivateFieldSet(this,D,_classPrivateFieldGet(this,D)+1),_classPrivateFieldSet(this,j,!0),_classPrivateFieldGet(this,O)[_classPrivateFieldGet(this,D)].cmd(),_classPrivateFieldSet(this,j,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,D)}hasSomethingToRedo(){return _classPrivateFieldGet(this,D)<_classPrivateFieldGet(this,O).length-1}destroy(){_classPrivateFieldSet(this,O,null)}}s.CommandManager=w;var r=new WeakSet;class p{constructor(ie){_classPrivateMethodInitSpec(this,r),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const oe=p.platform.isMac;for(const[Fe,Le]of ie)for(const Me of Fe){const fe=Me.startsWith("mac+");oe&&fe?(this.callbacks.set(Me.slice(4),Le),this.allKeys.add(Me.split("+").at(-1))):!oe&&!fe&&(this.callbacks.set(Me,Le),this.allKeys.add(Me.split("+").at(-1)))}}static get platform(){const ie=typeof navigator<"u"?navigator.platform:"";return(0,d.shadow)(this,"platform",{isWin:ie.includes("Win"),isMac:ie.includes("Mac")})}exec(ie,oe){if(!this.allKeys.has(oe.key))return;const Fe=this.callbacks.get(_classPrivateMethodGet(this,r,C).call(this,oe));Fe&&(Fe.bind(ie)(),oe.stopPropagation(),oe.preventDefault())}}function C(me){me.altKey&&this.buffer.push("alt"),me.ctrlKey&&this.buffer.push("ctrl"),me.metaKey&&this.buffer.push("meta"),me.shiftKey&&this.buffer.push("shift"),this.buffer.push(me.key);const ie=this.buffer.join("+");return this.buffer.length=0,ie}s.KeyboardManager=p;var m=new WeakMap;class b{constructor(){_classPrivateFieldInitSpec(this,m,{writable:!0,value:null})}copy(ie){ie&&(Array.isArray(ie)?_classPrivateFieldSet(this,m,ie.map(oe=>oe.serialize())):_classPrivateFieldSet(this,m,[ie.serialize()]),_classPrivateFieldSet(this,m,_classPrivateFieldGet(this,m).filter(oe=>!!oe)),0===_classPrivateFieldGet(this,m).length&&_classPrivateFieldSet(this,m,null))}paste(){return _classPrivateFieldGet(this,m)}isEmpty(){return null===_classPrivateFieldGet(this,m)}destroy(){_classPrivateFieldSet(this,m,null)}}class h{get _colors(){const ie=new Map([["CanvasText",null],["Canvas",null]]);return(0,L.getColorValues)(ie),(0,d.shadow)(this,"_colors",ie)}convert(ie){const oe=(0,L.getRGB)(ie);if(!window.matchMedia("(forced-colors: active)").matches)return oe;for(const[Fe,Le]of this._colors)if(Le.every((Me,fe)=>Me===oe[fe]))return h._colorsMapping.get(Fe);return oe}getHexCode(ie){const oe=this._colors.get(ie);return oe?d.Util.makeHexColor(...oe):ie}}_defineProperty(h,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),s.ColorManager=h;var t=new WeakMap,e=new WeakMap,a=new WeakMap,g=new WeakMap,E=new WeakMap,A=new WeakMap,o=new WeakMap,f=new WeakMap,R=new WeakMap,x=new WeakMap,V=new WeakMap,v=new WeakMap,k=new WeakMap,W=new WeakMap,Q=new WeakMap,se=new WeakMap,H=new WeakMap,_=new WeakSet,l=new WeakSet,S=new WeakSet,B=new WeakSet,P=new WeakSet,i=new WeakSet,c=new WeakSet,u=new WeakSet,M=new WeakSet;class I{constructor(ie,oe){_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,u),_classPrivateMethodInitSpec(this,c),_classPrivateMethodInitSpec(this,i),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,l),_classPrivateMethodInitSpec(this,_),_classPrivateFieldInitSpec(this,t,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,e,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,a,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:new b}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:new w}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,o,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:new F}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:d.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,se,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:null}),_classPrivateFieldSet(this,H,ie),_classPrivateFieldSet(this,f,oe),_classPrivateFieldGet(this,f)._on("editingaction",_classPrivateFieldGet(this,W)),_classPrivateFieldGet(this,f)._on("pagechanging",_classPrivateFieldGet(this,Q))}destroy(){_classPrivateMethodGet(this,l,K).call(this),_classPrivateFieldGet(this,f)._off("editingaction",_classPrivateFieldGet(this,W)),_classPrivateFieldGet(this,f)._off("pagechanging",_classPrivateFieldGet(this,Q));for(const ie of _classPrivateFieldGet(this,a).values())ie.destroy();_classPrivateFieldGet(this,a).clear(),_classPrivateFieldGet(this,e).clear(),_classPrivateFieldSet(this,t,null),_classPrivateFieldGet(this,v).clear(),_classPrivateFieldGet(this,g).destroy(),_classPrivateFieldGet(this,E).destroy()}onPageChanging({pageNumber:ie}){_classPrivateFieldSet(this,A,ie-1)}focusMainContainer(){_classPrivateFieldGet(this,H).focus()}keydown(ie){var oe;null!==(oe=this.getActive())&&void 0!==oe&&oe.shouldGetKeyboardEvents()||I._keyboardManager.exec(this,ie)}onEditingAction(ie){["undo","redo","cut","copy","paste","delete","selectAll"].includes(ie.name)&&this[ie.name]()}setEditingState(ie){ie?(_classPrivateMethodGet(this,_,z).call(this),_classPrivateMethodGet(this,S,re).call(this,{isEditing:_classPrivateFieldGet(this,V)!==d.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,u,de).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,E).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,E).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:_classPrivateFieldGet(this,g).isEmpty()})):(_classPrivateMethodGet(this,l,K).call(this),_classPrivateMethodGet(this,S,re).call(this,{isEditing:!1}))}registerEditorTypes(ie){_classPrivateFieldSet(this,o,ie);for(const oe of _classPrivateFieldGet(this,o))_classPrivateMethodGet(this,B,te).call(this,oe.defaultPropertiesToUpdate)}getId(){return _classPrivateFieldGet(this,R).getId()}addLayer(ie){_classPrivateFieldGet(this,a).set(ie.pageIndex,ie),_classPrivateFieldGet(this,x)?ie.enable():ie.disable()}removeLayer(ie){_classPrivateFieldGet(this,a).delete(ie.pageIndex)}updateMode(ie){if(_classPrivateFieldSet(this,V,ie),ie===d.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,i,le).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,P,pe).call(this);for(const oe of _classPrivateFieldGet(this,a).values())oe.updateMode(ie)}}updateToolbar(ie){ie!==_classPrivateFieldGet(this,V)&&_classPrivateFieldGet(this,f).dispatch("switchannotationeditormode",{source:this,mode:ie})}updateParams(ie,oe){for(const Fe of _classPrivateFieldGet(this,v))Fe.updateParams(ie,oe);for(const Fe of _classPrivateFieldGet(this,o))Fe.updateDefaultParams(ie,oe)}getEditors(ie){const oe=[];for(const Fe of _classPrivateFieldGet(this,e).values())Fe.pageIndex===ie&&oe.push(Fe);return oe}getEditor(ie){return _classPrivateFieldGet(this,e).get(ie)}addEditor(ie){_classPrivateFieldGet(this,e).set(ie.id,ie)}removeEditor(ie){_classPrivateFieldGet(this,e).delete(ie.id),this.unselect(ie)}setActiveEditor(ie){_classPrivateFieldGet(this,t)!==ie&&(_classPrivateFieldSet(this,t,ie),ie&&_classPrivateMethodGet(this,B,te).call(this,ie.propertiesToUpdate))}toggleSelected(ie){if(_classPrivateFieldGet(this,v).has(ie))return _classPrivateFieldGet(this,v).delete(ie),ie.unselect(),void _classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,v).add(ie),ie.select(),_classPrivateMethodGet(this,B,te).call(this,ie.propertiesToUpdate),_classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:!0})}setSelected(ie){for(const oe of _classPrivateFieldGet(this,v))oe!==ie&&oe.unselect();_classPrivateFieldGet(this,v).clear(),_classPrivateFieldGet(this,v).add(ie),ie.select(),_classPrivateMethodGet(this,B,te).call(this,ie.propertiesToUpdate),_classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:!0})}isSelected(ie){return _classPrivateFieldGet(this,v).has(ie)}unselect(ie){ie.unselect(),_classPrivateFieldGet(this,v).delete(ie),_classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,v).size}undo(){_classPrivateFieldGet(this,E).undo(),_classPrivateMethodGet(this,S,re).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,E).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,u,de).call(this)})}redo(){_classPrivateFieldGet(this,E).redo(),_classPrivateMethodGet(this,S,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,E).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,u,de).call(this)})}addCommands(ie){_classPrivateFieldGet(this,E).add(ie),_classPrivateMethodGet(this,S,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,u,de).call(this)})}delete(){if(_classPrivateFieldGet(this,t)&&_classPrivateFieldGet(this,t).commitOrRemove(),!this.hasSelection)return;const ie=[..._classPrivateFieldGet(this,v)];this.addCommands({cmd:()=>{for(const Le of ie)Le.remove()},undo:()=>{for(const Le of ie)_classPrivateMethodGet(this,c,ue).call(this,Le)},mustExec:!0})}copy(){if(_classPrivateFieldGet(this,t)&&_classPrivateFieldGet(this,t).commitOrRemove(),this.hasSelection){const ie=[];for(const oe of _classPrivateFieldGet(this,v))oe.isEmpty()||ie.push(oe);if(0===ie.length)return;_classPrivateFieldGet(this,g).copy(ie),_classPrivateMethodGet(this,S,re).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(_classPrivateFieldGet(this,g).isEmpty())return;this.unselectAll();const ie=_classPrivateFieldGet(this,a).get(_classPrivateFieldGet(this,A)),oe=_classPrivateFieldGet(this,g).paste().map(Me=>ie.deserialize(Me));this.addCommands({cmd:()=>{for(const Me of oe)_classPrivateMethodGet(this,c,ue).call(this,Me);_classPrivateMethodGet(this,M,_e).call(this,oe)},undo:()=>{for(const Me of oe)Me.remove()},mustExec:!0})}selectAll(){for(const ie of _classPrivateFieldGet(this,v))ie.commit();_classPrivateMethodGet(this,M,_e).call(this,_classPrivateFieldGet(this,e).values())}unselectAll(){if(_classPrivateFieldGet(this,t))_classPrivateFieldGet(this,t).commitOrRemove();else if(0!==_classPrivateMethodGet(this,M,_e).size){for(const ie of _classPrivateFieldGet(this,v))ie.unselect();_classPrivateFieldGet(this,v).clear(),_classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:!1})}}isActive(ie){return _classPrivateFieldGet(this,t)===ie}getActive(){return _classPrivateFieldGet(this,t)}getMode(){return _classPrivateFieldGet(this,V)}}function z(){_classPrivateFieldGet(this,H).addEventListener("keydown",_classPrivateFieldGet(this,k))}function K(){_classPrivateFieldGet(this,H).removeEventListener("keydown",_classPrivateFieldGet(this,k))}function re(me){Object.entries(me).some(([oe,Fe])=>_classPrivateFieldGet(this,se)[oe]!==Fe)&&_classPrivateFieldGet(this,f).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,se),me)})}function te(me){_classPrivateFieldGet(this,f).dispatch("annotationeditorparamschanged",{source:this,details:me})}function pe(){if(!_classPrivateFieldGet(this,x)){_classPrivateFieldSet(this,x,!0);for(const me of _classPrivateFieldGet(this,a).values())me.enable()}}function le(){if(this.unselectAll(),_classPrivateFieldGet(this,x)){_classPrivateFieldSet(this,x,!1);for(const me of _classPrivateFieldGet(this,a).values())me.disable()}}function ue(me){const ie=_classPrivateFieldGet(this,a).get(me.pageIndex);ie?ie.addOrRebuild(me):this.addEditor(me)}function de(){if(0===_classPrivateFieldGet(this,e).size)return!0;if(1===_classPrivateFieldGet(this,e).size)for(const me of _classPrivateFieldGet(this,e).values())return me.isEmpty();return!1}function _e(me){_classPrivateFieldGet(this,v).clear();for(const ie of me)ie.isEmpty()||(_classPrivateFieldGet(this,v).add(ie),ie.select());_classPrivateMethodGet(this,S,re).call(this,{hasSelectedEditor:!0})}_defineProperty(I,"_keyboardManager",new p([[["ctrl+a","mac+meta+a"],(n=I).prototype.selectAll],[["ctrl+c","mac+meta+c"],n.prototype.copy],[["ctrl+v","mac+meta+v"],n.prototype.paste],[["ctrl+x","mac+meta+x"],n.prototype.cut],[["ctrl+z","mac+meta+z"],n.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],n.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],n.prototype.delete],[["Escape","mac+Escape"],n.prototype.unselectAll]])),s.AnnotationEditorUIManager=I},(q,s,T)=>{var n;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=function g(v){console.log("Deprecated API usage: "+v)},s.getColorValues=function R(v){const k=document.createElement("span");k.style.visibility="hidden",document.body.append(k);for(const W of v.keys()){k.style.color=W;const Q=window.getComputedStyle(k).color;v.set(W,f(Q))}k.remove()},s.getCurrentTransform=function x(v){const{a:k,b:W,c:Q,d:se,e:H,f:_}=v.getTransform();return[k,W,Q,se,H,_]},s.getCurrentTransformInverse=function V(v){const{a:k,b:W,c:Q,d:se,e:H,f:_}=v.getTransform().invertSelf();return[k,W,Q,se,H,_]},s.getFilenameFromUrl=function b(v){const k=v.indexOf("#"),W=v.indexOf("?"),Q=Math.min(k>0?k:v.length,W>0?W:v.length);return v.substring(v.lastIndexOf("/",Q)+1,Q)},s.getPdfFilenameFromUrl=function h(v,k="document.pdf"){if("string"!=typeof v)return k;if(C(v))return(0,L.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const Q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,se=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(v);let H=Q.exec(se[1])||Q.exec(se[2])||Q.exec(se[3]);if(H&&(H=H[0],H.includes("%")))try{H=Q.exec(decodeURIComponent(H))[0]}catch{}return H||k},s.getRGB=f,s.getXfaPageViewport=function o(v,{scale:k=1,rotation:W=0}){const{width:Q,height:se}=v.attributes.style,H=[0,0,parseInt(Q),parseInt(se)];return new r({viewBox:H,scale:k,rotation:W})},s.isDataScheme=C,s.isPdfFile=function m(v){return"string"==typeof v&&/\.pdf$/i.test(v)},s.isValidFetchUrl=e,s.loadScript=function a(v,k=!1){return new Promise((W,Q)=>{const se=document.createElement("script");se.src=v,se.onload=function(H){k&&se.remove(),W(H)},se.onerror=function(){Q(new Error(`Cannot load script at: ${se.src}`))},(document.head||document.documentElement).append(se)})};var d=T(9),L=T(1);s.AnnotationPrefix="pdfjs_internal_id_";class y{}function O(v){return j.apply(this,arguments)}function j(){return(j=_asyncToGenerator(function*(v,k=!1){if(e(v,document.baseURI)){const W=yield fetch(v);if(!W.ok)throw new Error(W.statusText);return k?new Uint8Array(yield W.arrayBuffer()):(0,L.stringToBytes)(yield W.text())}return new Promise((W,Q)=>{const se=new XMLHttpRequest;se.open("GET",v,!0),k&&(se.responseType="arraybuffer"),se.onreadystatechange=()=>{if(se.readyState===XMLHttpRequest.DONE){if(200===se.status||0===se.status){let H;if(k&&se.response?H=new Uint8Array(se.response):!k&&se.responseText&&(H=(0,L.stringToBytes)(se.responseText)),H)return void W(H)}Q(new Error(se.statusText))}},se.send(null)})})).apply(this,arguments)}n=y,_defineProperty(y,"CSS",96),_defineProperty(y,"PDF",72),_defineProperty(y,"PDF_TO_CSS_UNITS",n.CSS/n.PDF),s.PixelsPerInch=y,s.DOMCanvasFactory=class F extends d.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,W){const Q=this._document.createElement("canvas");return Q.width=k,Q.height=W,Q}},s.DOMCMapReaderFactory=class N extends d.BaseCMapReaderFactory{_fetchData(k,W){return O(k,this.isCompressed).then(Q=>({cMapData:Q,compressionType:W}))}},s.DOMStandardFontDataFactory=class D extends d.BaseStandardFontDataFactory{_fetchData(k){return O(k,!0)}},s.DOMSVGFactory=class w extends d.BaseSVGFactory{_createSVG(k){return document.createElementNS("http://www.w3.org/2000/svg",k)}};class r{constructor({viewBox:k,scale:W,rotation:Q,offsetX:se=0,offsetY:H=0,dontFlip:_=!1}){this.viewBox=k,this.scale=W,this.rotation=Q,this.offsetX=se,this.offsetY=H;const l=(k[2]+k[0])/2,S=(k[3]+k[1])/2;let B,P,i,c,u,M,I,z;switch((Q%=360)<0&&(Q+=360),Q){case 180:B=-1,P=0,i=0,c=1;break;case 90:B=0,P=1,i=1,c=0;break;case 270:B=0,P=-1,i=-1,c=0;break;case 0:B=1,P=0,i=0,c=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_&&(i=-i,c=-c),0===B?(u=Math.abs(S-k[1])*W+se,M=Math.abs(l-k[0])*W+H,I=Math.abs(k[3]-k[1])*W,z=Math.abs(k[2]-k[0])*W):(u=Math.abs(l-k[0])*W+se,M=Math.abs(S-k[1])*W+H,I=Math.abs(k[2]-k[0])*W,z=Math.abs(k[3]-k[1])*W),this.transform=[B*W,P*W,i*W,c*W,u-B*W*l-i*W*S,M-P*W*l-c*W*S],this.width=I,this.height=z}clone({scale:k=this.scale,rotation:W=this.rotation,offsetX:Q=this.offsetX,offsetY:se=this.offsetY,dontFlip:H=!1}={}){return new r({viewBox:this.viewBox.slice(),scale:k,rotation:W,offsetX:Q,offsetY:se,dontFlip:H})}convertToViewportPoint(k,W){return L.Util.applyTransform([k,W],this.transform)}convertToViewportRectangle(k){const W=L.Util.applyTransform([k[0],k[1]],this.transform),Q=L.Util.applyTransform([k[2],k[3]],this.transform);return[W[0],W[1],Q[0],Q[1]]}convertToPdfPoint(k,W){return L.Util.applyInverseTransform([k,W],this.transform)}}function C(v){const k=v.length;let W=0;for(;W<k&&""===v[W].trim();)W++;return"data:"===v.substring(W,W+5).toLowerCase()}function e(v,k){try{const{protocol:W}=k?new URL(v,k):new URL(v);return"http:"===W||"https:"===W}catch{return!1}}let E;function f(v){if(v.startsWith("#")){const k=parseInt(v.slice(1),16);return[(16711680&k)>>16,(65280&k)>>8,255&k]}return v.startsWith("rgb(")?v.slice(4,-1).split(",").map(k=>parseInt(k)):v.startsWith("rgba(")?v.slice(5,-1).split(",").map(k=>parseInt(k)).slice(0,3):((0,L.warn)(`Not a valid color format: "${v}"`),[0,0,0])}s.PageViewport=r,s.RenderingCancelledException=class p extends L.BaseException{constructor(k,W){super(k,"RenderingCancelledException"),this.type=W}},s.StatTimer=class t{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,L.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,L.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let W=0;for(const Q of this.times){const se=Q.name;se.length>W&&(W=se.length)}for(const Q of this.times){const se=Q.end-Q.start;k.push(`${Q.name.padEnd(W)} ${se}ms\n`)}return k.join("")}},s.PDFDateString=class A{static toDateObject(k){if(!k||"string"!=typeof k)return null;E||(E=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const W=E.exec(k);if(!W)return null;const Q=parseInt(W[1],10);let se=parseInt(W[2],10);se=se>=1&&se<=12?se-1:0;let H=parseInt(W[3],10);H=H>=1&&H<=31?H:1;let _=parseInt(W[4],10);_=_>=0&&_<=23?_:0;let l=parseInt(W[5],10);l=l>=0&&l<=59?l:0;let S=parseInt(W[6],10);S=S>=0&&S<=59?S:0;const B=W[7]||"Z";let P=parseInt(W[8],10);P=P>=0&&P<=23?P:0;let i=parseInt(W[9],10)||0;return i=i>=0&&i<=59?i:0,"-"===B?(_+=P,l+=i):"+"===B&&(_-=P,l-=i),new Date(Date.UTC(Q,se,H,_,l,S))}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var n=T(1);class d{constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(F,O){if(F<=0||O<=0)throw new Error("Invalid canvas size");const j=this._createCanvas(F,O);return{canvas:j,context:j.getContext("2d")}}reset(F,O,j){if(!F.canvas)throw new Error("Canvas is not specified");if(O<=0||j<=0)throw new Error("Invalid canvas size");F.canvas.width=O,F.canvas.height=j}destroy(F){if(!F.canvas)throw new Error("Canvas is not specified");F.canvas.width=0,F.canvas.height=0,F.canvas=null,F.context=null}_createCanvas(F,O){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=d;class L{constructor({baseUrl:F=null,isCompressed:O=!1}){this.constructor===L&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=F,this.isCompressed=O}fetch({name:F}){var O=this;return _asyncToGenerator(function*(){if(!O.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!F)throw new Error("CMap name must be specified.");const j=O.baseUrl+F+(O.isCompressed?".bcmap":"");return O._fetchData(j,O.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE).catch(D=>{throw new Error(`Unable to load ${O.isCompressed?"binary ":""}CMap at: ${j}`)})})()}_fetchData(F,O){(0,n.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=L;class G{constructor({baseUrl:F=null}){this.constructor===G&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=F}fetch({filename:F}){var O=this;return _asyncToGenerator(function*(){if(!O.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!F)throw new Error("Font filename must be specified.");const j=`${O.baseUrl}${F}`;return O._fetchData(j).catch(N=>{throw new Error(`Unable to load font data at: ${j}`)})})()}_fetchData(F){(0,n.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=G;class ${constructor(){this.constructor===$&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(F,O,j=!1){if(F<=0||O<=0)throw new Error("Invalid SVG dimensions");const N=this._createSVG("svg:svg");return N.setAttribute("version","1.1"),j||(N.setAttribute("width",`${F}px`),N.setAttribute("height",`${O}px`)),N.setAttribute("preserveAspectRatio","none"),N.setAttribute("viewBox",`0 0 ${F} ${O}`),N}createElement(F){if("string"!=typeof F)throw new Error("Invalid SVG element type");return this._createSVG(F)}_createSVG(F){(0,n.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=$},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var n=T(1);const d=3285377520,L=4294901760,G=65535;s.MurmurHash3_64=class ${constructor(F){this.h1=F?4294967295&F:d,this.h2=F?4294967295&F:d}update(F){let O,j;if("string"==typeof F){O=new Uint8Array(2*F.length),j=0;for(let a=0,g=F.length;a<g;a++){const E=F.charCodeAt(a);E<=255?O[j++]=E:(O[j++]=E>>>8,O[j++]=255&E)}}else{if(!(0,n.isArrayBuffer)(F))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");O=F.slice(),j=O.byteLength}const N=j>>2,D=j-4*N,w=new Uint32Array(O.buffer,0,N);let r=0,p=0,C=this.h1,m=this.h2;const b=3432918353,h=461845907,t=b&G,e=h&G;for(let a=0;a<N;a++)1&a?(r=w[a],r=r*b&L|r*t&G,r=r<<15|r>>>17,r=r*h&L|r*e&G,C^=r,C=C<<13|C>>>19,C=5*C+3864292196):(p=w[a],p=p*b&L|p*t&G,p=p<<15|p>>>17,p=p*h&L|p*e&G,m^=p,m=m<<13|m>>>19,m=5*m+3864292196);switch(r=0,D){case 3:r^=O[4*N+2]<<16;case 2:r^=O[4*N+1]<<8;case 1:r^=O[4*N],r=r*b&L|r*t&G,r=r<<15|r>>>17,r=r*h&L|r*e&G,1&N?C^=r:m^=r}this.h1=C,this.h2=m}hexdigest(){let F=this.h1,O=this.h2;F^=O>>>1,F=3981806797*F&L|36045*F&G,O=4283543511*O&L|(2950163797*(O<<16|F>>>16)&L)>>>16,F^=O>>>1,F=444984403*F&L|60499*F&G,O=3301882366*O&L|(3120437893*(O<<16|F>>>16)&L)>>>16,F^=O>>>1;const j=(F>>>0).toString(16),N=(O>>>0).toString(16);return j.padStart(8,"0")+N.padStart(8,"0")}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var n=T(1);class d{constructor({docId:y,onUnsupportedFeature:F,ownerDocument:O=globalThis.document,styleElement:j=null}){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=y,this._onUnsupportedFeature=F,this._document=O,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(y){this.nativeFontFaces.push(y),this._document.fonts.add(y)}insertRule(y){let F=this.styleElement;F||(F=this.styleElement=this._document.createElement("style"),F.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(F));const O=F.sheet;O.insertRule(y,O.cssRules.length)}clear(){for(const y of this.nativeFontFaces)this._document.fonts.delete(y);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(y){var F=this;return _asyncToGenerator(function*(){if(y.attached||y.missingFile)return;if(y.attached=!0,F.isFontLoadingAPISupported){const j=y.createNativeFontFace();if(j){F.addNativeFontFace(j);try{yield j.loaded}catch(N){throw F._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${j.family}': '${N}'.`),y.disableFontFace=!0,N}}return}const O=y.createFontFaceRule();if(O){if(F.insertRule(O),F.isSyncFontLoadingSupported)return;yield new Promise(j=>{const N=F._queueLoadingCallback(j);F._prepareFontLoadEvent([O],[y],N)})}})()}_queueLoadingCallback(y){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var y;const F=!(null===(y=this._document)||void 0===y||!y.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",F)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(y,F,O){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let L;s.FontLoader=L,s.FontLoader=L=class extends d{constructor(y){super(y),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let y=!1;if(typeof navigator>"u")y=!0;else{const F=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==F?void 0:F[1])>=14&&(y=!0)}return(0,n.shadow)(this,"isSyncFontLoadingSupported",y)}_queueLoadingCallback(y){const O=this.loadingContext,j={id:"pdfjs-font-loading-"+O.nextRequestId++,done:!1,complete:function F(){for((0,n.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;O.requests.length>0&&O.requests[0].done;){const N=O.requests.shift();setTimeout(N.callback,0)}},callback:y};return O.requests.push(j),j}get _loadTestFont(){return(0,n.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(y,F,O){function j(R,x){return R.charCodeAt(x)<<24|R.charCodeAt(x+1)<<16|R.charCodeAt(x+2)<<8|255&R.charCodeAt(x+3)}function N(R,x,V,v){return R.substring(0,x)+v+R.substring(x+V)}let D,w;const r=this._document.createElement("canvas");r.width=1,r.height=1;const p=r.getContext("2d");let C=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=N(h,976,b.length,b);const a=1482184792;let g=j(h,16);for(D=0,w=b.length-3;D<w;D+=4)g=g-a+j(b,D)|0;D<b.length&&(g=g-a+j(b+"XXX",D)|0),h=N(h,16,4,(0,n.string32)(g));const E=`url(data:font/opentype;base64,${btoa(h)});`;this.insertRule(`@font-face {font-family:"${b}";src:${E}}`);const o=[];for(const R of F)o.push(R.loadedName);o.push(b);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const R of o){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=R,f.append(x)}this._document.body.append(f),function m(R,x){if(C++,C>30)return(0,n.warn)("Load test font never loaded."),void x();p.font="30px "+R,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0?x():setTimeout(m.bind(null,R,x))}(b,()=>{f.remove(),O.complete()})}},s.FontFaceObject=class G{constructor(y,{isEvalSupported:F=!0,disableFontFace:O=!1,ignoreErrors:j=!1,onUnsupportedFeature:N,fontRegistry:D=null}){this.compiledGlyphs=Object.create(null);for(const w in y)this[w]=y[w];this.isEvalSupported=!1!==F,this.disableFontFace=!0===O,this.ignoreErrors=!0===j,this._onUnsupportedFeature=N,this.fontRegistry=D}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let y;if(this.cssFontInfo){const F={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(F.style=`oblique ${this.cssFontInfo.italicAngle}deg`),y=new FontFace(this.cssFontInfo.fontFamily,this.data,F)}else y=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),y}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const y=(0,n.bytesToString)(this.data),F=`url(data:${this.mimetype};base64,${btoa(y)});`;let O;if(this.cssFontInfo){let j=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(j+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),O=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${j}src:${F}}`}else O=`@font-face {font-family:"${this.loadedName}";src:${F}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,F),O}getPathGenerator(y,F){if(void 0!==this.compiledGlyphs[F])return this.compiledGlyphs[F];let O;try{O=y.get(this.loadedName+"_path_"+F)}catch(j){if(!this.ignoreErrors)throw j;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[F]=function(N,D){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const j=[];for(const N of O){const D=void 0!==N.args?N.args.join(","):"";j.push("c.",N.cmd,"(",D,");\n")}return this.compiledGlyphs[F]=new Function("c","size",j.join(""))}return this.compiledGlyphs[F]=function(j,N){for(const D of O)"scale"===D.cmd&&(D.args=[N,-N]),j[D.cmd].apply(j,D.args)}}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var n=T(8),d=T(1),L=T(13),G=T(14),$=T(3);const O=4096,D=$.isNodeJS&&typeof Path2D>"u"?-1:1e3,w=16;class p{constructor(_){this.canvasFactory=_,this.cache=Object.create(null)}getCanvas(_,l,S){let B;return void 0!==this.cache[_]?(B=this.cache[_],this.canvasFactory.reset(B,l,S)):(B=this.canvasFactory.create(l,S),this.cache[_]=B),B}delete(_){delete this.cache[_]}clear(){for(const _ in this.cache)this.canvasFactory.destroy(this.cache[_]),delete this.cache[_]}}function C(H,_,l,S,B,P,i,c,u,M){const[I,z,K,re,te,pe]=(0,n.getCurrentTransform)(H);if(0===z&&0===K){const _e=Math.round(i*I+te),ie=Math.round(c*re+pe),Fe=Math.abs(Math.round((i+u)*I+te)-_e)||1,Me=Math.abs(Math.round((c+M)*re+pe)-ie)||1;return H.setTransform(Math.sign(I),0,0,Math.sign(re),_e,ie),H.drawImage(_,l,S,B,P,0,0,Fe,Me),H.setTransform(I,z,K,re,te,pe),[Fe,Me]}if(0===I&&0===re){const _e=Math.round(c*K+te),ie=Math.round(i*z+pe),Fe=Math.abs(Math.round((c+M)*K+te)-_e)||1,Me=Math.abs(Math.round((i+u)*z+pe)-ie)||1;return H.setTransform(0,Math.sign(z),Math.sign(K),0,_e,ie),H.drawImage(_,l,S,B,P,0,0,Me,Fe),H.setTransform(I,z,K,re,te,pe),[Me,Fe]}return H.drawImage(_,l,S,B,P,i,c,u,M),[Math.hypot(I,z)*u,Math.hypot(K,re)*M]}class b{constructor(_,l){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,_,l])}clone(){const _=Object.create(this);return _.clipBox=this.clipBox.slice(),_}setCurrentPoint(_,l){this.x=_,this.y=l}updatePathMinMax(_,l,S){[l,S]=d.Util.applyTransform([l,S],_),this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,S)}updateRectMinMax(_,l){const S=d.Util.applyTransform(l,_),B=d.Util.applyTransform(l.slice(2),_);this.minX=Math.min(this.minX,S[0],B[0]),this.minY=Math.min(this.minY,S[1],B[1]),this.maxX=Math.max(this.maxX,S[0],B[0]),this.maxY=Math.max(this.maxY,S[1],B[1])}updateScalingPathMinMax(_,l){d.Util.scaleMinMax(_,l),this.minX=Math.min(this.minX,l[0]),this.maxX=Math.max(this.maxX,l[1]),this.minY=Math.min(this.minY,l[2]),this.maxY=Math.max(this.maxY,l[3])}updateCurvePathMinMax(_,l,S,B,P,i,c,u,M,I){const z=d.Util.bezierBoundingBox(l,S,B,P,i,c,u,M);if(I)return I[0]=Math.min(I[0],z[0],z[2]),I[1]=Math.max(I[1],z[0],z[2]),I[2]=Math.min(I[2],z[1],z[3]),void(I[3]=Math.max(I[3],z[1],z[3]));this.updateRectMinMax(_,z)}getPathBoundingBox(_=L.PathType.FILL,l=null){const S=[this.minX,this.minY,this.maxX,this.maxY];if(_===L.PathType.STROKE){l||(0,d.unreachable)("Stroke bounding box must include transform.");const B=d.Util.singularValueDecompose2dScale(l),P=B[0]*this.lineWidth/2,i=B[1]*this.lineWidth/2;S[0]-=P,S[1]-=i,S[2]+=P,S[3]+=i}return S}updateClipFromPath(){const _=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_){this.clipBox=_,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_=L.PathType.FILL,l=null){return d.Util.intersect(this.clipBox,this.getPathBoundingBox(_,l))}}function h(H,_,l=null){if(typeof ImageData<"u"&&_ instanceof ImageData)return void H.putImageData(_,0,0);const S=_.height,B=_.width,P=S%w,i=(S-P)/w,c=0===P?i:i+1,u=H.createImageData(B,w);let I,M=0;const z=_.data,K=u.data;let re,te,pe,le,ue,de,_e,me;if(l)switch(l.length){case 1:ue=l[0],de=l[0],_e=l[0],me=l[0];break;case 4:ue=l[0],de=l[1],_e=l[2],me=l[3]}if(_.kind===d.ImageKind.GRAYSCALE_1BPP){const ie=z.byteLength,oe=new Uint32Array(K.buffer,0,K.byteLength>>2),Fe=oe.length,Le=B+7>>3;let Me=4294967295,fe=d.FeatureTest.isLittleEndian?4278190080:255;for(me&&255===me[0]&&0===me[255]&&([Me,fe]=[fe,Me]),re=0;re<c;re++){for(pe=re<i?w:P,I=0,te=0;te<pe;te++){const Ce=ie-M;let xe=0;const Pe=Ce>Le?B:8*Ce-7,ye=-8&Pe;let U=0,ee=0;for(;xe<ye;xe+=8)ee=z[M++],oe[I++]=128&ee?Me:fe,oe[I++]=64&ee?Me:fe,oe[I++]=32&ee?Me:fe,oe[I++]=16&ee?Me:fe,oe[I++]=8&ee?Me:fe,oe[I++]=4&ee?Me:fe,oe[I++]=2&ee?Me:fe,oe[I++]=1&ee?Me:fe;for(;xe<Pe;xe++)0===U&&(ee=z[M++],U=128),oe[I++]=ee&U?Me:fe,U>>=1}for(;I<Fe;)oe[I++]=0;H.putImageData(u,0,re*w)}}else if(_.kind===d.ImageKind.RGBA_32BPP){const ie=!!(ue||de||_e);for(te=0,le=B*w*4,re=0;re<i;re++){if(K.set(z.subarray(M,M+le)),M+=le,ie)for(let oe=0;oe<le;oe+=4)ue&&(K[oe+0]=ue[K[oe+0]]),de&&(K[oe+1]=de[K[oe+1]]),_e&&(K[oe+2]=_e[K[oe+2]]);H.putImageData(u,0,te),te+=w}if(re<c){if(le=B*P*4,K.set(z.subarray(M,M+le)),ie)for(let oe=0;oe<le;oe+=4)ue&&(K[oe+0]=ue[K[oe+0]]),de&&(K[oe+1]=de[K[oe+1]]),_e&&(K[oe+2]=_e[K[oe+2]]);H.putImageData(u,0,te)}}else{if(_.kind!==d.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${_.kind}`);{const ie=!!(ue||de||_e);for(pe=w,le=B*pe,re=0;re<c;re++){for(re>=i&&(pe=P,le=B*pe),I=0,te=le;te--;)K[I++]=z[M++],K[I++]=z[M++],K[I++]=z[M++],K[I++]=255;if(ie)for(let oe=0;oe<I;oe+=4)ue&&(K[oe+0]=ue[K[oe+0]]),de&&(K[oe+1]=de[K[oe+1]]),_e&&(K[oe+2]=_e[K[oe+2]]);H.putImageData(u,0,re*w)}}}}function t(H,_){if(_.bitmap)return void H.drawImage(_.bitmap,0,0);const l=_.height,S=_.width,B=l%w,P=(l-B)/w,i=0===B?P:P+1,c=H.createImageData(S,w);let u=0;const M=_.data,I=c.data;for(let z=0;z<i;z++){const K=z<P?w:B;({srcPos:u}=(0,G.applyMaskImageData)({src:M,srcPos:u,dest:I,width:S,height:K})),H.putImageData(c,0,z*w)}}function e(H,_){const l=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let S=0,B=l.length;S<B;S++){const P=l[S];void 0!==H[P]&&(_[P]=H[P])}void 0!==H.setLineDash&&(_.setLineDash(H.getLineDash()),_.lineDashOffset=H.lineDashOffset)}function a(H,_){H.strokeStyle=H.fillStyle=_||"#000000",H.fillRule="nonzero",H.globalAlpha=1,H.lineWidth=1,H.lineCap="butt",H.lineJoin="miter",H.miterLimit=10,H.globalCompositeOperation="source-over",H.font="10px sans-serif",void 0!==H.setLineDash&&(H.setLineDash([]),H.lineDashOffset=0)}function g(H,_,l,S){const B=H.length;for(let P=3;P<B;P+=4){const i=H[P];if(0===i)H[P-3]=_,H[P-2]=l,H[P-1]=S;else if(i<255){const c=255-i;H[P-3]=H[P-3]*i+_*c>>8,H[P-2]=H[P-2]*i+l*c>>8,H[P-1]=H[P-1]*i+S*c>>8}}}function E(H,_,l){const S=H.length;for(let P=3;P<S;P+=4)_[P]=_[P]*(l?l[H[P]]:H[P])*.00392156862745098|0}function A(H,_,l){const S=H.length;for(let B=3;B<S;B+=4){const P=77*H[B-3]+152*H[B-2]+28*H[B-1];_[B]=l?_[B]*l[P>>8]>>8:_[B]*P>>16}}function R(H,_){const l=d.Util.singularValueDecompose2dScale(H);l[0]=Math.fround(l[0]),l[1]=Math.fround(l[1]);const S=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==_?_:l[0]<=S||l[1]<=S}const x=["butt","round","square"],V=["miter","round","bevel"],v={},k={};var W=new WeakSet;class Q{constructor(_,l,S,B,P,i,c,u){_classPrivateMethodInitSpec(this,W),this.ctx=_,this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=l,this.objs=S,this.canvasFactory=B,this.imageLayer=P,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=i,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==u?void 0:u.background)||null,this.foregroundColor=(null==u?void 0:u.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_,l=null){return"string"==typeof _?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):l}beginDrawing({transform:_,viewport:l,transparency:S=!1,background:B=null}){const P=this.ctx.canvas.width,i=this.ctx.canvas.height,c=B||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const u=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const M=this.backgroundColor=this.ctx.fillStyle;let I=!0,z=c;if(this.ctx.fillStyle=c,z=this.ctx.fillStyle,I="string"==typeof z&&/^#[0-9A-Fa-f]{6}$/.test(z),"#000000"===u&&"#ffffff"===M||u===M||!I)this.foregroundColor=this.backgroundColor=null;else{const[K,re,te]=(0,n.getRGB)(z),pe=ue=>(ue/=255)<=.03928?ue/12.92:((ue+.055)/1.055)**2.4,le=Math.round(.2126*pe(K)+.7152*pe(re)+.0722*pe(te));this.selectColor=(ue,de,_e)=>{const me=.2126*pe(ue)+.7152*pe(de)+.0722*pe(_e);return Math.round(me)===le?M:u}}}if(this.ctx.fillStyle=this.backgroundColor||c,this.ctx.fillRect(0,0,P,i),this.ctx.restore(),S){const u=this.cachedCanvases.getCanvas("transparent",P,i);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),a(this.ctx,this.foregroundColor),_&&(this.ctx.transform(..._),this.outputScaleX=_[0],this.outputScaleY=_[0]),this.ctx.transform(...l.transform),this.viewportScale=l.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx),this.imageLayer&&((0,n.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(_,l,S,B){const P=_.argsArray,i=_.fnArray;let c=l||0;const u=P.length;if(u===c)return c;const M=u-c>10&&"function"==typeof S,I=M?Date.now()+15:0;let z=0;const K=this.commonObjs,re=this.objs;let te;for(;;){if(void 0!==B&&c===B.nextBreakPoint)return B.breakIt(c,S),c;if(te=i[c],te!==d.OPS.dependency)this[te].apply(this,P[c]);else for(const pe of P[c]){const le=pe.startsWith("g_")?K:re;if(!le.has(pe))return le.get(pe,S),c}if(c++,c===u)return c;if(M&&++z>10){if(Date.now()>I)return S(),c;z=0}}}endDrawing(){_classPrivateMethodGet(this,W,se).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _ of this._cachedBitmapsMap.values()){for(const l of _.values())typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&(l.width=l.height=0);_.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(_,l){const S=_.width,B=_.height;let I,z,P=Math.max(Math.hypot(l[0],l[1]),1),i=Math.max(Math.hypot(l[2],l[3]),1),c=S,u=B,M="prescale1";for(;P>2&&c>1||i>2&&u>1;){let K=c,re=u;P>2&&c>1&&(K=Math.ceil(c/2),P/=c/K),i>2&&u>1&&(re=Math.ceil(u/2),i/=u/re),I=this.cachedCanvases.getCanvas(M,K,re),z=I.context,z.clearRect(0,0,K,re),z.drawImage(_,0,0,c,u,0,0,K,re),_=I.canvas,c=K,u=re,M="prescale1"===M?"prescale2":"prescale1"}return{img:_,paintWidth:c,paintHeight:u}}_createMaskCanvas(_){const l=this.ctx,{width:S,height:B}=_,P=this.current.fillColor,i=this.current.patternFill,c=(0,n.getCurrentTransform)(l);let u,M,I,z;if((_.bitmap||_.data)&&_.count>1){const Fe=_.bitmap||_.data.buffer,Le=c.slice(0,4);M=JSON.stringify(i?Le:[Le,P]),u=this._cachedBitmapsMap.get(Fe),u||(u=new Map,this._cachedBitmapsMap.set(Fe,u));const Me=u.get(M);if(Me&&!i)return{canvas:Me,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};I=Me}I||(z=this.cachedCanvases.getCanvas("maskCanvas",S,B),t(z.context,_));let K=d.Util.transform(c,[1/S,0,0,-1/B,0,0]);K=d.Util.transform(K,[1,0,0,1,0,-B]);const re=d.Util.applyTransform([0,0],K),te=d.Util.applyTransform([S,B],K),pe=d.Util.normalizeRect([re[0],re[1],te[0],te[1]]),le=Math.round(pe[2]-pe[0])||1,ue=Math.round(pe[3]-pe[1])||1,de=this.cachedCanvases.getCanvas("fillCanvas",le,ue),_e=de.context,me=Math.min(re[0],te[0]),ie=Math.min(re[1],te[1]);_e.translate(-me,-ie),_e.transform(...K),I||(I=this._scaleImage(z.canvas,(0,n.getCurrentTransformInverse)(_e)),I=I.img,u&&i&&u.set(M,I)),_e.imageSmoothingEnabled=R((0,n.getCurrentTransform)(_e),_.interpolate),C(_e,I,0,0,I.width,I.height,0,0,S,B),_e.globalCompositeOperation="source-in";const oe=d.Util.transform((0,n.getCurrentTransformInverse)(_e),[1,0,0,1,-me,-ie]);return _e.fillStyle=i?P.getPattern(l,this,oe,L.PathType.FILL):P,_e.fillRect(0,0,S,B),u&&!i&&(this.cachedCanvases.delete("fillCanvas"),u.set(M,de.canvas)),{canvas:de.canvas,offsetX:Math.round(me),offsetY:Math.round(ie)}}setLineWidth(_){_!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=_,this.ctx.lineWidth=_}setLineCap(_){this.ctx.lineCap=x[_]}setLineJoin(_){this.ctx.lineJoin=V[_]}setMiterLimit(_){this.ctx.miterLimit=_}setDash(_,l){const S=this.ctx;void 0!==S.setLineDash&&(S.setLineDash(_),S.lineDashOffset=l)}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let l=0,S=_.length;l<S;l++){const B=_[l],i=B[1];switch(B[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=B[1];break;case"ca":this.current.fillAlpha=B[1],this.ctx.globalAlpha=B[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _=this.inSMaskMode;this.current.activeSMask&&!_?this.beginSMaskMode():!this.current.activeSMask&&_&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const B=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=B.context;const P=this.ctx;P.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),e(this.suspendedCtx,P),function r(H,_){if(H._removeMirroring)throw new Error("Context is already forwarding operations.");H.__originalSave=H.save,H.__originalRestore=H.restore,H.__originalRotate=H.rotate,H.__originalScale=H.scale,H.__originalTranslate=H.translate,H.__originalTransform=H.transform,H.__originalSetTransform=H.setTransform,H.__originalResetTransform=H.resetTransform,H.__originalClip=H.clip,H.__originalMoveTo=H.moveTo,H.__originalLineTo=H.lineTo,H.__originalBezierCurveTo=H.bezierCurveTo,H.__originalRect=H.rect,H.__originalClosePath=H.closePath,H.__originalBeginPath=H.beginPath,H._removeMirroring=()=>{H.save=H.__originalSave,H.restore=H.__originalRestore,H.rotate=H.__originalRotate,H.scale=H.__originalScale,H.translate=H.__originalTranslate,H.transform=H.__originalTransform,H.setTransform=H.__originalSetTransform,H.resetTransform=H.__originalResetTransform,H.clip=H.__originalClip,H.moveTo=H.__originalMoveTo,H.lineTo=H.__originalLineTo,H.bezierCurveTo=H.__originalBezierCurveTo,H.rect=H.__originalRect,H.closePath=H.__originalClosePath,H.beginPath=H.__originalBeginPath,delete H._removeMirroring},H.save=function(){_.save(),this.__originalSave()},H.restore=function(){_.restore(),this.__originalRestore()},H.translate=function(S,B){_.translate(S,B),this.__originalTranslate(S,B)},H.scale=function(S,B){_.scale(S,B),this.__originalScale(S,B)},H.transform=function(S,B,P,i,c,u){_.transform(S,B,P,i,c,u),this.__originalTransform(S,B,P,i,c,u)},H.setTransform=function(S,B,P,i,c,u){_.setTransform(S,B,P,i,c,u),this.__originalSetTransform(S,B,P,i,c,u)},H.resetTransform=function(){_.resetTransform(),this.__originalResetTransform()},H.rotate=function(S){_.rotate(S),this.__originalRotate(S)},H.clip=function(S){_.clip(S),this.__originalClip(S)},H.moveTo=function(l,S){_.moveTo(l,S),this.__originalMoveTo(l,S)},H.lineTo=function(l,S){_.lineTo(l,S),this.__originalLineTo(l,S)},H.bezierCurveTo=function(l,S,B,P,i,c){_.bezierCurveTo(l,S,B,P,i,c),this.__originalBezierCurveTo(l,S,B,P,i,c)},H.rect=function(l,S,B,P){_.rect(l,S,B,P),this.__originalRect(l,S,B,P)},H.closePath=function(){_.closePath(),this.__originalClosePath()},H.beginPath=function(){_.beginPath(),this.__originalBeginPath()}}(P,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),e(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_){this.current.activeSMask&&(_?(_[0]=Math.floor(_[0]),_[1]=Math.floor(_[1]),_[2]=Math.ceil(_[2]),_[3]=Math.ceil(_[3])):_=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function f(H,_,l,S){const B=S[0],P=S[1],i=S[2]-B,c=S[3]-P;0===i||0===c||(function o(H,_,l,S,B,P,i,c,u,M,I){const z=!!P,K=z?P[0]:0,re=z?P[1]:0,te=z?P[2]:0;let pe;pe="Luminosity"===B?A:E;const ue=Math.min(S,Math.ceil(1048576/l));for(let de=0;de<S;de+=ue){const _e=Math.min(ue,S-de),me=H.getImageData(c-M,de+(u-I),l,_e),ie=_.getImageData(c,de+u,l,_e);z&&g(me.data,K,re,te),pe(me.data,ie.data,i),_.putImageData(ie,c,de+u)}}(_.context,l,i,c,_.subtype,_.backdrop,_.transferMap,B,P,_.offsetX,_.offsetY),H.save(),H.globalAlpha=1,H.globalCompositeOperation="source-over",H.setTransform(1,0,0,1,0,0),H.drawImage(l.canvas,0,0),H.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,_),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(e(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _=this.current;this.stateStack.push(_),this.current=_.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),e(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(_,l,S,B,P,i){this.ctx.transform(_,l,S,B,P,i),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(_,l,S){const B=this.ctx,P=this.current;let u,M,i=P.x,c=P.y;const I=(0,n.getCurrentTransform)(B),z=0===I[0]&&0===I[3]||0===I[1]&&0===I[2],K=z?S.slice(0):null;for(let re=0,te=0,pe=_.length;re<pe;re++)switch(0|_[re]){case d.OPS.rectangle:i=l[te++],c=l[te++];const le=l[te++],ue=l[te++],de=i+le,_e=c+ue;B.moveTo(i,c),0===le||0===ue?B.lineTo(de,_e):(B.lineTo(de,c),B.lineTo(de,_e),B.lineTo(i,_e)),z||P.updateRectMinMax(I,[i,c,de,_e]),B.closePath();break;case d.OPS.moveTo:i=l[te++],c=l[te++],B.moveTo(i,c),z||P.updatePathMinMax(I,i,c);break;case d.OPS.lineTo:i=l[te++],c=l[te++],B.lineTo(i,c),z||P.updatePathMinMax(I,i,c);break;case d.OPS.curveTo:u=i,M=c,i=l[te+4],c=l[te+5],B.bezierCurveTo(l[te],l[te+1],l[te+2],l[te+3],i,c),P.updateCurvePathMinMax(I,u,M,l[te],l[te+1],l[te+2],l[te+3],i,c,K),te+=6;break;case d.OPS.curveTo2:u=i,M=c,B.bezierCurveTo(i,c,l[te],l[te+1],l[te+2],l[te+3]),P.updateCurvePathMinMax(I,u,M,i,c,l[te],l[te+1],l[te+2],l[te+3],K),i=l[te+2],c=l[te+3],te+=4;break;case d.OPS.curveTo3:u=i,M=c,i=l[te+2],c=l[te+3],B.bezierCurveTo(l[te],l[te+1],i,c,i,c),P.updateCurvePathMinMax(I,u,M,l[te],l[te+1],i,c,i,c,K),te+=4;break;case d.OPS.closePath:B.closePath()}z&&P.updateScalingPathMinMax(I,K),P.setCurrentPoint(i,c)}closePath(){this.ctx.closePath()}stroke(_){_=!(typeof _<"u")||_;const l=this.ctx,S=this.current.strokeColor;l.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof S&&null!=S&&S.getPattern?(l.save(),l.strokeStyle=S.getPattern(l,this,(0,n.getCurrentTransformInverse)(l),L.PathType.STROKE),this.rescaleAndStroke(!1),l.restore()):this.rescaleAndStroke(!0)),_&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_){_=!(typeof _<"u")||_;const l=this.ctx,S=this.current.fillColor;let P=!1;this.current.patternFill&&(l.save(),l.fillStyle=S.getPattern(l,this,(0,n.getCurrentTransformInverse)(l),L.PathType.FILL),P=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),P&&l.restore(),_&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=v}eoClip(){this.pendingClip=k}beginText(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _=this.pendingTextPaths,l=this.ctx;if(void 0!==_){l.save(),l.beginPath();for(const S of _)l.setTransform(...S.transform),l.translate(S.x,S.y),S.addToPath(l,S.fontSize);l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}else l.beginPath()}setCharSpacing(_){this.current.charSpacing=_}setWordSpacing(_){this.current.wordSpacing=_}setHScale(_){this.current.textHScale=_/100}setLeading(_){this.current.leading=-_}setFont(_,l){const S=this.commonObjs.get(_),B=this.current;if(!S)throw new Error(`Can't find font for ${_}`);if(B.fontMatrix=S.fontMatrix||d.FONT_IDENTITY_MATRIX,(0===B.fontMatrix[0]||0===B.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+_),l<0?(l=-l,B.fontDirection=-1):B.fontDirection=1,this.current.font=S,this.current.fontSize=l,S.isType3Font)return;let i="normal";S.black?i="900":S.bold&&(i="bold");const c=S.italic?"italic":"normal",u=`"${S.loadedName||"sans-serif"}", ${S.fallbackName}`;let M=l;l<16?M=16:l>100&&(M=100),this.current.fontSizeScale=l/M,this.ctx.font=`${c} ${i} ${M}px ${u}`}setTextRenderingMode(_){this.current.textRenderingMode=_}setTextRise(_){this.current.textRise=_}moveText(_,l){this.current.x=this.current.lineX+=_,this.current.y=this.current.lineY+=l}setLeadingMoveText(_,l){this.setLeading(-l),this.moveText(_,l)}setTextMatrix(_,l,S,B,P,i){this.current.textMatrix=[_,l,S,B,P,i],this.current.textMatrixScale=Math.hypot(_,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_,l,S,B){const P=this.ctx,i=this.current,c=i.font,u=i.textRenderingMode,M=i.fontSize/i.fontSizeScale,I=u&d.TextRenderingMode.FILL_STROKE_MASK,z=!!(u&d.TextRenderingMode.ADD_TO_PATH_FLAG),K=i.patternFill&&!c.missingFile;let re;(c.disableFontFace||z||K)&&(re=c.getPathGenerator(this.commonObjs,_)),c.disableFontFace||K?(P.save(),P.translate(l,S),P.beginPath(),re(P,M),B&&P.setTransform(...B),(I===d.TextRenderingMode.FILL||I===d.TextRenderingMode.FILL_STROKE)&&P.fill(),(I===d.TextRenderingMode.STROKE||I===d.TextRenderingMode.FILL_STROKE)&&P.stroke(),P.restore()):((I===d.TextRenderingMode.FILL||I===d.TextRenderingMode.FILL_STROKE)&&P.fillText(_,l,S),(I===d.TextRenderingMode.STROKE||I===d.TextRenderingMode.FILL_STROKE)&&P.strokeText(_,l,S)),z&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(P),x:l,y:S,fontSize:M,addToPath:re})}get isFontSubpixelAAEnabled(){const{context:_}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_.scale(1.5,1),_.fillText("I",0,10);const l=_.getImageData(0,0,10,10).data;let S=!1;for(let B=3;B<l.length;B+=4)if(l[B]>0&&l[B]<255){S=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",S)}showText(_){const l=this.current,S=l.font;if(S.isType3Font)return this.showType3Text(_);const B=l.fontSize;if(0===B)return;const P=this.ctx,i=l.fontSizeScale,c=l.charSpacing,u=l.wordSpacing,M=l.fontDirection,I=l.textHScale*M,z=_.length,K=S.vertical,re=K?1:-1,te=S.defaultVMetrics,pe=B*l.fontMatrix[0],le=l.textRenderingMode===d.TextRenderingMode.FILL&&!S.disableFontFace&&!l.patternFill;let ue;if(P.save(),P.transform(...l.textMatrix),P.translate(l.x,l.y+l.textRise),P.scale(I,M>0?-1:1),l.patternFill){P.save();const oe=l.fillColor.getPattern(P,this,(0,n.getCurrentTransformInverse)(P),L.PathType.FILL);ue=(0,n.getCurrentTransform)(P),P.restore(),P.fillStyle=oe}let de=l.lineWidth;const _e=l.textMatrixScale;if(0===_e||0===de){const oe=l.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(oe===d.TextRenderingMode.STROKE||oe===d.TextRenderingMode.FILL_STROKE)&&(de=this.getSinglePixelWidth())}else de/=_e;1!==i&&(P.scale(i,i),de/=i),P.lineWidth=de;let ie,me=0;for(ie=0;ie<z;++ie){const oe=_[ie];if("number"==typeof oe){me+=re*oe*B/1e3;continue}let Fe=!1;const Le=(oe.isSpace?u:0)+c,Me=oe.fontChar,fe=oe.accent;let Ce,xe,ye,Pe=oe.width;if(K){const U=oe.vmetric||te,ee=-(oe.vmetric?U[1]:.5*Pe)*pe;Pe=U?-U[0]:Pe,Ce=ee/i,xe=(me+U[2]*pe)/i}else Ce=me/i,xe=0;if(S.remeasure&&Pe>0){const U=1e3*P.measureText(Me).width/B*i;if(Pe<U&&this.isFontSubpixelAAEnabled){const ee=Pe/U;Fe=!0,P.save(),P.scale(ee,1),Ce/=ee}else Pe!==U&&(Ce+=(Pe-U)/2e3*B/i)}this.contentVisible&&(oe.isInFont||S.missingFile)&&(le&&!fe?P.fillText(Me,Ce,xe):(this.paintChar(Me,Ce,xe,ue),fe&&this.paintChar(fe.fontChar,Ce+B*fe.offset.x/i,xe-B*fe.offset.y/i,ue))),ye=K?Pe*pe-Le*M:Pe*pe+Le*M,me+=ye,Fe&&P.restore()}K?l.y-=me:l.x+=me*I,P.restore(),this.compose()}showType3Text(_){const l=this.ctx,S=this.current,B=S.font,P=S.fontSize,i=S.fontDirection,c=B.vertical?1:-1,u=S.charSpacing,M=S.wordSpacing,I=S.textHScale*i,z=S.fontMatrix||d.FONT_IDENTITY_MATRIX,K=_.length;let te,pe,le,ue;if(S.textRenderingMode!==d.TextRenderingMode.INVISIBLE&&0!==P){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,l.save(),l.transform(...S.textMatrix),l.translate(S.x,S.y),l.scale(I,i),te=0;te<K;++te){if(pe=_[te],"number"==typeof pe){ue=c*pe*P/1e3,this.ctx.translate(ue,0),S.x+=ue*I;continue}const de=(pe.isSpace?M:0)+u,_e=B.charProcOperatorList[pe.operatorListId];_e?(this.contentVisible&&(this.processingType3=pe,this.save(),l.scale(P,P),l.transform(...z),this.executeOperatorList(_e),this.restore()),le=d.Util.applyTransform([pe.width,0],z)[0]*P+de,l.translate(le,0),S.x+=le*I):(0,d.warn)(`Type3 character "${pe.operatorListId}" is not available.`)}l.restore(),this.processingType3=null}}setCharWidth(_,l){}setCharWidthAndBounds(_,l,S,B,P,i){this.ctx.rect(S,B,P-S,i-B),this.ctx.clip(),this.endPath()}getColorN_Pattern(_){let l;if("TilingPattern"===_[0]){const S=_[1],B=this.baseTransform||(0,n.getCurrentTransform)(this.ctx);l=new L.TilingPattern(_,S,this.ctx,{createCanvasGraphics:i=>new Q(i,this.commonObjs,this.objs,this.canvasFactory)},B)}else l=this._getPattern(_[1],_[2]);return l}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_,l,S){var B;const P=(null===(B=this.selectColor)||void 0===B?void 0:B.call(this,_,l,S))||d.Util.makeHexColor(_,l,S);this.ctx.strokeStyle=P,this.current.strokeColor=P}setFillRGBColor(_,l,S){var B;const P=(null===(B=this.selectColor)||void 0===B?void 0:B.call(this,_,l,S))||d.Util.makeHexColor(_,l,S);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1}_getPattern(_,l=null){let S;return this.cachedPatterns.has(_)?S=this.cachedPatterns.get(_):(S=(0,L.getShadingPattern)(this.objs.get(_)),this.cachedPatterns.set(_,S)),l&&(S.matrix=l),S}shadingFill(_){if(!this.contentVisible)return;const l=this.ctx;this.save();const S=this._getPattern(_);l.fillStyle=S.getPattern(l,this,(0,n.getCurrentTransformInverse)(l),L.PathType.SHADING);const B=(0,n.getCurrentTransformInverse)(l);if(B){const P=l.canvas,i=P.width,c=P.height,u=d.Util.applyTransform([0,0],B),M=d.Util.applyTransform([0,c],B),I=d.Util.applyTransform([i,0],B),z=d.Util.applyTransform([i,c],B),K=Math.min(u[0],M[0],I[0],z[0]),re=Math.min(u[1],M[1],I[1],z[1]),te=Math.max(u[0],M[0],I[0],z[0]),pe=Math.max(u[1],M[1],I[1],z[1]);this.ctx.fillRect(K,re,te-K,pe-re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,d.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,d.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_,l){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_)&&6===_.length&&this.transform(..._),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),l)&&(this.ctx.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),l),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const l=this.ctx;_.isolated||(0,d.info)("TODO: Support non-isolated groups."),_.knockout&&(0,d.warn)("Knockout groups not supported.");const S=(0,n.getCurrentTransform)(l);if(_.matrix&&l.transform(..._.matrix),!_.bbox)throw new Error("Bounding box is required.");let B=d.Util.getAxialAlignedBoundingBox(_.bbox,(0,n.getCurrentTransform)(l));B=d.Util.intersect(B,[0,0,l.canvas.width,l.canvas.height])||[0,0,0,0];const i=Math.floor(B[0]),c=Math.floor(B[1]);let u=Math.max(Math.ceil(B[2])-i,1),M=Math.max(Math.ceil(B[3])-c,1),I=1,z=1;u>O&&(I=u/O,u=O),M>O&&(z=M/O,M=O),this.current.startNewPathAndClipBox([0,0,u,M]);let K="groupAt"+this.groupLevel;_.smask&&(K+="_smask_"+this.smaskCounter++%2);const re=this.cachedCanvases.getCanvas(K,u,M),te=re.context;te.scale(1/I,1/z),te.translate(-i,-c),te.transform(...S),_.smask?this.smaskStack.push({canvas:re.canvas,context:te,offsetX:i,offsetY:c,scaleX:I,scaleY:z,subtype:_.smask.subtype,backdrop:_.smask.backdrop,transferMap:_.smask.transferMap||null,startTransformInverse:null}):(l.setTransform(1,0,0,1,0,0),l.translate(i,c),l.scale(I,z),l.save()),e(l,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}endGroup(_){if(!this.contentVisible)return;this.groupLevel--;const l=this.ctx,S=this.groupStack.pop();if(this.ctx=S,this.ctx.imageSmoothingEnabled=!1,_.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const B=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...B);const P=d.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],B);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(P)}}beginAnnotation(_,l,S,B,P){if(_classPrivateMethodGet(this,W,se).call(this),a(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(l)&&4===l.length){const i=l[2]-l[0],c=l[3]-l[1];if(P&&this.annotationCanvasMap){(S=S.slice())[4]-=l[0],S[5]-=l[1],(l=l.slice())[0]=l[1]=0,l[2]=i,l[3]=c;const[u,M]=d.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:I}=this,z=Math.ceil(i*this.outputScaleX*I),K=Math.ceil(c*this.outputScaleY*I);this.annotationCanvas=this.canvasFactory.create(z,K);const{canvas:re,context:te}=this.annotationCanvas;this.annotationCanvasMap.set(_,re),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.setTransform(u,0,0,-M,0,c*M),a(this.ctx,this.foregroundColor)}else a(this.ctx,this.foregroundColor),this.ctx.rect(l[0],l[1],i,c),this.ctx.clip(),this.endPath()}this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...S),this.transform(...B)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_){if(!this.contentVisible)return;const l=_.count;(_=this.getObject(_.data,_)).count=l;const S=this.ctx,B=this.processingType3;if(B&&(void 0===B.compiled&&(B.compiled=function m(H){const{width:_,height:l}=H;if(_>D||l>D)return null;const B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=_+1;let c,u,M,i=new Uint8Array(P*(l+1));const I=_+7&-8;let z=new Uint8Array(I*l),K=0;for(const ue of H.data){let de=128;for(;de>0;)z[K++]=ue&de?0:255,de>>=1}let re=0;for(K=0,0!==z[K]&&(i[0]=1,++re),u=1;u<_;u++)z[K]!==z[K+1]&&(i[u]=z[K]?2:1,++re),K++;for(0!==z[K]&&(i[u]=2,++re),c=1;c<l;c++){K=c*I,M=c*P,z[K-I]!==z[K]&&(i[M]=z[K]?1:8,++re);let ue=(z[K]?4:0)+(z[K-I]?8:0);for(u=1;u<_;u++)ue=(ue>>2)+(z[K+1]?4:0)+(z[K-I+1]?8:0),B[ue]&&(i[M+u]=B[ue],++re),K++;if(z[K-I]!==z[K]&&(i[M+u]=z[K]?2:4,++re),re>1e3)return null}for(K=I*(l-1),M=c*P,0!==z[K]&&(i[M]=8,++re),u=1;u<_;u++)z[K]!==z[K+1]&&(i[M+u]=z[K]?4:8,++re),K++;if(0!==z[K]&&(i[M+u]=4,++re),re>1e3)return null;const te=new Int32Array([0,P,-1,0,-P,0,0,0,1]),pe=new Path2D;for(c=0;re&&c<=l;c++){let ue=c*P;const de=ue+_;for(;ue<de&&!i[ue];)ue++;if(ue===de)continue;pe.moveTo(ue%P,c);const _e=ue;let me=i[ue];do{const ie=te[me];do{ue+=ie}while(!i[ue]);const oe=i[ue];5!==oe&&10!==oe?(me=oe,i[ue]=0):(me=oe&51*me>>4,i[ue]&=me>>2|me<<2),pe.lineTo(ue%P,ue/P|0),i[ue]||--re}while(_e!==ue);--c}return z=null,i=null,function(ue){ue.save(),ue.scale(1/_,-1/l),ue.translate(0,-l),ue.fill(pe),ue.beginPath(),ue.restore()}}(_)),B.compiled))return void B.compiled(S);const P=this._createMaskCanvas(_),i=P.canvas;S.save(),S.setTransform(1,0,0,1,0,0),S.drawImage(i,P.offsetX,P.offsetY),S.restore(),this.compose()}paintImageMaskXObjectRepeat(_,l,S=0,B=0,P,i){if(!this.contentVisible)return;_=this.getObject(_.data,_);const c=this.ctx;c.save();const u=(0,n.getCurrentTransform)(c);c.transform(l,S,B,P,0,0);const M=this._createMaskCanvas(_);c.setTransform(1,0,0,1,0,0);for(let I=0,z=i.length;I<z;I+=2){const K=d.Util.transform(u,[l,S,B,P,i[I],i[I+1]]),[re,te]=d.Util.applyTransform([0,0],K);c.drawImage(M.canvas,re,te)}c.restore(),this.compose()}paintImageMaskXObjectGroup(_){if(!this.contentVisible)return;const l=this.ctx,S=this.current.fillColor,B=this.current.patternFill;for(const P of _){const{data:i,width:c,height:u,transform:M}=P,I=this.cachedCanvases.getCanvas("maskCanvas",c,u),z=I.context;z.save(),t(z,this.getObject(i,P)),z.globalCompositeOperation="source-in",z.fillStyle=B?S.getPattern(z,this,(0,n.getCurrentTransformInverse)(l),L.PathType.FILL):S,z.fillRect(0,0,c,u),z.restore(),l.save(),l.transform(...M),l.scale(1,-1),C(l,I.canvas,0,0,c,u,0,-1,1,1),l.restore()}this.compose()}paintImageXObject(_){if(!this.contentVisible)return;const l=this.getObject(_);l?this.paintInlineImageXObject(l):(0,d.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(_,l,S,B){if(!this.contentVisible)return;const P=this.getObject(_);if(!P)return void(0,d.warn)("Dependent image isn't ready yet");const i=P.width,c=P.height,u=[];for(let M=0,I=B.length;M<I;M+=2)u.push({transform:[l,0,0,S,B[M],B[M+1]],x:0,y:0,w:i,h:c});this.paintInlineImageXObjectGroup(P,u)}paintInlineImageXObject(_){if(!this.contentVisible)return;const l=_.width,S=_.height,B=this.ctx;let P;if(this.save(),B.scale(1/l,-1/S),"function"==typeof HTMLElement&&_ instanceof HTMLElement||!_.data)P=_;else{const M=this.cachedCanvases.getCanvas("inlineImage",l,S);h(M.context,_,this.current.transferMaps),P=M.canvas}const i=this._scaleImage(P,(0,n.getCurrentTransformInverse)(B));B.imageSmoothingEnabled=R((0,n.getCurrentTransform)(B),_.interpolate);const[c,u]=C(B,i.img,0,0,i.paintWidth,i.paintHeight,0,-S,l,S);if(this.imageLayer){const[M,I]=d.Util.applyTransform([0,-S],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:M,top:I,width:c,height:u})}this.compose(),this.restore()}paintInlineImageXObjectGroup(_,l){if(!this.contentVisible)return;const S=this.ctx,B=_.width,P=_.height,i=this.cachedCanvases.getCanvas("inlineImage",B,P);h(i.context,_,this.current.transferMaps);for(const u of l){if(S.save(),S.transform(...u.transform),S.scale(1,-1),C(S,i.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){const[M,I]=d.Util.applyTransform([u.x,u.y],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:M,top:I,width:B,height:P})}S.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_){}markPointProps(_,l){}beginMarkedContent(_){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_,l){this.markedContentStack.push("OC"===_?{visible:this.optionalContentConfig.isVisible(l)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_){const l=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_);const S=this.ctx;this.pendingClip&&(l||(this.pendingClip===k?S.clip("evenodd"):S.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),S.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _=(0,n.getCurrentTransform)(this.ctx);if(0===_[1]&&0===_[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_[0]),Math.abs(_[3]));else{const l=Math.abs(_[0]*_[3]-_[2]*_[1]),S=Math.hypot(_[0],_[2]),B=Math.hypot(_[1],_[3]);this._cachedGetSinglePixelWidth=Math.max(S,B)/l}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:_}=this.current,l=(0,n.getCurrentTransform)(this.ctx);let S,B;if(0===l[1]&&0===l[2]){const P=Math.abs(l[0]),i=Math.abs(l[3]);if(0===_)S=1/P,B=1/i;else{const c=P*_,u=i*_;S=c<1?1/c:1,B=u<1?1/u:1}}else{const P=Math.abs(l[0]*l[3]-l[2]*l[1]),i=Math.hypot(l[0],l[1]),c=Math.hypot(l[2],l[3]);if(0===_)S=c/P,B=i/P;else{const u=_*P;S=c>u?c/u:1,B=i>u?i/u:1}}this._cachedScaleForStroking=[S,B]}return this._cachedScaleForStroking}rescaleAndStroke(_){const{ctx:l}=this,{lineWidth:S}=this.current,[B,P]=this.getScaleForStroking();if(l.lineWidth=S||1,1===B&&1===P)return void l.stroke();let i,c,u;_&&(i=(0,n.getCurrentTransform)(l),c=l.getLineDash().slice(),u=l.lineDashOffset),l.scale(B,P);const M=Math.max(B,P);l.setLineDash(l.getLineDash().map(I=>I/M)),l.lineDashOffset/=M,l.stroke(),_&&(l.setTransform(...i),l.setLineDash(c),l.lineDashOffset=u)}isContentVisible(){for(let _=this.markedContentStack.length-1;_>=0;_--)if(!this.markedContentStack[_].visible)return!1;return!0}}function se(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}s.CanvasGraphics=Q;for(const H in d.OPS)void 0!==Q.prototype[H]&&(Q.prototype[d.OPS[H]]=Q.prototype[H])},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=function w(C){switch(C[0]){case"RadialAxial":return new F(C);case"Mesh":return new N(C);case"Dummy":return new D}throw new Error(`Unknown IR type: ${C[0]}`)};var n=T(1),d=T(8),L=T(3);const G={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $(C,m){if(!m||L.isNodeJS)return;const b=m[2]-m[0],h=m[3]-m[1],t=new Path2D;t.rect(m[0],m[1],b,h),C.clip(t)}s.PathType=G;class y{constructor(){this.constructor===y&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class F extends y{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let b;"axial"===this._type?b=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(b=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const h of this._colorStops)b.addColorStop(h[0],h[1]);return b}getPattern(m,b,h,t){let e;if(t===G.STROKE||t===G.FILL){const a=b.current.getClippedPathBoundingBox(t,(0,d.getCurrentTransform)(m))||[0,0,0,0],g=Math.ceil(a[2]-a[0])||1,E=Math.ceil(a[3]-a[1])||1,A=b.cachedCanvases.getCanvas("pattern",g,E,!0),o=A.context;o.clearRect(0,0,o.canvas.width,o.canvas.height),o.beginPath(),o.rect(0,0,o.canvas.width,o.canvas.height),o.translate(-a[0],-a[1]),h=n.Util.transform(h,[1,0,0,1,a[0],a[1]]),o.transform(...b.baseTransform),this.matrix&&o.transform(...this.matrix),$(o,this._bbox),o.fillStyle=this._createGradient(o),o.fill(),e=m.createPattern(A.canvas,"no-repeat");const f=new DOMMatrix(h);try{e.setTransform(f)}catch(R){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${null==R?void 0:R.message}".`)}}else $(m,this._bbox),e=this._createGradient(m);return e}}function O(C,m,b,h,t,e,a,g){const E=m.coords,A=m.colors,o=C.data,f=4*C.width;let R;E[b+1]>E[h+1]&&(R=b,b=h,h=R,R=e,e=a,a=R),E[h+1]>E[t+1]&&(R=h,h=t,t=R,R=a,a=g,g=R),E[b+1]>E[h+1]&&(R=b,b=h,h=R,R=e,e=a,a=R);const x=(E[b]+m.offsetX)*m.scaleX,V=(E[b+1]+m.offsetY)*m.scaleY,v=(E[h]+m.offsetX)*m.scaleX,k=(E[h+1]+m.offsetY)*m.scaleY,W=(E[t]+m.offsetX)*m.scaleX,Q=(E[t+1]+m.offsetY)*m.scaleY;if(V>=Q)return;const se=A[e],H=A[e+1],_=A[e+2],l=A[a],S=A[a+1],B=A[a+2],P=A[g],i=A[g+1],c=A[g+2],u=Math.round(V),M=Math.round(Q);let I,z,K,re,te,pe,le,ue;for(let de=u;de<=M;de++){if(de<k){let Fe;Fe=de<V?0:(V-de)/(V-k),I=x-(x-v)*Fe,z=se-(se-l)*Fe,K=H-(H-S)*Fe,re=_-(_-B)*Fe}else{let Fe;Fe=de>Q?1:k===Q?0:(k-de)/(k-Q),I=v-(v-W)*Fe,z=l-(l-P)*Fe,K=S-(S-i)*Fe,re=B-(B-c)*Fe}let _e;_e=de<V?0:de>Q?1:(V-de)/(V-Q),te=x-(x-W)*_e,pe=se-(se-P)*_e,le=H-(H-i)*_e,ue=_-(_-c)*_e;const me=Math.round(Math.min(I,te)),ie=Math.round(Math.max(I,te));let oe=f*de+4*me;for(let Fe=me;Fe<=ie;Fe++)_e=(I-Fe)/(I-te),_e<0?_e=0:_e>1&&(_e=1),o[oe++]=z-(z-pe)*_e|0,o[oe++]=K-(K-le)*_e|0,o[oe++]=re-(re-ue)*_e|0,o[oe++]=255}}function j(C,m,b){const h=m.coords,t=m.colors;let e,a;switch(m.type){case"lattice":const g=m.verticesPerRow,E=Math.floor(h.length/g)-1,A=g-1;for(e=0;e<E;e++){let o=e*g;for(let f=0;f<A;f++,o++)O(C,b,h[o],h[o+1],h[o+g],t[o],t[o+1],t[o+g]),O(C,b,h[o+g+1],h[o+1],h[o+g],t[o+g+1],t[o+1],t[o+g])}break;case"triangles":for(e=0,a=h.length;e<a;e+=3)O(C,b,h[e],h[e+1],h[e+2],t[e],t[e+1],t[e+2]);break;default:throw new Error("illegal figure")}}class N extends y{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,b,h){const g=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-g,o=Math.ceil(this._bounds[3])-E,f=Math.min(Math.ceil(Math.abs(A*m[0]*1.1)),3e3),R=Math.min(Math.ceil(Math.abs(o*m[1]*1.1)),3e3),x=A/f,V=o/R,v={coords:this._coords,colors:this._colors,offsetX:-g,offsetY:-E,scaleX:1/x,scaleY:1/V},Q=h.getCanvas("mesh",f+4,R+4,!1),se=Q.context,H=se.createImageData(f,R);if(b){const l=H.data;for(let S=0,B=l.length;S<B;S+=4)l[S]=b[0],l[S+1]=b[1],l[S+2]=b[2],l[S+3]=255}for(const l of this._figures)j(H,l,v);return se.putImageData(H,2,2),{canvas:Q.canvas,offsetX:g-2*x,offsetY:E-2*V,scaleX:x,scaleY:V}}getPattern(m,b,h,t){let e;if($(m,this._bbox),t===G.SHADING)e=n.Util.singularValueDecompose2dScale((0,d.getCurrentTransform)(m));else if(e=n.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){const g=n.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*g[0],e[1]*g[1]]}const a=this._createMeshCanvas(e,t===G.SHADING?null:this._background,b.cachedCanvases);return t!==G.SHADING&&(m.setTransform(...b.baseTransform),this.matrix&&m.transform(...this.matrix)),m.translate(a.offsetX,a.offsetY),m.scale(a.scaleX,a.scaleY),m.createPattern(a.canvas,"no-repeat")}}class D extends y{getPattern(){return"hotpink"}}class p{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,b,h,t,e){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=b,this.ctx=h,this.canvasGraphicsFactory=t,this.baseTransform=e}createPatternCanvas(m){const b=this.operatorList,h=this.bbox,t=this.xstep,e=this.ystep,a=this.paintType,E=this.color,A=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+this.tilingType);const o=h[0],f=h[1],R=h[2],x=h[3],V=n.Util.singularValueDecompose2dScale(this.matrix),v=n.Util.singularValueDecompose2dScale(this.baseTransform),k=[V[0]*v[0],V[1]*v[1]],W=this.getSizeAndScale(t,this.ctx.canvas.width,k[0]),Q=this.getSizeAndScale(e,this.ctx.canvas.height,k[1]),se=m.cachedCanvases.getCanvas("pattern",W.size,Q.size,!0),H=se.context,_=A.createCanvasGraphics(H);_.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(_,a,E);let l=o,S=f,B=R,P=x;return o<0&&(l=0,B+=Math.abs(o)),f<0&&(S=0,P+=Math.abs(f)),H.translate(-W.scale*l,-Q.scale*S),_.transform(W.scale,0,0,Q.scale,0,0),H.save(),this.clipBbox(_,l,S,B,P),_.baseTransform=(0,d.getCurrentTransform)(_.ctx),_.executeOperatorList(b),_.endDrawing(),{canvas:se.canvas,scaleX:W.scale,scaleY:Q.scale,offsetX:l,offsetY:S}}getSizeAndScale(m,b,h){m=Math.abs(m);const t=Math.max(p.MAX_PATTERN_SIZE,b);let e=Math.ceil(m*h);return e>=t?e=t:h=e/m,{scale:h,size:e}}clipBbox(m,b,h,t,e){m.ctx.rect(b,h,t-b,e-h),m.current.updateRectMinMax((0,d.getCurrentTransform)(m.ctx),[b,h,t,e]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,b,h){const t=m.ctx,e=m.current;switch(b){case 1:const a=this.ctx;t.fillStyle=a.fillStyle,t.strokeStyle=a.strokeStyle,e.fillColor=a.fillStyle,e.strokeColor=a.strokeStyle;break;case 2:const g=n.Util.makeHexColor(h[0],h[1],h[2]);t.fillStyle=g,t.strokeStyle=g,e.fillColor=g,e.strokeColor=g;break;default:throw new n.FormatError(`Unsupported paint type: ${b}`)}}getPattern(m,b,h,t){let e=h;t!==G.SHADING&&(e=n.Util.transform(e,b.baseTransform),this.matrix&&(e=n.Util.transform(e,this.matrix)));const a=this.createPatternCanvas(b);let g=new DOMMatrix(e);g=g.translate(a.offsetX,a.offsetY),g=g.scale(1/a.scaleX,1/a.scaleY);const E=m.createPattern(a.canvas,"repeat");try{E.setTransform(g)}catch(A){(0,n.warn)(`TilingPattern.getPattern: "${null==A?void 0:A.message}".`)}return E}}s.TilingPattern=p},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=function d({src:L,srcPos:G=0,dest:$,destPos:y=0,width:F,height:O,inverseDecode:j=!1}){const N=n.FeatureTest.isLittleEndian?4278190080:255,[D,w]=j?[0,N]:[N,0],r=F>>3,p=7&F,C=L.length;$=new Uint32Array($.buffer);for(let m=0;m<O;m++){for(const h=G+r;G<h;G++){const t=G<C?L[G]:255;$[y++]=128&t?w:D,$[y++]=64&t?w:D,$[y++]=32&t?w:D,$[y++]=16&t?w:D,$[y++]=8&t?w:D,$[y++]=4&t?w:D,$[y++]=2&t?w:D,$[y++]=1&t?w:D}if(0===p)continue;const b=G<C?L[G++]:255;for(let h=0;h<p;h++)$[y++]=b&1<<7-h?w:D}return{srcPos:G,destPos:y}};var n=T(1)},(q,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const T=Object.create(null);s.GlobalWorkerOptions=T,T.workerPort=void 0===T.workerPort?null:T.workerPort,T.workerSrc=void 0===T.workerSrc?"":T.workerSrc},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var n=T(1);function G(y){switch(y instanceof Error||"object"==typeof y&&null!==y||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),y.name){case"AbortException":return new n.AbortException(y.message);case"MissingPDFException":return new n.MissingPDFException(y.message);case"PasswordException":return new n.PasswordException(y.message,y.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(y.message,y.status);case"UnknownErrorException":return new n.UnknownErrorException(y.message,y.details);default:return new n.UnknownErrorException(y.message,y.toString())}}s.MessageHandler=class ${constructor(F,O,j){this.sourceName=F,this.targetName=O,this.comObj=j,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=N=>{const D=N.data;if(D.targetName!==this.sourceName)return;if(D.stream)return void this._processStreamMessage(D);if(D.callback){const r=D.callbackId,p=this.callbackCapabilities[r];if(!p)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===D.callback)p.resolve(D.data);else{if(2!==D.callback)throw new Error("Unexpected callback case");p.reject(G(D.reason))}return}const w=this.actionHandler[D.action];if(!w)throw new Error(`Unknown action from worker: ${D.action}`);if(D.callbackId){const r=this.sourceName,p=D.sourceName;new Promise(function(C){C(w(D.data))}).then(function(C){j.postMessage({sourceName:r,targetName:p,callback:1,callbackId:D.callbackId,data:C})},function(C){j.postMessage({sourceName:r,targetName:p,callback:2,callbackId:D.callbackId,reason:G(C)})})}else D.streamId?this._createStreamSink(D):w(D.data)},j.addEventListener("message",this._onComObjOnMessage)}on(F,O){const j=this.actionHandler;if(j[F])throw new Error(`There is already an actionName called "${F}"`);j[F]=O}send(F,O,j){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,data:O},j)}sendWithPromise(F,O,j){const N=this.callbackId++,D=(0,n.createPromiseCapability)();this.callbackCapabilities[N]=D;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,callbackId:N,data:O},j)}catch(w){D.reject(w)}return D.promise}sendWithStream(F,O,j,N){const D=this.streamId++,w=this.sourceName,r=this.targetName,p=this.comObj;return new ReadableStream({start:C=>{const m=(0,n.createPromiseCapability)();return this.streamControllers[D]={controller:C,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:w,targetName:r,action:F,streamId:D,data:O,desiredSize:C.desiredSize},N),m.promise},pull:C=>{const m=(0,n.createPromiseCapability)();return this.streamControllers[D].pullCall=m,p.postMessage({sourceName:w,targetName:r,stream:6,streamId:D,desiredSize:C.desiredSize}),m.promise},cancel:C=>{(0,n.assert)(C instanceof Error,"cancel must have a valid reason");const m=(0,n.createPromiseCapability)();return this.streamControllers[D].cancelCall=m,this.streamControllers[D].isClosed=!0,p.postMessage({sourceName:w,targetName:r,stream:1,streamId:D,reason:G(C)}),m.promise}},j)}_createStreamSink(F){const O=F.streamId,j=this.sourceName,N=F.sourceName,D=this.comObj,w=this,r=this.actionHandler[F.action],p={enqueue(C,m=1,b){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=m,h>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),D.postMessage({sourceName:j,targetName:N,stream:4,streamId:O,chunk:C},b)},close(){this.isCancelled||(this.isCancelled=!0,D.postMessage({sourceName:j,targetName:N,stream:3,streamId:O}),delete w.streamSinks[O])},error(C){(0,n.assert)(C instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,D.postMessage({sourceName:j,targetName:N,stream:5,streamId:O,reason:G(C)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:F.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[O]=p,new Promise(function(C){C(r(F.data,p))}).then(function(){D.postMessage({sourceName:j,targetName:N,stream:8,streamId:O,success:!0})},function(C){D.postMessage({sourceName:j,targetName:N,stream:8,streamId:O,reason:G(C)})})}_processStreamMessage(F){const O=F.streamId,j=this.sourceName,N=F.sourceName,D=this.comObj,w=this.streamControllers[O],r=this.streamSinks[O];switch(F.stream){case 8:F.success?w.startCall.resolve():w.startCall.reject(G(F.reason));break;case 7:F.success?w.pullCall.resolve():w.pullCall.reject(G(F.reason));break;case 6:if(!r){D.postMessage({sourceName:j,targetName:N,stream:7,streamId:O,success:!0});break}r.desiredSize<=0&&F.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=F.desiredSize,new Promise(function(p){p(r.onPull&&r.onPull())}).then(function(){D.postMessage({sourceName:j,targetName:N,stream:7,streamId:O,success:!0})},function(p){D.postMessage({sourceName:j,targetName:N,stream:7,streamId:O,reason:G(p)})});break;case 4:if((0,n.assert)(w,"enqueue should have stream controller"),w.isClosed)break;w.controller.enqueue(F.chunk);break;case 3:if((0,n.assert)(w,"close should have stream controller"),w.isClosed)break;w.isClosed=!0,w.controller.close(),this._deleteStreamController(w,O);break;case 5:(0,n.assert)(w,"error should have stream controller"),w.controller.error(G(F.reason)),this._deleteStreamController(w,O);break;case 2:F.success?w.cancelCall.resolve():w.cancelCall.reject(G(F.reason)),this._deleteStreamController(w,O);break;case 1:if(!r)break;new Promise(function(p){p(r.onCancel&&r.onCancel(G(F.reason)))}).then(function(){D.postMessage({sourceName:j,targetName:N,stream:2,streamId:O,success:!0})},function(p){D.postMessage({sourceName:j,targetName:N,stream:2,streamId:O,reason:G(p)})}),r.sinkCapability.reject(G(F.reason)),r.isCancelled=!0,delete this.streamSinks[O];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(F,O){var j=this;return _asyncToGenerator(function*(){yield Promise.allSettled([F.startCall&&F.startCall.promise,F.pullCall&&F.pullCall.promise,F.cancelCall&&F.cancelCall.promise]),delete j.streamControllers[O]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var n=T(1),d=new WeakMap,L=new WeakMap;s.Metadata=class G{constructor({parsedData:y,rawData:F}){_classPrivateFieldInitSpec(this,d,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:void 0}),_classPrivateFieldSet(this,d,y),_classPrivateFieldSet(this,L,F)}getRaw(){return _classPrivateFieldGet(this,L)}get(y){var F;return null!==(F=_classPrivateFieldGet(this,d).get(y))&&void 0!==F?F:null}getAll(){return(0,n.objectFromMap)(_classPrivateFieldGet(this,d))}has(y){return _classPrivateFieldGet(this,d).has(y)}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var n=T(1);const d=Symbol("INTERNAL");var L=new WeakMap;class G{constructor(r,p){_classPrivateFieldInitSpec(this,L,{writable:!0,value:!0}),this.name=r,this.intent=p}get visible(){return _classPrivateFieldGet(this,L)}_setVisible(r,p){r!==d&&(0,n.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,L,p)}}var $=new WeakMap,y=new WeakMap,F=new WeakMap,O=new WeakMap,j=new WeakSet;function D(w){const r=w.length;if(r<2)return!0;const p=w[0];for(let C=1;C<r;C++){const m=w[C];let b;if(Array.isArray(m))b=_classPrivateMethodGet(this,j,D).call(this,m);else{if(!_classPrivateFieldGet(this,y).has(m))return(0,n.warn)(`Optional content group not found: ${m}`),!0;b=_classPrivateFieldGet(this,y).get(m).visible}switch(p){case"And":if(!b)return!1;break;case"Or":if(b)return!0;break;case"Not":return!b;default:return!0}}return"And"===p}s.OptionalContentConfig=class N{constructor(r){if(_classPrivateMethodInitSpec(this,j),_classPrivateFieldInitSpec(this,$,{writable:!0,value:!0}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:null}),this.name=null,this.creator=null,null!==r){this.name=r.name,this.creator=r.creator,_classPrivateFieldSet(this,O,r.order);for(const p of r.groups)_classPrivateFieldGet(this,y).set(p.id,new G(p.name,p.intent));if("OFF"===r.baseState)for(const p of _classPrivateFieldGet(this,y).values())p._setVisible(d,!1);for(const p of r.on)_classPrivateFieldGet(this,y).get(p)._setVisible(d,!0);for(const p of r.off)_classPrivateFieldGet(this,y).get(p)._setVisible(d,!1);_classPrivateFieldSet(this,F,new Map);for(const[p,C]of _classPrivateFieldGet(this,y))_classPrivateFieldGet(this,F).set(p,C.visible)}}isVisible(r){if(0===_classPrivateFieldGet(this,y).size)return!0;if(!r)return(0,n.warn)("Optional content group not defined."),!0;if("OCG"===r.type)return _classPrivateFieldGet(this,y).has(r.id)?_classPrivateFieldGet(this,y).get(r.id).visible:((0,n.warn)(`Optional content group not found: ${r.id}`),!0);if("OCMD"===r.type){if(r.expression)return _classPrivateMethodGet(this,j,D).call(this,r.expression);if(!r.policy||"AnyOn"===r.policy){for(const p of r.ids){if(!_classPrivateFieldGet(this,y).has(p))return(0,n.warn)(`Optional content group not found: ${p}`),!0;if(_classPrivateFieldGet(this,y).get(p).visible)return!0}return!1}if("AllOn"===r.policy){for(const p of r.ids){if(!_classPrivateFieldGet(this,y).has(p))return(0,n.warn)(`Optional content group not found: ${p}`),!0;if(!_classPrivateFieldGet(this,y).get(p).visible)return!1}return!0}if("AnyOff"===r.policy){for(const p of r.ids){if(!_classPrivateFieldGet(this,y).has(p))return(0,n.warn)(`Optional content group not found: ${p}`),!0;if(!_classPrivateFieldGet(this,y).get(p).visible)return!0}return!1}if("AllOff"===r.policy){for(const p of r.ids){if(!_classPrivateFieldGet(this,y).has(p))return(0,n.warn)(`Optional content group not found: ${p}`),!0;if(_classPrivateFieldGet(this,y).get(p).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${r.policy}.`),!0}return(0,n.warn)(`Unknown group type ${r.type}.`),!0}setVisibility(r,p=!0){_classPrivateFieldGet(this,y).has(r)?(_classPrivateFieldGet(this,y).get(r)._setVisible(d,!!p),_classPrivateFieldSet(this,$,null)):(0,n.warn)(`Optional content group not found: ${r}`)}get hasInitialVisibility(){if(null!==_classPrivateFieldGet(this,$))return _classPrivateFieldGet(this,$);for(const[r,p]of _classPrivateFieldGet(this,y)){const C=_classPrivateFieldGet(this,F).get(r);if(p.visible!==C)return _classPrivateFieldSet(this,$,!1)}return _classPrivateFieldSet(this,$,!0)}getOrder(){return _classPrivateFieldGet(this,y).size?_classPrivateFieldGet(this,O)?_classPrivateFieldGet(this,O).slice():[..._classPrivateFieldGet(this,y).keys()]:null}getGroups(){return _classPrivateFieldGet(this,y).size>0?(0,n.objectFromMap)(_classPrivateFieldGet(this,y)):null}getGroup(r){return _classPrivateFieldGet(this,y).get(r)||null}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var n=T(1),d=T(8);s.PDFDataTransportStream=class L{constructor(F,O){(0,n.assert)(O,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=F.progressiveDone||!1,this._contentDispositionFilename=F.contentDispositionFilename||null;const j=F.initialData;if((null==j?void 0:j.length)>0){const N=new Uint8Array(j).buffer;this._queuedChunks.push(N)}this._pdfDataRangeTransport=O,this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._contentLength=F.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((N,D)=>{this._onReceiveData({begin:N,chunk:D})}),this._pdfDataRangeTransport.addProgressListener((N,D)=>{this._onProgress({loaded:N,total:D})}),this._pdfDataRangeTransport.addProgressiveReadListener(N=>{this._onReceiveData({chunk:N})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(F){const O=new Uint8Array(F.chunk).buffer;if(void 0===F.begin)this._fullRequestReader?this._fullRequestReader._enqueue(O):this._queuedChunks.push(O);else{const j=this._rangeReaders.some(function(N){return N._begin===F.begin&&(N._enqueue(O),!0)});(0,n.assert)(j,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var F,O;return null!==(F=null===(O=this._fullRequestReader)||void 0===O?void 0:O._loaded)&&void 0!==F?F:0}_onProgress(F){if(void 0===F.total){const O=this._rangeReaders[0];null!=O&&O.onProgress&&O.onProgress({loaded:F.loaded})}else{const O=this._fullRequestReader;null!=O&&O.onProgress&&O.onProgress({loaded:F.loaded,total:F.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(F){const O=this._rangeReaders.indexOf(F);O>=0&&this._rangeReaders.splice(O,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const F=this._queuedChunks;return this._queuedChunks=null,new G(this,F,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(F,O){if(O<=this._progressiveDataLength)return null;const j=new $(this,F,O);return this._pdfDataRangeTransport.requestDataRange(F,O),this._rangeReaders.push(j),j}cancelAllRequests(F){this._fullRequestReader&&this._fullRequestReader.cancel(F);for(const O of this._rangeReaders.slice(0))O.cancel(F);this._pdfDataRangeTransport.abort()}};class G{constructor(F,O,j=!1,N=null){this._stream=F,this._done=j||!1,this._filename=(0,d.isPdfFile)(N)?N:null,this._queuedChunks=O||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),F._fullRequestReader=this,this.onProgress=null}_enqueue(F){this._done||(this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunks.push(F),this._loaded+=F.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var F=this;return _asyncToGenerator(function*(){if(F._queuedChunks.length>0)return{value:F._queuedChunks.shift(),done:!1};if(F._done)return{value:void 0,done:!0};const O=(0,n.createPromiseCapability)();return F._requests.push(O),O.promise})()}cancel(F){this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ${constructor(F,O,j){this._stream=F,this._begin=O,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(F){if(!this._done){if(0===this._requests.length)this._queuedChunk=F;else{this._requests.shift().resolve({value:F,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var F=this;return _asyncToGenerator(function*(){if(F._queuedChunk){const j=F._queuedChunk;return F._queuedChunk=null,{value:j,done:!1}}if(F._done)return{value:void 0,done:!0};const O=(0,n.createPromiseCapability)();return F._requests.push(O),O.promise})()}cancel(F){this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(q,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class T{static textContent(d){const L=[],G={items:L,styles:Object.create(null)};return function $(y){var F;if(!y)return;let O=null;const j=y.name;if("#text"===j)O=y.value;else{if(!T.shouldBuildText(j))return;null!=y&&null!==(F=y.attributes)&&void 0!==F&&F.textContent?O=y.attributes.textContent:y.value&&(O=y.value)}if(null!==O&&L.push({str:O}),y.children)for(const N of y.children)$(N)}(d),G}static shouldBuildText(d){return!("textarea"===d||"input"===d||"option"===d||"select"===d)}}s.XfaText=T},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var n=T(9);const d=function(y){return new Promise((F,O)=>{__webpack_require__(172).readFile(y,(N,D)=>{!N&&D?F(new Uint8Array(D)):O(new Error(N))})})};s.NodeCanvasFactory=class L extends n.BaseCanvasFactory{_createCanvas(F,O){return __webpack_require__(3414).createCanvas(F,O)}},s.NodeCMapReaderFactory=class G extends n.BaseCMapReaderFactory{_fetchData(F,O){return d(F).then(j=>({cMapData:j,compressionType:O}))}},s.NodeStandardFontDataFactory=class $ extends n.BaseStandardFontDataFactory{_fetchData(F){return d(F)}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var n=T(7),d=T(1),L=T(23),G=T(24);s.AnnotationEditorLayer=(()=>{var y=new WeakMap,F=new WeakMap,O=new WeakMap,j=new WeakMap,N=new WeakMap,D=new WeakMap,w=new WeakMap,r=new WeakMap,p=new WeakSet,C=new WeakSet,m=new WeakSet,b=new WeakSet;class h{constructor(A){_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,p),_classPrivateFieldInitSpec(this,y,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,r,{writable:!0,value:void 0}),h._initialized||(h._initialized=!0,L.FreeTextEditor.initialize(A.l10n),G.InkEditor.initialize(A.l10n),A.uiManager.registerEditorTypes([L.FreeTextEditor,G.InkEditor])),_classPrivateFieldSet(this,r,A.uiManager),this.annotationStorage=A.annotationStorage,this.pageIndex=A.pageIndex,this.div=A.div,_classPrivateFieldSet(this,y,A.accessibilityManager),_classPrivateFieldGet(this,r).addLayer(this)}updateToolbar(A){_classPrivateFieldGet(this,r).updateToolbar(A)}updateMode(A=_classPrivateFieldGet(this,r).getMode()){_classPrivateMethodGet(this,b,g).call(this),A===d.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,r).unselectAll()}addInkEditorIfNeeded(A){if(A||_classPrivateFieldGet(this,r).getMode()===d.AnnotationEditorType.INK){if(!A)for(const f of _classPrivateFieldGet(this,N).values())if(f.isEmpty())return void f.setInBackground();_classPrivateMethodGet(this,m,a).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(A){_classPrivateFieldGet(this,r).setEditingState(A)}addCommands(A){_classPrivateFieldGet(this,r).addCommands(A)}enable(){this.div.style.pointerEvents="auto";for(const A of _classPrivateFieldGet(this,N).values())A.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const A of _classPrivateFieldGet(this,N).values())A.disableEditing()}setActiveEditor(A){_classPrivateFieldGet(this,r).getActive()!==A&&_classPrivateFieldGet(this,r).setActiveEditor(A)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,j)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,O))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,j)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,O))}attach(A){_classPrivateFieldGet(this,N).set(A.id,A)}detach(A){var o;_classPrivateFieldGet(this,N).delete(A.id),null===(o=_classPrivateFieldGet(this,y))||void 0===o||o.removePointerInTextLayer(A.contentDiv)}remove(A){_classPrivateFieldGet(this,r).removeEditor(A),this.detach(A),this.annotationStorage.remove(A.id),A.div.style.display="none",setTimeout(()=>{A.div.style.display="",A.div.remove(),A.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(this,r).focusMainContainer()},0),_classPrivateFieldGet(this,w)||this.addInkEditorIfNeeded(!1)}add(A){if(_classPrivateMethodGet(this,p,t).call(this,A),_classPrivateFieldGet(this,r).addEditor(A),this.attach(A),!A.isAttachedToDOM){const o=A.render();this.div.append(o),A.isAttachedToDOM=!0}this.moveEditorInDOM(A),A.onceAdded(),this.addToAnnotationStorage(A)}moveEditorInDOM(A){var o;null===(o=_classPrivateFieldGet(this,y))||void 0===o||o.moveElementInDOM(this.div,A.div,A.contentDiv,!0)}addToAnnotationStorage(A){!A.isEmpty()&&!this.annotationStorage.has(A.id)&&this.annotationStorage.setValue(A.id,A)}addOrRebuild(A){A.needsToBeRebuilt()?A.rebuild():this.add(A)}addANewEditor(A){this.addCommands({cmd:()=>{this.addOrRebuild(A)},undo:()=>{A.remove()},mustExec:!0})}addUndoableEditor(A){this.addCommands({cmd:()=>{this.addOrRebuild(A)},undo:()=>{A.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,r).getId()}deserialize(A){switch(A.annotationType){case d.AnnotationEditorType.FREETEXT:return L.FreeTextEditor.deserialize(A,this);case d.AnnotationEditorType.INK:return G.InkEditor.deserialize(A,this)}return null}setSelected(A){_classPrivateFieldGet(this,r).setSelected(A)}toggleSelected(A){_classPrivateFieldGet(this,r).toggleSelected(A)}isSelected(A){return _classPrivateFieldGet(this,r).isSelected(A)}unselect(A){_classPrivateFieldGet(this,r).unselect(A)}pointerup(A){if(!(0!==A.button||A.ctrlKey&&n.KeyboardManager.platform.isMac)&&A.target===this.div&&_classPrivateFieldGet(this,D)){if(_classPrivateFieldSet(this,D,!1),!_classPrivateFieldGet(this,F))return void _classPrivateFieldSet(this,F,!0);_classPrivateMethodGet(this,m,a).call(this,A)}}pointerdown(A){if(0!==A.button||A.ctrlKey&&n.KeyboardManager.platform.isMac||A.target!==this.div)return;_classPrivateFieldSet(this,D,!0);const f=_classPrivateFieldGet(this,r).getActive();_classPrivateFieldSet(this,F,!f||f.isEmpty())}drop(A){const o=A.dataTransfer.getData("text/plain"),f=_classPrivateFieldGet(this,r).getEditor(o);if(!f)return;A.preventDefault(),A.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,p,t).call(this,f);const R=this.div.getBoundingClientRect();f.translate(A.clientX-R.x-f.startX,A.clientY-R.y-f.startY),this.moveEditorInDOM(f),f.div.focus()}dragover(A){A.preventDefault()}destroy(){var A;(null===(A=_classPrivateFieldGet(this,r).getActive())||void 0===A?void 0:A.parent)===this&&_classPrivateFieldGet(this,r).setActiveEditor(null);for(const f of _classPrivateFieldGet(this,N).values()){var o;null===(o=_classPrivateFieldGet(this,y))||void 0===o||o.removePointerInTextLayer(f.contentDiv),f.isAttachedToDOM=!1,f.div.remove(),f.parent=null}this.div=null,_classPrivateFieldGet(this,N).clear(),_classPrivateFieldGet(this,r).removeLayer(this)}render(A){this.viewport=A.viewport,(0,n.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const o of _classPrivateFieldGet(this,r).getEditors(this.pageIndex))this.add(o);this.updateMode()}update(A){this.viewport=A.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[A,o,f,R]=this.viewport.viewBox;return[f-A,R-o]}get viewportBaseDimensions(){const{width:A,height:o,rotation:f}=this.viewport;return f%180==0?[A,o]:[o,A]}setDimensions(){const{width:A,height:o,rotation:f}=this.viewport,R=f%180!=0,x=Math.floor(A)+"px",V=Math.floor(o)+"px";this.div.style.width=R?V:x,this.div.style.height=R?x:V,this.div.setAttribute("data-main-rotation",f)}}function t(E){var A;E.parent!==this&&(this.attach(E),E.pageIndex=this.pageIndex,null===(A=E.parent)||void 0===A||A.detach(E),E.parent=this,E.div&&E.isAttachedToDOM&&(E.div.remove(),this.div.append(E.div)))}function e(E){switch(_classPrivateFieldGet(this,r).getMode()){case d.AnnotationEditorType.FREETEXT:return new L.FreeTextEditor(E);case d.AnnotationEditorType.INK:return new G.InkEditor(E)}return null}function a(E){const A=this.getNextId(),o=_classPrivateMethodGet(this,C,e).call(this,{parent:this,id:A,x:E.offsetX,y:E.offsetY});return o&&this.add(o),o}function g(){_classPrivateFieldSet(this,w,!0);for(const E of _classPrivateFieldGet(this,N).values())E.isEmpty()&&E.remove();_classPrivateFieldSet(this,w,!1)}return _defineProperty(h,"_initialized",!1),h})()},(q,s,T)=>{var n;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var d=T(1),L=T(7),G=T(6),$=new WeakMap,y=new WeakMap,F=new WeakMap,O=new WeakMap,j=new WeakMap,N=new WeakMap,D=new WeakMap,w=new WeakSet,r=new WeakSet,p=new WeakSet,C=new WeakSet;class m extends G.AnnotationEditor{constructor(g){super({...g,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,p),_classPrivateMethodInitSpec(this,r),_classPrivateMethodInitSpec(this,w),_classPrivateFieldInitSpec(this,$,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:void 0}),_classPrivateFieldSet(this,O,g.color||m._defaultColor||G.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,D,g.fontSize||m._defaultFontSize)}static initialize(g){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(A=>[A,g.get(A)]));const E=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(E.getPropertyValue("--freetext-padding"))}static updateDefaultParams(g,E){switch(g){case d.AnnotationEditorParamsType.FREETEXT_SIZE:m._defaultFontSize=E;break;case d.AnnotationEditorParamsType.FREETEXT_COLOR:m._defaultColor=E}}updateParams(g,E){switch(g){case d.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,w,b).call(this,E);break;case d.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,r,h).call(this,E)}}static get defaultPropertiesToUpdate(){return[[d.AnnotationEditorParamsType.FREETEXT_SIZE,m._defaultFontSize],[d.AnnotationEditorParamsType.FREETEXT_COLOR,m._defaultColor||G.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[d.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,D)],[d.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,O)]]}getInitialTranslation(){return[-m._internalPadding*this.parent.scaleFactor,-(m._internalPadding+_classPrivateFieldGet(this,D))*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(d.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,F)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,y)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,F)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,y)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,$)),this.div.focus(),this.isEditing=!1)}focusin(g){super.focusin(g),g.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),_classPrivateFieldGet(this,N)||(_classPrivateFieldSet(this,N,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,j,_classPrivateMethodGet(this,p,t).call(this).trimEnd()),_classPrivateMethodGet(this,C,e).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(g){this.enableEditMode(),this.editorDiv.focus()}keydown(g){g.target===this.div&&"Enter"===g.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(g){m._keyboardManager.exec(this,g)}editorDivFocus(g){this.isEditing=!0}editorDivBlur(g){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let g,E;this.width&&(g=this.x,E=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),m._l10nPromise.get("editor_free_text_aria_label").then(o=>{var f;return null===(f=this.editorDiv)||void 0===f?void 0:f.setAttribute("aria-label",o)}),m._l10nPromise.get("free_text_default_content").then(o=>{var f;return null===(f=this.editorDiv)||void 0===f?void 0:f.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:A}=this.editorDiv;if(A.fontSize=`calc(${_classPrivateFieldGet(this,D)}px * var(--scale-factor))`,A.color=_classPrivateFieldGet(this,O),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,L.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[o,f]=this.parent.viewportBaseDimensions;this.setAt(g*o,E*f,this.width*o,this.height*f);for(const R of _classPrivateFieldGet(this,j).split("\n")){const x=document.createElement("div");x.append(R?document.createTextNode(R):document.createElement("br")),this.editorDiv.append(x)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(g,E){const A=super.deserialize(g,E);return _classPrivateFieldSet(A,D,g.fontSize),_classPrivateFieldSet(A,O,d.Util.makeHexColor(...g.color)),_classPrivateFieldSet(A,j,g.value),A}serialize(){if(this.isEmpty())return null;const g=m._internalPadding*this.parent.scaleFactor,E=this.getRect(g,g),A=G.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:d.AnnotationEditorType.FREETEXT,color:A,fontSize:_classPrivateFieldGet(this,D),value:_classPrivateFieldGet(this,j),pageIndex:this.parent.pageIndex,rect:E,rotation:this.rotation}}}function b(a){const g=A=>{this.editorDiv.style.fontSize=`calc(${A}px * var(--scale-factor))`,this.translate(0,-(A-_classPrivateFieldGet(this,D))*this.parent.scaleFactor),_classPrivateFieldSet(this,D,A),_classPrivateMethodGet(this,C,e).call(this)},E=_classPrivateFieldGet(this,D);this.parent.addCommands({cmd:()=>{g(a)},undo:()=>{g(E)},mustExec:!0,type:d.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function h(a){const g=_classPrivateFieldGet(this,O);this.parent.addCommands({cmd:()=>{_classPrivateFieldSet(this,O,a),this.editorDiv.style.color=a},undo:()=>{_classPrivateFieldSet(this,O,g),this.editorDiv.style.color=g},mustExec:!0,type:d.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function t(){const a=this.editorDiv.getElementsByTagName("div");if(0===a.length)return this.editorDiv.innerText;const g=[];for(let E=0,A=a.length;E<A;E++){const f=a[E].firstChild;g.push("#text"===(null==f?void 0:f.nodeName)?f.data:"")}return g.join("\n")}function e(){const[a,g]=this.parent.viewportBaseDimensions,E=this.div.getBoundingClientRect();this.width=E.width/a,this.height=E.height/g}n=m,_defineProperty(m,"_freeTextDefaultContent",""),_defineProperty(m,"_l10nPromise",void 0),_defineProperty(m,"_internalPadding",0),_defineProperty(m,"_defaultColor",null),_defineProperty(m,"_defaultFontSize",10),_defineProperty(m,"_keyboardManager",new L.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.prototype.commitOrRemove]])),_defineProperty(m,"_type","freetext"),s.FreeTextEditor=m},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return L.fitCurve}});var n=T(1),d=T(6),L=T(25),G=T(7);const $=16;s.InkEditor=(()=>{var F,O=new WeakMap,j=new WeakMap,N=new WeakMap,D=new WeakMap,w=new WeakMap,r=new WeakMap,p=new WeakMap,C=new WeakMap,m=new WeakMap,b=new WeakMap,h=new WeakMap,t=new WeakMap,e=new WeakMap,a=new WeakMap,g=new WeakSet,E=new WeakSet,A=new WeakSet,o=new WeakSet,f=new WeakSet,R=new WeakSet,x=new WeakSet,V=new WeakSet,v=new WeakSet,k=new WeakSet,W=new WeakSet,Q=new WeakSet,se=new WeakSet,H=new WeakSet,_=new WeakSet,l=new WeakSet,S=new WeakSet,B=new WeakSet,P=new WeakSet,i=new WeakSet,c=new WeakSet,u=new WeakSet;class M extends d.AnnotationEditor{constructor(Z){super({...Z,name:"inkEditor"}),_classPrivateMethodInitSpec(this,u),_classPrivateMethodInitSpec(this,c),_classPrivateMethodInitSpec(this,i),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,l),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,se),_classPrivateMethodInitSpec(this,Q),_classPrivateMethodInitSpec(this,W),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,v),_classPrivateMethodInitSpec(this,V),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,R),_classPrivateMethodInitSpec(this,f),_classPrivateMethodInitSpec(this,o),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,g),_classPrivateFieldInitSpec(this,O,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,r,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,t,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,e,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,a,{writable:!0,value:null}),this.color=Z.color||null,this.thickness=Z.thickness||null,this.opacity=Z.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Z){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(ae=>[ae,Z.get(ae)]))}static updateDefaultParams(Z,ae){switch(Z){case n.AnnotationEditorParamsType.INK_THICKNESS:M._defaultThickness=ae;break;case n.AnnotationEditorParamsType.INK_COLOR:M._defaultColor=ae;break;case n.AnnotationEditorParamsType.INK_OPACITY:M._defaultOpacity=ae/100}}updateParams(Z,ae){switch(Z){case n.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,g,I).call(this,ae);break;case n.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,E,z).call(this,ae);break;case n.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,A,K).call(this,ae)}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,M._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,M._defaultColor||d.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*M._defaultOpacity)]]}get propertiesToUpdate(){var Z;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||M._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||M._defaultColor||d.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(Z=this.opacity)&&void 0!==Z?Z:M._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,W,me).call(this),_classPrivateMethodGet(this,Q,ie).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,se,oe).call(this)),_classPrivateMethodGet(this,c,U).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,h).disconnect(),_classPrivateFieldSet(this,h,null),super.remove())}enableEditMode(){_classPrivateFieldGet(this,C)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,r)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,r)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,C)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,C,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,c,U).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Z){super.focusin(Z),this.enableEditMode()}canvasPointerdown(Z){0!==Z.button||!this.isInEditMode()||_classPrivateFieldGet(this,C)||(this.setInForeground(),"mouse"!==Z.type&&this.div.focus(),Z.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,w)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,D)),_classPrivateMethodGet(this,R,pe).call(this,Z.offsetX,Z.offsetY))}canvasPointermove(Z){Z.stopPropagation(),_classPrivateMethodGet(this,x,le).call(this,Z.offsetX,Z.offsetY)}canvasPointerup(Z){0===Z.button&&this.isInEditMode()&&0!==this.currentPath.length&&(Z.stopPropagation(),_classPrivateMethodGet(this,k,_e).call(this,Z),this.setInBackground())}canvasPointerleave(Z){_classPrivateMethodGet(this,k,_e).call(this,Z),this.setInBackground()}render(){if(this.div)return this.div;let Z,ae;this.width&&(Z=this.x,ae=this.y),super.render(),M._l10nPromise.get("editor_ink_aria_label").then(Ae=>{var be;return null===(be=this.div)||void 0===be?void 0:be.setAttribute("aria-label",Ae)});const[ge,J,X,Y]=_classPrivateMethodGet(this,o,re).call(this);if(this.setAt(ge,J,0,0),this.setDims(X,Y),_classPrivateMethodGet(this,W,me).call(this),this.width){const[Ae,be]=this.parent.viewportBaseDimensions;this.setAt(Z*Ae,ae*be,this.width*Ae,this.height*be),_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,se,oe).call(this),this.setDims(this.width*Ae,this.height*be),_classPrivateMethodGet(this,v,de).call(this),_classPrivateMethodGet(this,u,ee).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,Q,ie).call(this),this.div}setDimensions(Z,ae){const ge=Math.round(Z),J=Math.round(ae);if(_classPrivateFieldGet(this,t)===ge&&_classPrivateFieldGet(this,e)===J)return;_classPrivateFieldSet(this,t,ge),_classPrivateFieldSet(this,e,J),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,O)&&Math.abs(_classPrivateFieldGet(this,O)-Z/ae)>.01&&(ae=Math.ceil(Z/_classPrivateFieldGet(this,O)),this.setDims(Z,ae));const[X,Y]=this.parent.viewportBaseDimensions;this.width=Z/X,this.height=ae/Y,_classPrivateFieldGet(this,C)&&_classPrivateMethodGet(this,H,Fe).call(this,Z,ae),_classPrivateMethodGet(this,se,oe).call(this),_classPrivateMethodGet(this,v,de).call(this),this.canvas.style.visibility="visible"}static deserialize(Z,ae){const ge=super.deserialize(Z,ae);ge.thickness=Z.thickness,ge.color=n.Util.makeHexColor(...Z.color),ge.opacity=Z.opacity;const[J,X]=ae.pageDimensions,Y=ge.width*J,Ae=ge.height*X,be=ae.scaleFactor,he=Z.thickness/2;_classPrivateFieldSet(ge,O,Y/Ae),_classPrivateFieldSet(ge,C,!0),_classPrivateFieldSet(ge,t,Math.round(Y)),_classPrivateFieldSet(ge,e,Math.round(Ae));for(const{bezier:ve}of Z.paths){const Ee=[];ge.paths.push(Ee);let Se=be*(ve[0]-he),we=be*(Ae-ve[1]-he);for(let Te=2,Re=ve.length;Te<Re;Te+=6){const Ge=be*(ve[Te+4]-he),Oe=be*(Ae-ve[Te+5]-he);Ee.push([[Se,we],[be*(ve[Te]-he),be*(Ae-ve[Te+1]-he)],[be*(ve[Te+2]-he),be*(Ae-ve[Te+3]-he)],[Ge,Oe]]),Se=Ge,we=Oe}const ke=_classStaticPrivateMethodGet(this,M,Me).call(this,Ee);ge.bezierPath2D.push(ke)}const ce=_classPrivateMethodGet(ge,P,Pe).call(ge);return _classPrivateFieldSet(ge,N,Math.max($,ce[2]-ce[0])),_classPrivateFieldSet(ge,j,Math.max($,ce[3]-ce[1])),_classPrivateMethodGet(ge,H,Fe).call(ge,Y,Ae),ge}serialize(){if(this.isEmpty())return null;const Z=this.getRect(0,0),ae=this.rotation%180==0?Z[3]-Z[1]:Z[2]-Z[0],ge=d.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:ge,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,l,fe).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,ae),pageIndex:this.parent.pageIndex,rect:Z,rotation:this.rotation}}}function I(ne){const Z=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=ne,_classPrivateMethodGet(this,c,U).call(this)},undo:()=>{this.thickness=Z,_classPrivateMethodGet(this,c,U).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function z(ne){const Z=this.color;this.parent.addCommands({cmd:()=>{this.color=ne,_classPrivateMethodGet(this,v,de).call(this)},undo:()=>{this.color=Z,_classPrivateMethodGet(this,v,de).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function K(ne){ne/=100;const Z=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=ne,_classPrivateMethodGet(this,v,de).call(this)},undo:()=>{this.opacity=Z,_classPrivateMethodGet(this,v,de).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function re(){const{width:ne,height:Z,rotation:ae}=this.parent.viewport;switch(ae){case 90:return[0,ne,ne,Z];case 180:return[ne,Z,ne,Z];case 270:return[Z,0,ne,Z];default:return[0,0,ne,Z]}}function te(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,G.opacityToHex)(this.opacity)}`}function pe(ne,Z){var ae;this.isEditing=!0,_classPrivateFieldGet(this,m)||(_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,se,oe).call(this),this.thickness||(this.thickness=F._defaultThickness),this.color||(this.color=F._defaultColor||d.AnnotationEditor._defaultLineColor),null!==(ae=this.opacity)&&void 0!==ae||(this.opacity=F._defaultOpacity)),this.currentPath.push([ne,Z]),_classPrivateFieldSet(this,b,null),_classPrivateMethodGet(this,f,te).call(this),this.ctx.beginPath(),this.ctx.moveTo(ne,Z),_classPrivateFieldSet(this,a,()=>{_classPrivateFieldGet(this,a)&&(_classPrivateFieldGet(this,b)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_classPrivateMethodGet(this,v,de).call(this),this.ctx.lineTo(..._classPrivateFieldGet(this,b)),_classPrivateFieldSet(this,b,null),this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(this,a)))}),window.requestAnimationFrame(_classPrivateFieldGet(this,a))}function le(ne,Z){const[ae,ge]=this.currentPath.at(-1);ne===ae&&Z===ge||(this.currentPath.push([ne,Z]),_classPrivateFieldSet(this,b,[ne,Z]))}function ue(ne,Z){this.ctx.closePath(),_classPrivateFieldSet(this,a,null),ne=Math.min(Math.max(ne,0),this.canvas.width),Z=Math.min(Math.max(Z,0),this.canvas.height);const[ae,ge]=this.currentPath.at(-1);let J;if((ne!==ae||Z!==ge)&&this.currentPath.push([ne,Z]),1!==this.currentPath.length)J=(0,L.fitCurve)(this.currentPath,30,null);else{const be=[ne,Z];J=[[be,be.slice(),be.slice(),be]]}const X=_classStaticPrivateMethodGet(F,F,Me).call(F,J);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(J),this.bezierPath2D.push(X),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,W,me).call(this),_classPrivateMethodGet(this,Q,ie).call(this)),_classPrivateMethodGet(this,c,U).call(this))},mustExec:!0})}function de(){if(this.isEmpty())return void _classPrivateMethodGet(this,_,Le).call(this);_classPrivateMethodGet(this,f,te).call(this);const{canvas:ne,ctx:Z}=this;Z.setTransform(1,0,0,1,0,0),Z.clearRect(0,0,ne.width,ne.height),_classPrivateMethodGet(this,_,Le).call(this);for(const ae of this.bezierPath2D)Z.stroke(ae)}function _e(ne){_classPrivateMethodGet(this,V,ue).call(this,ne.offsetX,ne.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,w)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,D)),this.parent.addToAnnotationStorage(this)}function me(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",F._l10nPromise.get("editor_ink_canvas_aria_label").then(ne=>{var Z;return null===(Z=this.canvas)||void 0===Z?void 0:Z.setAttribute("aria-label",ne)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ie(){_classPrivateFieldSet(this,h,new ResizeObserver(ne=>{const Z=ne[0].contentRect;Z.width&&Z.height&&this.setDimensions(Z.width,Z.height)})),_classPrivateFieldGet(this,h).observe(this.div)}function oe(){if(!_classPrivateFieldGet(this,m))return;const[ne,Z]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*ne),this.canvas.height=Math.ceil(this.height*Z),_classPrivateMethodGet(this,_,Le).call(this)}function Fe(ne,Z){const ae=_classPrivateMethodGet(this,i,ye).call(this),ge=(ne-ae)/_classPrivateFieldGet(this,N),J=(Z-ae)/_classPrivateFieldGet(this,j);this.scaleFactor=Math.min(ge,J)}function Le(){const ne=_classPrivateMethodGet(this,i,ye).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ne,this.translationY*this.scaleFactor+ne)}function Me(ne){const Z=new Path2D;for(let ae=0,ge=ne.length;ae<ge;ae++){const[J,X,Y,Ae]=ne[ae];0===ae&&Z.moveTo(...J),Z.bezierCurveTo(X[0],X[1],Y[0],Y[1],Ae[0],Ae[1])}return Z}function fe(ne,Z,ae,ge){const X=[],Y=this.thickness/2;let Ae,be;for(const he of this.paths){Ae=[],be=[];for(let ce=0,ve=he.length;ce<ve;ce++){const[Ee,Se,we,ke]=he[ce],Te=ne*(Ee[0]+Z)+Y,Re=ge-ne*(Ee[1]+ae)-Y,De=ne*(Se[0]+Z)+Y,Be=ge-ne*(Se[1]+ae)-Y,Ne=ne*(we[0]+Z)+Y,We=ge-ne*(we[1]+ae)-Y,Ge=ne*(ke[0]+Z)+Y,Oe=ge-ne*(ke[1]+ae)-Y;0===ce&&(Ae.push(Te,Re),be.push(Te,Re)),Ae.push(De,Be,Ne,We,Ge,Oe),_classPrivateMethodGet(this,S,Ce).call(this,Te,Re,De,Be,Ne,We,Ge,Oe,4,be)}X.push({bezier:Ae,points:be})}return X}function Ce(ne,Z,ae,ge,J,X,Y,Ae,be,he){if(_classPrivateMethodGet(this,B,xe).call(this,ne,Z,ae,ge,J,X,Y,Ae))he.push(Y,Ae);else{for(let ce=1;ce<be-1;ce++){const ve=ce/be,Ee=1-ve;let Se=ve*ne+Ee*ae,we=ve*Z+Ee*ge,ke=ve*ae+Ee*J,Te=ve*ge+Ee*X;Se=ve*Se+Ee*ke,we=ve*we+Ee*Te,ke=ve*ke+Ee*(ve*J+Ee*Y),Te=ve*Te+Ee*(ve*X+Ee*Ae),Se=ve*Se+Ee*ke,we=ve*we+Ee*Te,he.push(Se,we)}he.push(Y,Ae)}}function xe(ne,Z,ae,ge,J,X,Y,Ae){const ce=(3*ge-2*Z-Ae)**2,Ee=(3*X-Z-2*Ae)**2;return Math.max((3*ae-2*ne-Y)**2,(3*J-ne-2*Y)**2)+Math.max(ce,Ee)<=10}function Pe(){let ne=1/0,Z=-1/0,ae=1/0,ge=-1/0;for(const J of this.paths)for(const[X,Y,Ae,be]of J){const he=n.Util.bezierBoundingBox(...X,...Y,...Ae,...be);ne=Math.min(ne,he[0]),ae=Math.min(ae,he[1]),Z=Math.max(Z,he[2]),ge=Math.max(ge,he[3])}return[ne,ae,Z,ge]}function ye(){return _classPrivateFieldGet(this,C)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function U(ne=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(this,C))return void _classPrivateMethodGet(this,v,de).call(this);const Z=_classPrivateMethodGet(this,P,Pe).call(this),ae=_classPrivateMethodGet(this,i,ye).call(this);_classPrivateFieldSet(this,N,Math.max($,Z[2]-Z[0])),_classPrivateFieldSet(this,j,Math.max($,Z[3]-Z[1]));const ge=Math.ceil(ae+_classPrivateFieldGet(this,N)*this.scaleFactor),J=Math.ceil(ae+_classPrivateFieldGet(this,j)*this.scaleFactor),[X,Y]=this.parent.viewportBaseDimensions;this.width=ge/X,this.height=J/Y,_classPrivateFieldSet(this,O,ge/J),_classPrivateMethodGet(this,u,ee).call(this);const Ae=this.translationX,be=this.translationY;this.translationX=-Z[0],this.translationY=-Z[1],_classPrivateMethodGet(this,se,oe).call(this),_classPrivateMethodGet(this,v,de).call(this),_classPrivateFieldSet(this,t,ge),_classPrivateFieldSet(this,e,J),this.setDims(ge,J);const he=ne?ae/this.scaleFactor/2:0;this.translate(Ae-this.translationX-he,be-this.translationY-he)}function ee(){const{style:ne}=this.div;_classPrivateFieldGet(this,O)>=1?(ne.minHeight="16px",ne.minWidth=`${Math.round(_classPrivateFieldGet(this,O)*$)}px`):(ne.minWidth="16px",ne.minHeight=`${Math.round($/_classPrivateFieldGet(this,O))}px`)}return F=M,_defineProperty(M,"_defaultColor",null),_defineProperty(M,"_defaultOpacity",1),_defineProperty(M,"_defaultThickness",1),_defineProperty(M,"_l10nPromise",void 0),_defineProperty(M,"_type","ink"),M})()},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const n=T(26);s.fitCurve=n},q=>{function T(w,r,p,C,m){var h,t,e,a,g,E,A,o,f,R,x,V,v;if(2===w.length)return V=N.vectorLen(N.subtract(w[0],w[1]))/3,[h=[w[0],N.addArrays(w[0],N.mulItems(r,V)),N.addArrays(w[1],N.mulItems(p,V)),w[1]]];if(t=function $(w){var p,C,m,r=[];return w.forEach((b,h)=>{p=h?C+N.vectorLen(N.subtract(b,m)):0,r.push(p),C=p,m=b}),r=r.map(b=>b/C)}(w),[h,a,E]=n(w,t,t,r,p,m),0===a||a<C)return[h];if(a<C*C)for(e=t,g=a,A=E,v=0;v<20;v++){if(e=L(h,w,e),[h,a,E]=n(w,t,e,r,p,m),a<C)return[h];if(E===A){let k=a/g;if(k>.9999&&k<1.0001)break}g=a,A=E}return x=[],(o=N.subtract(w[E-1],w[E+1])).every(k=>0===k)&&(o=N.subtract(w[E-1],w[E]),[o[0],o[1]]=[-o[1],o[0]]),f=N.normalize(o),R=N.mulItems(f,-1),(x=x.concat(T(w.slice(0,E+1),r,f,C,m))).concat(T(w.slice(E),R,p,C,m))}function n(w,r,p,C,m,b){var h,t,e;return h=function d(w,r,p,C){var m,b,h,t,e,a,A,o,f,R,x,V,v,k,W,Q=w[0],se=w[w.length-1];for(m=[Q,null,null,se],b=N.zeros_Xx2x2(r.length),x=0,V=r.length;x<V;x++)(h=b[x])[0]=N.mulItems(p,3*(k=r[x])*((W=1-k)*W)),h[1]=N.mulItems(C,3*W*(k*k));for(t=[[0,0],[0,0]],e=[0,0],x=0,V=w.length;x<V;x++)k=r[x],t[0][0]+=N.dot((h=b[x])[0],h[0]),t[0][1]+=N.dot(h[0],h[1]),t[1][0]+=N.dot(h[0],h[1]),t[1][1]+=N.dot(h[1],h[1]),v=N.subtract(w[x],D.q([Q,Q,se,se],k)),e[0]+=N.dot(h[0],v),e[1]+=N.dot(h[1],v);return A=0==(a=t[0][0]*t[1][1]-t[1][0]*t[0][1])?0:(e[0]*t[1][1]-e[1]*t[0][1])/a,o=0===a?0:(t[0][0]*e[1]-t[1][0]*e[0])/a,A<(f=1e-6*(R=N.vectorLen(N.subtract(Q,se))))||o<f?(m[1]=N.addArrays(Q,N.mulItems(p,R/3)),m[2]=N.addArrays(se,N.mulItems(C,R/3))):(m[1]=N.addArrays(Q,N.mulItems(p,A)),m[2]=N.addArrays(se,N.mulItems(C,o))),m}(w,p,C,m),[t,e]=function y(w,r,p){var C,m,b,h,t,e,a,g;m=0,b=Math.floor(w.length/2);const E=F(r,10);for(t=0,e=w.length;t<e;t++)a=w[t],g=O(0,p[t],E,10),(C=(h=N.subtract(D.q(r,g),a))[0]*h[0]+h[1]*h[1])>m&&(m=C,b=t);return[m,b]}(w,h,r),b&&b({bez:h,points:w,params:r,maxErr:t,maxPoint:e}),[h,t,e]}function L(w,r,p){return p.map((C,m)=>function G(w,r,p){var C=N.subtract(D.q(w,p),r),m=D.qprime(w,p),b=N.mulMatrix(C,m),h=N.sum(N.squareItems(m))+2*N.mulMatrix(C,D.qprimeprime(w,p));return 0===h?p:p-b/h}(w,r[m],C))}var F=function(w,r){for(var p,C=[0],m=w[0],b=0,h=1;h<=r;h++)p=D.q(w,h/r),b+=N.vectorLen(N.subtract(p,m)),C.push(b),m=p;return C.map(t=>t/b)};function O(w,r,p,C){if(r<0)return 0;if(r>1)return 1;for(var b,t,e,a=1;a<=C;a++)if(r<=p[a]){e=(r-(b=p[a-1]))/(p[a]-b)*(a/C-(t=(a-1)/C))+t;break}return e}function j(w,r){return N.normalize(N.subtract(w,r))}class N{static zeros_Xx2x2(r){for(var p=[];r--;)p.push([0,0]);return p}static mulItems(r,p){return r.map(C=>C*p)}static mulMatrix(r,p){return r.reduce((C,m,b)=>C+m*p[b],0)}static subtract(r,p){return r.map((C,m)=>C-p[m])}static addArrays(r,p){return r.map((C,m)=>C+p[m])}static addItems(r,p){return r.map(C=>C+p)}static sum(r){return r.reduce((p,C)=>p+C)}static dot(r,p){return N.mulMatrix(r,p)}static vectorLen(r){return Math.hypot(...r)}static divItems(r,p){return r.map(C=>C/p)}static squareItems(r){return r.map(p=>p*p)}static normalize(r){return this.divItems(r,this.vectorLen(r))}}class D{static q(r,p){var C=1-p,m=N.mulItems(r[0],C*C*C),b=N.mulItems(r[1],3*C*C*p),h=N.mulItems(r[2],3*C*p*p),t=N.mulItems(r[3],p*p*p);return N.addArrays(N.addArrays(m,b),N.addArrays(h,t))}static qprime(r,p){var C=1-p,m=N.mulItems(N.subtract(r[1],r[0]),3*C*C),b=N.mulItems(N.subtract(r[2],r[1]),6*C*p),h=N.mulItems(N.subtract(r[3],r[2]),3*p*p);return N.addArrays(N.addArrays(m,b),h)}static qprimeprime(r,p){return N.addArrays(N.mulItems(N.addArrays(N.subtract(r[2],N.mulItems(r[1],2)),r[0]),6*(1-p)),N.mulItems(N.addArrays(N.subtract(r[3],N.mulItems(r[2],2)),r[1]),6*p))}}q.exports=function s(w,r,p){if(!Array.isArray(w))throw new TypeError("First argument should be an array");if(w.forEach(h=>{if(!Array.isArray(h)||h.some(t=>"number"!=typeof t)||h.length!==w[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(w=w.filter((h,t)=>0===t||!h.every((e,a)=>e===w[t-1][a]))).length<2)return[];const C=w.length,m=j(w[1],w[0]),b=j(w[C-2],w[C-1]);return T(w,m,b,r,p)},q.exports.fitCubic=T,q.exports.createTangent=j},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var n=T(1),d=T(8),L=T(5),G=T(28),$=T(29);const y=1e3,O=new WeakSet;function j(P){return{width:P[2]-P[0],height:P[3]-P[1]}}class N{static create(i){switch(i.data.annotationType){case n.AnnotationType.LINK:return new w(i);case n.AnnotationType.TEXT:return new r(i);case n.AnnotationType.WIDGET:switch(i.data.fieldType){case"Tx":return new C(i);case"Btn":return i.data.radioButton?new b(i):i.data.checkBox?new m(i):new h(i);case"Ch":return new t(i)}return new p(i);case n.AnnotationType.POPUP:return new e(i);case n.AnnotationType.FREETEXT:return new g(i);case n.AnnotationType.LINE:return new E(i);case n.AnnotationType.SQUARE:return new A(i);case n.AnnotationType.CIRCLE:return new o(i);case n.AnnotationType.POLYLINE:return new f(i);case n.AnnotationType.CARET:return new x(i);case n.AnnotationType.INK:return new V(i);case n.AnnotationType.POLYGON:return new R(i);case n.AnnotationType.HIGHLIGHT:return new v(i);case n.AnnotationType.UNDERLINE:return new k(i);case n.AnnotationType.SQUIGGLY:return new W(i);case n.AnnotationType.STRIKEOUT:return new Q(i);case n.AnnotationType.STAMP:return new se(i);case n.AnnotationType.FILEATTACHMENT:return new H(i);default:return new D(i)}}}class D{constructor(i,{isRenderable:c=!1,ignoreBorder:u=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=c,this.data=i.data,this.layer=i.layer,this.page=i.page,this.viewport=i.viewport,this.linkService=i.linkService,this.downloadManager=i.downloadManager,this.imageResourcesPath=i.imageResourcesPath,this.renderForms=i.renderForms,this.svgFactory=i.svgFactory,this.annotationStorage=i.annotationStorage,this.enableScripting=i.enableScripting,this.hasJSActions=i.hasJSActions,this._fieldObjects=i.fieldObjects,this._mouseState=i.mouseState,c&&(this.container=this._createContainer(u)),M&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(i=!1){const c=this.data,u=this.page,M=this.viewport,I=document.createElement("section"),{width:z,height:K}=j(c.rect),[re,te,pe,le]=M.viewBox,ue=pe-re,de=le-te;I.setAttribute("data-annotation-id",c.id);const _e=n.Util.normalizeRect([c.rect[0],u.view[3]-c.rect[1]+u.view[1],c.rect[2],u.view[3]-c.rect[3]+u.view[1]]);if(!i&&c.borderStyle.width>0){I.style.borderWidth=`${c.borderStyle.width}px`;const ie=c.borderStyle.horizontalCornerRadius,oe=c.borderStyle.verticalCornerRadius;switch(ie>0||oe>0?I.style.borderRadius=`calc(${ie}px * var(--scale-factor)) / calc(${oe}px * var(--scale-factor))`:this instanceof b&&(I.style.borderRadius=`calc(${z}px * var(--scale-factor)) / calc(${K}px * var(--scale-factor))`),c.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:I.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:I.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:I.style.borderBottomStyle="solid"}const Fe=c.borderColor||null;Fe?I.style.borderColor=n.Util.makeHexColor(0|Fe[0],0|Fe[1],0|Fe[2]):I.style.borderWidth=0}I.style.left=100*(_e[0]-re)/ue+"%",I.style.top=100*(_e[1]-te)/de+"%";const{rotation:me}=c;return c.hasOwnCanvas||0===me?(I.style.width=100*z/ue+"%",I.style.height=100*K/de+"%"):this.setRotation(me,I),I}setRotation(i,c=this.container){const[u,M,I,z]=this.viewport.viewBox,K=I-u,re=z-M,{width:te,height:pe}=j(this.data.rect);let le,ue;i%180==0?(le=100*te/K,ue=100*pe/re):(le=100*pe/K,ue=100*te/re),c.style.width=`${le}%`,c.style.height=`${ue}%`,c.setAttribute("data-main-rotation",(360-i)%360)}get _commonActions(){const i=(c,u,M)=>{const I=M.detail[c];M.target.style[u]=G.ColorConverters[`${I[0]}_HTML`](I.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:c=>{const u=c.detail.display%2==1;this.container.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:u,print:0===c.detail.display||3===c.detail.display})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{this.container.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{this._setRequired(c.target,c.detail.required)},bgColor:c=>{i("bgColor","backgroundColor",c)},fillColor:c=>{i("fillColor","backgroundColor",c)},fgColor:c=>{i("fgColor","color",c)},textColor:c=>{i("textColor","color",c)},borderColor:c=>{i("borderColor","borderColor",c)},strokeColor:c=>{i("strokeColor","borderColor",c)},rotation:c=>{const u=c.detail.rotation;this.setRotation(u),this.annotationStorage.setValue(this.data.id,{rotation:u})}})}_dispatchEventFromSandbox(i,c){const u=this._commonActions;for(const M of Object.keys(c.detail)){const I=i[M]||u[M];I&&I(c)}}_setDefaultPropertiesFromJS(i){if(!this.enableScripting)return;const c=this.annotationStorage.getRawValue(this.data.id);if(!c)return;const u=this._commonActions;for(const[M,I]of Object.entries(c)){const z=u[M];z&&(z({detail:{[M]:I},target:i}),delete c[M])}}_createQuadrilaterals(i=!1){if(!this.data.quadPoints)return null;const c=[],u=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],c.push(this._createContainer(i));return this.data.rect=u,c}_createPopup(i,c){let u=this.container;this.quadrilaterals&&(i=i||this.quadrilaterals,u=this.quadrilaterals[0]),i||((i=document.createElement("div")).className="popupTriggerArea",u.append(i));const I=new a({container:u,trigger:i,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();I.style.left="100%",u.append(I)}_renderQuadrilaterals(i){for(const c of this.quadrilaterals)c.className=i;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(i,c=null){const u=[];if(this._fieldObjects){const M=this._fieldObjects[i];if(M)for(const{page:I,id:z,exportValues:K}of M){if(-1===I||z===c)continue;const re="string"==typeof K?K:null,te=document.querySelector(`[data-element-id="${z}"]`);!te||O.has(te)?u.push({id:z,exportValue:re,domElement:te}):(0,n.warn)(`_getElementsByName - element not allowed: ${z}`)}return u}for(const M of document.getElementsByName(i)){const{id:I,exportValue:z}=M;I!==c&&O.has(M)&&u.push({id:I,exportValue:z,domElement:M})}return u}static get platform(){const i=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:i.includes("Win"),isMac:i.includes("Mac")})}}class w extends D{constructor(i,c=null){super(i,{isRenderable:!0,ignoreBorder:!(null==c||!c.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:c}=this,u=document.createElement("a");u.setAttribute("data-element-id",i.id);let M=!1;return i.url?(c.addLinkAttributes(u,i.url,i.newWindow),M=!0):i.action?(this._bindNamedAction(u,i.action),M=!0):i.dest?(this._bindLink(u,i.dest),M=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(u,i),M=!0),i.resetForm?(this._bindResetFormAction(u,i.resetForm),M=!0):this.isTooltipOnly&&!M&&(this._bindLink(u,""),M=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((I,z)=>{const K=0===z?u:u.cloneNode();return I.append(K),I}):(this.container.className="linkAnnotation",M&&this.container.append(u),this.container)}_bindLink(i,c){i.href=this.linkService.getDestinationHash(c),i.onclick=()=>(c&&this.linkService.goToDestination(c),!1),(c||""===c)&&(i.className="internalLink")}_bindNamedAction(i,c){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(c),!1),i.className="internalLink"}_bindJSAction(i,c){i.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(c.actions)){const I=u.get(M);I&&(i[I]=()=>{var z;return null===(z=this.linkService.eventBus)||void 0===z||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c.id,name:M}}),!1})}i.onclick||(i.onclick=()=>!1),i.className="internalLink"}_bindResetFormAction(i,c){const u=i.onclick;if(u||(i.href=this.linkService.getAnchorUrl("")),i.className="internalLink",!this._fieldObjects)return(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(i.onclick=()=>!1));i.onclick=()=>{u&&u();const{fields:M,refs:I,include:z}=c,K=[];if(0!==M.length||0!==I.length){const le=new Set(I);for(const ue of M){const de=this._fieldObjects[ue]||[];for(const{id:_e}of de)le.add(_e)}for(const ue of Object.values(this._fieldObjects))for(const de of ue)le.has(de.id)===z&&K.push(de)}else for(const le of Object.values(this._fieldObjects))K.push(...le);const re=this.annotationStorage,te=[];for(const le of K){const{id:ue}=le;switch(te.push(ue),le.type){case"text":case"combobox":case"listbox":re.setValue(ue,{value:le.defaultValue||""});break;case"checkbox":case"radiobutton":re.setValue(ue,{value:le.defaultValue===le.exportValues});break;default:continue}const de=document.querySelector(`[data-element-id="${ue}"]`);de&&(O.has(de)?de.dispatchEvent(new Event("resetform")):(0,n.warn)(`_bindResetFormAction - element not allowed: ${ue}`))}var pe;return this.enableScripting&&(null===(pe=this.linkService.eventBus)||void 0===pe||pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:te,name:"ResetForm"}})),!1}}}class r extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str)})}render(){this.container.className="textAnnotation";const i=document.createElement("img");return i.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",i.alt="[{{type}} Annotation]",i.dataset.l10nId="text_annotation_type",i.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(i,this.data),this.container.append(i),this.container}}class p extends D{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(i){const{isWin:c,isMac:u}=D.platform;return c&&i.ctrlKey||u&&i.metaKey}_setEventListener(i,c,u,M){c.includes("mouse")?i.addEventListener(c,I=>{var z;null===(z=this.linkService.eventBus)||void 0===z||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:M(I),shift:I.shiftKey,modifier:this._getKeyModifier(I)}})}):i.addEventListener(c,I=>{var z;null===(z=this.linkService.eventBus)||void 0===z||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:M(I)}})})}_setEventListeners(i,c,u){for(const[I,z]of c){var M;("Action"===z||null!==(M=this.data.actions)&&void 0!==M&&M[z])&&this._setEventListener(i,I,z,u)}}_setBackgroundColor(i){const c=this.data.backgroundColor||null;i.style.backgroundColor=null===c?"transparent":n.Util.makeHexColor(c[0],c[1],c[2])}_setTextStyle(i){const{fontColor:u}=this.data.defaultAppearanceData,M=this.data.defaultAppearanceData.fontSize||9,I=i.style;let z;if(this.data.multiLine){const K=Math.abs(this.data.rect[3]-this.data.rect[1]),re=Math.round(K/(n.LINE_FACTOR*M))||1;z=Math.min(M,Math.round(K/re/n.LINE_FACTOR))}else{const K=Math.abs(this.data.rect[3]-this.data.rect[1]);z=Math.min(M,Math.round(K/n.LINE_FACTOR))}I.fontSize=`calc(${z}px * var(--scale-factor))`,I.color=n.Util.makeHexColor(u[0],u[1],u[2]),null!==this.data.textAlignment&&(I.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(i,c){c?i.setAttribute("required",!0):i.removeAttribute("required"),i.setAttribute("aria-required",c)}}class C extends p{constructor(i){super(i,{isRenderable:i.renderForms||!i.data.hasAppearance&&!!i.data.fieldValue})}setPropertyOnSiblings(i,c,u,M){const I=this.annotationStorage;for(const z of this._getElementsByName(i.name,i.id))z.domElement&&(z.domElement[c]=u),I.setValue(z.id,{[M]:u})}render(){const i=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const I=i.getValue(c,{value:this.data.fieldValue});let z=I.formattedValue||I.value||"";const K=i.getValue(c,{charLimit:this.data.maxLen}).charLimit;K&&z.length>K&&(z=z.slice(0,K));const re={userValue:z,formattedValue:null,valueOnFocus:""};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=z,this.data.doNotScroll&&(u.style.overflowY="hidden")):(u=document.createElement("input"),u.type="text",u.setAttribute("value",z),this.data.doNotScroll&&(u.style.overflowX="hidden")),O.add(u),u.setAttribute("data-element-id",c),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=y,this._setRequired(u,this.data.required),K&&(u.maxLength=K),u.addEventListener("input",pe=>{i.setValue(c,{value:pe.target.value}),this.setPropertyOnSiblings(u,"value",pe.target.value,"value")}),u.addEventListener("resetform",pe=>{var le;const ue=null!==(le=this.data.defaultFieldValue)&&void 0!==le?le:"";u.value=re.userValue=ue,re.formattedValue=null});let te=pe=>{const{formattedValue:le}=re;null!=le&&(pe.target.value=le),pe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var M;u.addEventListener("focus",le=>{re.userValue&&(le.target.value=re.userValue),re.valueOnFocus=le.target.value}),u.addEventListener("updatefromsandbox",le=>{this._dispatchEventFromSandbox({value(de){var _e;re.userValue=null!==(_e=de.detail.value)&&void 0!==_e?_e:"",i.setValue(c,{value:re.userValue.toString()}),de.target.value=re.userValue},formattedValue(de){const{formattedValue:_e}=de.detail;re.formattedValue=_e,null!=_e&&de.target!==document.activeElement&&(de.target.value=_e),i.setValue(c,{formattedValue:_e})},selRange(de){de.target.setSelectionRange(...de.detail.selRange)},charLimit:de=>{var _e;const{charLimit:me}=de.detail,{target:ie}=de;if(0===me)return void ie.removeAttribute("maxLength");ie.setAttribute("maxLength",me);let oe=re.userValue;!oe||oe.length<=me||(oe=oe.slice(0,me),ie.value=re.userValue=oe,i.setValue(c,{value:oe}),null===(_e=this.linkService.eventBus)||void 0===_e||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:oe,willCommit:!0,commitKey:1,selStart:ie.selectionStart,selEnd:ie.selectionEnd}}))}},le)}),u.addEventListener("keydown",le=>{var ue;let de=-1;if("Escape"===le.key?de=0:"Enter"===le.key?de=2:"Tab"===le.key&&(de=3),-1===de)return;const{value:_e}=le.target;re.valueOnFocus!==_e&&(re.userValue=_e,null===(ue=this.linkService.eventBus)||void 0===ue||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:_e,willCommit:!0,commitKey:de,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}))});const pe=te;te=null,u.addEventListener("blur",le=>{const{value:ue}=le.target;var de;re.userValue=ue,this._mouseState.isDown&&re.valueOnFocus!==ue&&(null===(de=this.linkService.eventBus)||void 0===de||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:ue,willCommit:!0,commitKey:1,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}})),pe(le)}),null!==(M=this.data.actions)&&void 0!==M&&M.Keystroke&&u.addEventListener("beforeinput",le=>{var ue;const{data:de,target:_e}=le,{value:me,selectionStart:ie,selectionEnd:oe}=_e;let Fe=ie,Le=oe;switch(le.inputType){case"deleteWordBackward":{const Me=me.substring(0,ie).match(/\w*[^\w]*$/);Me&&(Fe-=Me[0].length);break}case"deleteWordForward":{const Me=me.substring(ie).match(/^[^\w]*\w*/);Me&&(Le+=Me[0].length);break}case"deleteContentBackward":ie===oe&&(Fe-=1);break;case"deleteContentForward":ie===oe&&(Le+=1)}le.preventDefault(),null===(ue=this.linkService.eventBus)||void 0===ue||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:me,change:de||"",willCommit:!1,selStart:Fe,selEnd:Le}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.value)}if(te&&u.addEventListener("blur",te),this.data.comb){const le=(this.data.rect[2]-this.data.rect[0])/K;u.classList.add("comb"),u.style.letterSpacing=`calc(${le}px * var(--scale-factor) - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.append(u),this.container}}class m extends p{constructor(i){super(i,{isRenderable:i.renderForms})}render(){const i=this.annotationStorage,c=this.data,u=c.id;let M=i.getValue(u,{value:c.exportValue===c.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,i.setValue(u,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const I=document.createElement("input");return O.add(I),I.setAttribute("data-element-id",u),I.disabled=c.readOnly,this._setRequired(I,this.data.required),I.type="checkbox",I.name=c.fieldName,M&&I.setAttribute("checked",!0),I.setAttribute("exportValue",c.exportValue),I.tabIndex=y,I.addEventListener("change",z=>{const{name:K,checked:re}=z.target;for(const te of this._getElementsByName(K,u)){const pe=re&&te.exportValue===c.exportValue;te.domElement&&(te.domElement.checked=pe),i.setValue(te.id,{value:pe})}i.setValue(u,{value:re})}),I.addEventListener("resetform",z=>{z.target.checked=(c.defaultFieldValue||"Off")===c.exportValue}),this.enableScripting&&this.hasJSActions&&(I.addEventListener("updatefromsandbox",z=>{this._dispatchEventFromSandbox({value(re){re.target.checked="Off"!==re.detail.value,i.setValue(u,{value:re.target.checked})}},z)}),this._setEventListeners(I,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)),this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class b extends p{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const i=this.annotationStorage,c=this.data,u=c.id;let M=i.getValue(u,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof M&&(M=M!==c.buttonValue,i.setValue(u,{value:M}));const I=document.createElement("input");if(O.add(I),I.setAttribute("data-element-id",u),I.disabled=c.readOnly,this._setRequired(I,this.data.required),I.type="radio",I.name=c.fieldName,M&&I.setAttribute("checked",!0),I.tabIndex=y,I.addEventListener("change",z=>{const{name:K,checked:re}=z.target;for(const te of this._getElementsByName(K,u))i.setValue(te.id,{value:!1});i.setValue(u,{value:re})}),I.addEventListener("resetform",z=>{const K=c.defaultFieldValue;z.target.checked=null!=K&&K===c.buttonValue}),this.enableScripting&&this.hasJSActions){const z=c.buttonValue;I.addEventListener("updatefromsandbox",K=>{this._dispatchEventFromSandbox({value:te=>{const pe=z===te.detail.value;for(const le of this._getElementsByName(te.target.name)){const ue=pe&&le.id===u;le.domElement&&(le.domElement.checked=ue),i.setValue(le.id,{value:ue})}}},K)}),this._setEventListeners(I,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)}return this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class h extends w{constructor(i){super(i,{ignoreBorder:i.data.hasAppearance})}render(){const i=super.render();i.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(i.title=this.data.alternativeText);const c=i.lastChild;return this.enableScripting&&this.hasJSActions&&c&&(this._setDefaultPropertiesFromJS(c),c.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({},u)})),i}}class t extends p{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const i=this.annotationStorage,c=this.data.id,u=i.getValue(c,{value:this.data.fieldValue}),M=document.createElement("select");O.add(M),M.setAttribute("data-element-id",c),M.disabled=this.data.readOnly,this._setRequired(M,this.data.required),M.name=this.data.fieldName,M.tabIndex=y;let I=this.data.combo&&this.data.options.length>0;this.data.combo||(M.size=this.data.options.length,this.data.multiSelect&&(M.multiple=!0)),M.addEventListener("resetform",te=>{const pe=this.data.defaultFieldValue;for(const le of M.options)le.selected=le.value===pe});for(const te of this.data.options){const pe=document.createElement("option");pe.textContent=te.displayValue,pe.value=te.exportValue,u.value.includes(te.exportValue)&&(pe.setAttribute("selected",!0),I=!1),M.append(pe)}let z=null;if(I){const te=document.createElement("option");te.value=" ",te.setAttribute("hidden",!0),te.setAttribute("selected",!0),M.prepend(te),z=()=>{te.remove(),M.removeEventListener("input",z),z=null},M.addEventListener("input",z)}const K=(te,pe)=>{const le=pe?"value":"textContent",ue=te.target.options;return te.target.multiple?Array.prototype.filter.call(ue,de=>de.selected).map(de=>de[le]):-1===ue.selectedIndex?null:ue[ue.selectedIndex][le]},re=te=>Array.prototype.map.call(te.target.options,le=>({displayValue:le.textContent,exportValue:le.value}));return this.enableScripting&&this.hasJSActions?(M.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(le){var ue;null===(ue=z)||void 0===ue||ue();const de=le.detail.value,_e=new Set(Array.isArray(de)?de:[de]);for(const me of M.options)me.selected=_e.has(me.value);i.setValue(c,{value:K(le,!0)})},multipleSelection(le){M.multiple=!0},remove(le){const ue=M.options,de=le.detail.remove;ue[de].selected=!1,M.remove(de),ue.length>0&&-1===Array.prototype.findIndex.call(ue,me=>me.selected)&&(ue[0].selected=!0),i.setValue(c,{value:K(le,!0),items:re(le)})},clear(le){for(;0!==M.length;)M.remove(0);i.setValue(c,{value:null,items:[]})},insert(le){const{index:ue,displayValue:de,exportValue:_e}=le.detail.insert,me=M.children[ue],ie=document.createElement("option");ie.textContent=de,ie.value=_e,me?me.before(ie):M.append(ie),i.setValue(c,{value:K(le,!0),items:re(le)})},items(le){const{items:ue}=le.detail;for(;0!==M.length;)M.remove(0);for(const de of ue){const{displayValue:_e,exportValue:me}=de,ie=document.createElement("option");ie.textContent=_e,ie.value=me,M.append(ie)}M.options.length>0&&(M.options[0].selected=!0),i.setValue(c,{value:K(le,!0),items:re(le)})},indices(le){const ue=new Set(le.detail.indices);for(const de of le.target.options)de.selected=ue.has(de.index);i.setValue(c,{value:K(le,!0)})},editable(le){le.target.disabled=!le.detail.editable}},te)}),M.addEventListener("input",te=>{var pe;const le=K(te,!0),ue=K(te,!1);i.setValue(c,{value:le}),null===(pe=this.linkService.eventBus)||void 0===pe||pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:ue,changeEx:le,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(M,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],te=>te.target.checked)):M.addEventListener("input",function(te){i.setValue(c,{value:K(te,!0)})}),this.data.combo&&this._setTextStyle(M),this._setBackgroundColor(M),this._setDefaultPropertiesFromJS(M),this.container.append(M),this.container}}class e extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const M=new a({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),I=this.page,z=n.Util.normalizeRect([this.data.parentRect[0],I.view[3]-this.data.parentRect[1]+I.view[1],this.data.parentRect[2],I.view[3]-this.data.parentRect[3]+I.view[1]]),K=z[0]+this.data.parentRect[2]-this.data.parentRect[0],re=z[1],[te,pe,le,ue]=this.viewport.viewBox,_e=ue-pe;return this.container.style.left=100*(K-te)/(le-te)+"%",this.container.style.top=100*(re-pe)/_e+"%",this.container.append(M.render()),this.container}}class a{constructor(i){this.container=i.container,this.trigger=i.trigger,this.color=i.color,this.titleObj=i.titleObj,this.modificationDate=i.modificationDate,this.contentsObj=i.contentsObj,this.richText=i.richText,this.hideWrapper=i.hideWrapper||!1,this.pinned=!1}render(){var i,c;const M=document.createElement("div");M.className="popupWrapper",this.hideElement=this.hideWrapper?M:this.container,this.hideElement.hidden=!0;const I=document.createElement("div");I.className="popup";const z=this.color;z&&(I.style.backgroundColor=n.Util.makeHexColor(0|.7*(255-z[0])+z[0],0|.7*(255-z[1])+z[1],0|.7*(255-z[2])+z[2]));const K=document.createElement("h1");K.dir=this.titleObj.dir,K.textContent=this.titleObj.str,I.append(K);const re=d.PDFDateString.toDateObject(this.modificationDate);if(re){const te=document.createElement("span");te.className="popupDate",te.textContent="{{date}}, {{time}}",te.dataset.l10nId="annotation_date_string",te.dataset.l10nArgs=JSON.stringify({date:re.toLocaleDateString(),time:re.toLocaleTimeString()}),I.append(te)}if(null===(i=this.richText)||void 0===i||!i.str||null!==(c=this.contentsObj)&&void 0!==c&&c.str&&this.contentsObj.str!==this.richText.str){const te=this._formatContents(this.contentsObj);I.append(te)}else $.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:I}),I.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const te of this.trigger)te.addEventListener("click",this._toggle.bind(this)),te.addEventListener("mouseover",this._show.bind(this,!1)),te.addEventListener("mouseout",this._hide.bind(this,!1));return I.addEventListener("click",this._hide.bind(this,!0)),M.append(I),M}_formatContents({str:i,dir:c}){const u=document.createElement("p");u.className="popupContent",u.dir=c;const M=i.split(/(?:\r\n?|\n)/);for(let I=0,z=M.length;I<z;++I)u.append(document.createTextNode(M[I])),I<z-1&&u.append(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(i=!1){i&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(i=!0){i&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class g extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0}),this.textContent=i.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const i=document.createElement("div");i.className="annotationTextContent",i.setAttribute("role","comment");for(const c of this.textContent){const u=document.createElement("span");u.textContent=c,i.append(u)}this.container.append(i)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const i=this.data,{width:c,height:u}=j(i.rect),M=this.svgFactory.create(c,u,!0),I=this.svgFactory.createElement("svg:line");return I.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),I.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),I.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),I.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),I.setAttribute("stroke-width",i.borderStyle.width||1),I.setAttribute("stroke","transparent"),I.setAttribute("fill","transparent"),M.append(I),this.container.append(M),this._createPopup(I,i),this.container}}class A extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const i=this.data,{width:c,height:u}=j(i.rect),M=this.svgFactory.create(c,u,!0),I=i.borderStyle.width,z=this.svgFactory.createElement("svg:rect");return z.setAttribute("x",I/2),z.setAttribute("y",I/2),z.setAttribute("width",c-I),z.setAttribute("height",u-I),z.setAttribute("stroke-width",I||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),M.append(z),this.container.append(M),this._createPopup(z,i),this.container}}class o extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const i=this.data,{width:c,height:u}=j(i.rect),M=this.svgFactory.create(c,u,!0),I=i.borderStyle.width,z=this.svgFactory.createElement("svg:ellipse");return z.setAttribute("cx",c/2),z.setAttribute("cy",u/2),z.setAttribute("rx",c/2-I/2),z.setAttribute("ry",u/2-I/2),z.setAttribute("stroke-width",I||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),M.append(z),this.container.append(M),this._createPopup(z,i),this.container}}class f extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:c,height:u}=j(i.rect),M=this.svgFactory.create(c,u,!0);let I=[];for(const K of i.vertices)I.push(K.x-i.rect[0]+","+(i.rect[3]-K.y));I=I.join(" ");const z=this.svgFactory.createElement(this.svgElementName);return z.setAttribute("points",I),z.setAttribute("stroke-width",i.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),M.append(z),this.container.append(M),this._createPopup(z,i),this.container}}class R extends f{constructor(i){super(i),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class x extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class V extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:c,height:u}=j(i.rect),M=this.svgFactory.create(c,u,!0);for(const I of i.inkLists){let z=[];for(const re of I)z.push(`${re.x-i.rect[0]},${i.rect[3]-re.y}`);z=z.join(" ");const K=this.svgFactory.createElement(this.svgElementName);K.setAttribute("points",z),K.setAttribute("stroke-width",i.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),this._createPopup(K,i),M.append(K)}return this.container.append(M),this.container}}class v extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class k extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class W extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class se extends D{constructor(i){var c,u,M;super(i,{isRenderable:!!(i.data.hasPopup||null!==(c=i.data.titleObj)&&void 0!==c&&c.str||null!==(u=i.data.contentsObj)&&void 0!==u&&u.str||null!==(M=i.data.richText)&&void 0!==M&&M.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends D{constructor(i){var c;super(i,{isRenderable:!0});const{filename:u,content:M}=this.data.file;this.filename=(0,d.getFilenameFromUrl)(u),this.content=M,null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("fileattachmentannotation",{source:this,filename:u,content:M})}render(){var i,c;this.container.className="fileAttachmentAnnotation";const u=document.createElement("div");return u.className="popupTriggerArea",u.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(i=this.data.titleObj)&&void 0!==i&&i.str||null!==(c=this.data.contentsObj)&&void 0!==c&&c.str||this.data.richText)&&this._createPopup(u,this.data),this.container.append(u),this.container}_download(){var i;null===(i=this.downloadManager)||void 0===i||i.openOrDownloadData(this.container,this.content,this.filename)}}class _{static render(i){const{annotations:c,div:u,viewport:M,accessibilityManager:I}=i;_classStaticPrivateMethodGet(this,_,S).call(this,u,M);let z=0;for(const K of c){if(K.annotationType!==n.AnnotationType.POPUP){const{width:te,height:pe}=j(K.rect);if(te<=0||pe<=0)continue}const re=N.create({data:K,layer:u,page:i.page,viewport:M,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:!1!==i.renderForms,svgFactory:new d.DOMSVGFactory,annotationStorage:i.annotationStorage||new L.AnnotationStorage,enableScripting:i.enableScripting,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,mouseState:i.mouseState||{isDown:!1}});if(re.isRenderable){const te=re.render();if(K.hidden&&(te.style.visibility="hidden"),Array.isArray(te))for(const pe of te)pe.style.zIndex=z++,_classStaticPrivateMethodGet(_,_,l).call(_,pe,K.id,u,I);else te.style.zIndex=z++,re instanceof e?u.prepend(te):_classStaticPrivateMethodGet(_,_,l).call(_,te,K.id,u,I)}}_classStaticPrivateMethodGet(this,_,B).call(this,u,i.annotationCanvasMap)}static update(i){const{annotationCanvasMap:c,div:u,viewport:M}=i;_classStaticPrivateMethodGet(this,_,S).call(this,u,M),_classStaticPrivateMethodGet(this,_,B).call(this,u,c),u.hidden=!1}}function l(P,i,c,u){const M=P.firstChild||P;M.id=`${d.AnnotationPrefix}${i}`,c.append(P),null==u||u.moveElementInDOM(c,P,M,!1)}function S(P,{width:i,height:c,rotation:u}){const{style:M}=P,I=u%180!=0,z=Math.floor(i)+"px",K=Math.floor(c)+"px";M.width=I?K:z,M.height=I?z:K,P.setAttribute("data-main-rotation",u)}function B(P,i){if(i){for(const[c,u]of i){const M=P.querySelector(`[data-annotation-id="${c}"]`);if(!M)continue;const{firstChild:I}=M;I?"CANVAS"===I.nodeName?I.replaceWith(u):I.before(u):M.append(u)}i.clear()}}s.AnnotationLayer=_},(q,s)=>{function T(d){return Math.floor(255*Math.max(0,Math.min(1,d))).toString(16).padStart(2,"0")}Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0,s.ColorConverters=class n{static CMYK_G([L,G,$,y]){return["G",1-Math.min(1,.3*L+.59*$+.11*G+y)]}static G_CMYK([L]){return["CMYK",0,0,0,1-L]}static G_RGB([L]){return["RGB",L,L,L]}static G_HTML([L]){const G=T(L);return`#${G}${G}${G}`}static RGB_G([L,G,$]){return["G",.3*L+.59*G+.11*$]}static RGB_HTML([L,G,$]){return`#${T(L)}${T(G)}${T($)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([L,G,$,y]){return["RGB",1-Math.min(1,L+y),1-Math.min(1,$+y),1-Math.min(1,G+y)]}static CMYK_HTML(L){const G=this.CMYK_RGB(L).slice(1);return this.RGB_HTML(G)}static RGB_CMYK([L,G,$]){const y=1-L,F=1-G,O=1-$;return["CMYK",y,F,O,Math.min(y,F,O)]}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var n=T(20);s.XfaLayer=class d{static setupStorage(G,$,y,F,O){const j=F.getValue($,{value:null});switch(y.name){case"textarea":if(null!==j.value&&(G.textContent=j.value),"print"===O)break;G.addEventListener("input",N=>{F.setValue($,{value:N.target.value})});break;case"input":if("radio"===y.attributes.type||"checkbox"===y.attributes.type){if(j.value===y.attributes.xfaOn?G.setAttribute("checked",!0):j.value===y.attributes.xfaOff&&G.removeAttribute("checked"),"print"===O)break;G.addEventListener("change",N=>{F.setValue($,{value:N.target.getAttribute(N.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==j.value&&G.setAttribute("value",j.value),"print"===O)break;G.addEventListener("input",N=>{F.setValue($,{value:N.target.value})})}break;case"select":if(null!==j.value)for(const N of y.children)N.attributes.value===j.value&&(N.attributes.selected=!0);G.addEventListener("input",N=>{const D=N.target.options;F.setValue($,{value:-1===D.selectedIndex?"":D[D.selectedIndex].value})})}}static setAttributes({html:G,element:$,storage:y=null,intent:F,linkService:O}){const{attributes:j}=$,N=G instanceof HTMLAnchorElement;"radio"===j.type&&(j.name=`${j.name}-${F}`);for(const[D,w]of Object.entries(j))if(null!=w)switch(D){case"class":w.length&&G.setAttribute(D,w.join(" "));break;case"dataId":break;case"id":G.setAttribute("data-element-id",w);break;case"style":Object.assign(G.style,w);break;case"textContent":G.textContent=w;break;default:(!N||"href"!==D&&"newWindow"!==D)&&G.setAttribute(D,w)}N&&O.addLinkAttributes(G,j.href,j.newWindow),y&&j.dataId&&this.setupStorage(G,j.dataId,$,y)}static render(G){const $=G.annotationStorage,y=G.linkService,F=G.xfaHtml,O=G.intent||"display",j=document.createElement(F.name);F.attributes&&this.setAttributes({html:j,element:F,intent:O,linkService:y});const N=[[F,-1,j]],D=G.div;if(D.append(j),G.viewport){const p=`matrix(${G.viewport.transform.join(",")})`;D.style.transform=p}"richText"!==O&&D.setAttribute("class","xfaLayer xfaFont");const w=[];for(;N.length>0;){var r;const[p,C,m]=N.at(-1);if(C+1===p.children.length){N.pop();continue}const b=p.children[++N.at(-1)[1]];if(null===b)continue;const{name:h}=b;if("#text"===h){const e=document.createTextNode(b.value);w.push(e),m.append(e);continue}let t;if(t=null!=b&&null!==(r=b.attributes)&&void 0!==r&&r.xmlns?document.createElementNS(b.attributes.xmlns,h):document.createElement(h),m.append(t),b.attributes&&this.setAttributes({html:t,element:b,storage:$,intent:O,linkService:y}),b.children&&b.children.length>0)N.push([b,-1,t]);else if(b.value){const e=document.createTextNode(b.value);n.XfaText.shouldBuildText(h)&&w.push(e),t.append(e)}}for(const p of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:w}}static update(G){const $=`matrix(${G.viewport.transform.join(",")})`;G.div.style.transform=$,G.div.hidden=!1}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=function m(b){const h=new C({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return h._render(b.timeout),h};var n=T(1),d=T(8);const G=30,y=new Map,F=/^\s+$/g;function j(b,h,t,e){const a=document.createElement("span"),g=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==h.str,hasEOL:h.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==h.str,hasEOL:h.hasEOL,fontSize:0};b._textDivs.push(a);const E=n.Util.transform(b._viewport.transform,h.transform);let A=Math.atan2(E[1],E[0]);const o=t[h.fontName];o.vertical&&(A+=Math.PI/2);const f=Math.hypot(E[2],E[3]),R=f*function O(b,h){const t=y.get(b);if(t)return t;h.save(),h.font=`30px ${b}`;const e=h.measureText("");let a=e.fontBoundingBoxAscent,g=Math.abs(e.fontBoundingBoxDescent);if(a){h.restore();const A=a/(a+g);return y.set(b,A),A}h.strokeStyle="red",h.clearRect(0,0,G,G),h.strokeText("g",0,0);let E=h.getImageData(0,0,G,G).data;g=0;for(let A=E.length-1-3;A>=0;A-=4)if(E[A]>0){g=Math.ceil(A/4/G);break}h.clearRect(0,0,G,G),h.strokeText("A",0,G),E=h.getImageData(0,0,G,G).data,a=0;for(let A=0,o=E.length;A<o;A+=4)if(E[A]>0){a=G-Math.floor(A/4/G);break}if(h.restore(),a){const A=a/(a+g);return y.set(b,A),A}return y.set(b,.8),.8}(o.fontFamily,e);let x,V;0===A?(x=E[4],V=E[5]-R):(x=E[4]+R*Math.sin(A),V=E[5]-R*Math.cos(A)),a.style.left=`${x}px`,a.style.top=`${V}px`,a.style.fontSize=`${f}px`,a.style.fontFamily=o.fontFamily,g.fontSize=f,a.setAttribute("role","presentation"),a.textContent=h.str,a.dir=h.dir,b._fontInspectorEnabled&&(a.dataset.fontName=h.fontName),0!==A&&(g.angle=A*(180/Math.PI));let v=!1;if(h.str.length>1||b._enhanceTextSelection&&F.test(h.str))v=!0;else if(" "!==h.str&&h.transform[0]!==h.transform[3]){const k=Math.abs(h.transform[0]),W=Math.abs(h.transform[3]);k!==W&&Math.max(k,W)/Math.min(k,W)>1.5&&(v=!0)}if(v&&(g.canvasWidth=o.vertical?h.height*b._viewport.scale:h.width*b._viewport.scale),b._textDivProperties.set(a,g),b._textContentStream&&b._layoutText(a),b._enhanceTextSelection&&g.hasText){let k=1,W=0;0!==A&&(k=Math.cos(A),W=Math.sin(A));const Q=(o.vertical?h.height:h.width)*b._viewport.scale,se=f;let H,_;0!==A?(H=[k,W,-W,k,x,V],_=n.Util.getAxialAlignedBoundingBox([0,0,Q,se],H)):_=[x,V,x+Q,V+se],b._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:a,size:[Q,se],m:H})}}function N(b){if(b._canceled)return;const h=b._textDivs,t=b._capability,e=h.length;if(e>1e5)return b._renderingDone=!0,void t.resolve();if(!b._textContentStream)for(let a=0;a<e;a++)b._layoutText(h[a]);b._renderingDone=!0,t.resolve()}function D(b,h,t){let e=0;for(let a=0;a<t;a++){const g=b[h++];g>0&&(e=e?Math.min(g,e):g)}return e}function p(b,h){h.sort(function(a,g){return a.x1-g.x1||a.index-g.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const a of h){let g=0;for(;g<e.length&&e[g].end<=a.y1;)g++;let E=e.length-1;for(;E>=0&&e[E].start>=a.y2;)E--;let A,o,f,R,x=-1/0;for(f=g;f<=E;f++){let k;A=e[f],o=A.boundary,k=o.x2>a.x1?o.index>a.index?o.x1New:a.x1:void 0===o.x2New?(o.x2+a.x1)/2:o.x2New,k>x&&(x=k)}for(a.x1New=x,f=g;f<=E;f++)A=e[f],o=A.boundary,void 0===o.x2New?o.x2>a.x1?o.index>a.index&&(o.x2New=o.x2):o.x2New=x:o.x2New>x&&(o.x2New=Math.max(x,o.x2));const V=[];let v=null;for(f=g;f<=E;f++){A=e[f],o=A.boundary;const k=o.x2>a.x2?o:a;v===k?V.at(-1).end=A.end:(V.push({start:A.start,end:A.end,boundary:k}),v=k)}for(e[g].start<a.y1&&(V[0].start=a.y1,V.unshift({start:e[g].start,end:a.y1,boundary:e[g].boundary})),a.y2<e[E].end&&(V.at(-1).end=a.y2,V.push({start:a.y2,end:e[E].end,boundary:e[E].boundary})),f=g;f<=E;f++){if(A=e[f],o=A.boundary,void 0!==o.x2New)continue;let k=!1;for(R=g-1;!k&&R>=0&&e[R].start>=o.y1;R--)k=e[R].boundary===o;for(R=E+1;!k&&R<e.length&&e[R].end<=o.y2;R++)k=e[R].boundary===o;for(R=0;!k&&R<V.length;R++)k=V[R].boundary===o;k||(o.x2New=x)}Array.prototype.splice.apply(e,[g,E-g+1,...V])}for(const a of e){const g=a.boundary;void 0===g.x2New&&(g.x2New=Math.max(b,g.x2))}}class C{constructor({textContent:h,textContentStream:t,container:e,viewport:a,textDivs:g,textContentItemsStr:E,enhanceTextSelection:A}){var o;A&&(0,d.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=h,this._textContentStream=t,this._container=e,this._document=e.ownerDocument,this._viewport=a,this._textDivs=g||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!(null===(o=globalThis.FontInspector)||void 0===o||!o.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(h,t){for(let e=0,a=h.length;e<a;e++)if(void 0!==h[e].str)this._textContentItemsStr.push(h[e].str),j(this,h[e],t,this._layoutTextCtx);else if("beginMarkedContentProps"===h[e].type||"beginMarkedContent"===h[e].type){const g=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==h[e].id&&this._container.setAttribute("id",`${h[e].id}`),g.append(this._container)}else"endMarkedContent"===h[e].type&&(this._container=this._container.parentNode)}_layoutText(h){const t=this._textDivProperties.get(h);let e="";if(0!==t.canvasWidth&&t.hasText){const{fontFamily:a}=h.style,{fontSize:g}=t;(g!==this._layoutTextLastFontSize||a!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${g*this._devicePixelRatio}px ${a}`,this._layoutTextLastFontSize=g,this._layoutTextLastFontFamily=a);const{width:E}=this._layoutTextCtx.measureText(h.textContent);if(E>0){const A=this._devicePixelRatio*t.canvasWidth/E;this._enhanceTextSelection&&(t.scale=A),e=`scaleX(${A})`}}if(0!==t.angle&&(e=`rotate(${t.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(t.originalTransform=e),h.style.transform=e),t.hasText&&this._container.append(h),t.hasEOL){const a=document.createElement("br");a.setAttribute("role","presentation"),this._container.append(a)}}_render(h=0){const t=(0,n.createPromiseCapability)();let e=Object.create(null);const a=this._document.createElement("canvas");if(a.height=a.width=G,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),t.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const g=()=>{this._reader.read().then(({value:E,done:A})=>{A?t.resolve():(Object.assign(e,E.styles),this._processItems(E.items,e),g())},t.reject)};this._reader=this._textContentStream.getReader(),g()}}t.promise.then(()=>{e=null,h?this._renderTimer=setTimeout(()=>{N(this),this._renderTimer=null},h):N(this)},this._capability.reject)}expandTextDivs(h=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function w(b){const h=b._bounds,t=b._viewport,e=function r(b,h,t){const e=t.map(function(g,E){return{x1:g.left,y1:g.top,x2:g.right,y2:g.bottom,index:E,x1New:void 0,x2New:void 0}});p(b,e);const a=new Array(t.length);for(const g of e)a[g.index]={left:g.x1New,top:0,right:g.x2New,bottom:0};t.map(function(g,E){const A=a[E],o=e[E];o.x1=g.top,o.y1=b-A.right,o.x2=g.bottom,o.y2=b-A.left,o.index=E,o.x1New=void 0,o.x2New=void 0}),p(h,e);for(const g of e){const E=g.index;a[E].top=g.x1New,a[E].bottom=g.x2New}return a}(t.width,t.height,h);for(let a=0;a<e.length;a++){const g=h[a].div,E=b._textDivProperties.get(g);if(0===E.angle){E.paddingLeft=h[a].left-e[a].left,E.paddingTop=h[a].top-e[a].top,E.paddingRight=e[a].right-h[a].right,E.paddingBottom=e[a].bottom-h[a].bottom,b._textDivProperties.set(g,E);continue}const A=e[a],o=h[a],f=o.m,R=f[0],x=f[1],V=[[0,0],[0,o.size[1]],[o.size[0],0],o.size],v=new Float64Array(64);for(let W=0,Q=V.length;W<Q;W++){const se=n.Util.applyTransform(V[W],f);v[W+0]=R&&(A.left-se[0])/R,v[W+4]=x&&(A.top-se[1])/x,v[W+8]=R&&(A.right-se[0])/R,v[W+12]=x&&(A.bottom-se[1])/x,v[W+16]=x&&(A.left-se[0])/-x,v[W+20]=R&&(A.top-se[1])/R,v[W+24]=x&&(A.right-se[0])/-x,v[W+28]=R&&(A.bottom-se[1])/R,v[W+32]=R&&(A.left-se[0])/-R,v[W+36]=x&&(A.top-se[1])/-x,v[W+40]=R&&(A.right-se[0])/-R,v[W+44]=x&&(A.bottom-se[1])/-x,v[W+48]=x&&(A.left-se[0])/x,v[W+52]=R&&(A.top-se[1])/-R,v[W+56]=x&&(A.right-se[0])/x,v[W+60]=R&&(A.bottom-se[1])/-R}const k=1+Math.min(Math.abs(R),Math.abs(x));E.paddingLeft=D(v,32,16)/k,E.paddingTop=D(v,48,16)/k,E.paddingRight=D(v,0,16)/k,E.paddingBottom=D(v,16,16)/k,b._textDivProperties.set(g,E)}}(this),this._bounds=null);const t=[],e=[];for(let a=0,g=this._textDivs.length;a<g;a++){const E=this._textDivs[a],A=this._textDivProperties.get(E);A.hasText&&(h?(t.length=0,e.length=0,A.originalTransform&&t.push(A.originalTransform),A.paddingTop>0?(e.push(`${A.paddingTop}px`),t.push(`translateY(${-A.paddingTop}px)`)):e.push(0),e.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),e.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(e.push(A.paddingLeft/A.scale+"px"),t.push(`translateX(${-A.paddingLeft/A.scale}px)`)):e.push(0),E.style.padding=e.join(" "),t.length&&(E.style.transform=t.join(" "))):(E.style.padding=null,E.style.transform=A.originalTransform))}}}s.TextLayerRenderTask=C},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var n=T(8),d=T(1),L=T(3);let G=class{constructor(){(0,d.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=G;{let r=function(t){let e=[];const a=[];for(const g of t)"save"!==g.fn?"restore"===g.fn?e=a.pop():e.push(g):(e.push({fnId:92,fn:"group",items:[]}),a.push(e),e=e.at(-1).items);return e},p=function(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let a=e.length-1;if("0"!==e[a])return e;do{a--}while("0"===e[a]);return e.substring(0,"."===e[a]?a:a+1)},C=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${p(t[0])} ${p(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const e=180*Math.acos(t[0])/Math.PI;return`rotate(${p(e)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${p(t[4])} ${p(t[5])})`;return`matrix(${p(t[0])} ${p(t[1])} ${p(t[2])} ${p(t[3])} ${p(t[4])} ${p(t[5])})`};const $={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},y="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/1999/xlink",O=["butt","round","square"],j=["miter","round","bevel"],N=function(t,e="",a=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!a)return URL.createObjectURL(new Blob([t],{type:e}));const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let E=`data:${e};base64,`;for(let A=0,o=t.length;A<o;A+=3){const f=255&t[A],R=255&t[A+1],x=255&t[A+2];E+=g[f>>2]+g[(3&f)<<4|R>>4]+g[A+1<o?(15&R)<<2|x>>6:64]+g[A+2<o?63&x:64]}return E},D=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),a=new Int32Array(256);for(let x=0;x<256;x++){let V=x;for(let v=0;v<8;v++)V=1&V?3988292384^V>>1&2147483647:V>>1&2147483647;a[x]=V}function E(x,V,v,k){let W=k;const Q=V.length;v[W]=Q>>24&255,v[W+1]=Q>>16&255,v[W+2]=Q>>8&255,v[W+3]=255&Q,W+=4,v[W]=255&x.charCodeAt(0),v[W+1]=255&x.charCodeAt(1),v[W+2]=255&x.charCodeAt(2),v[W+3]=255&x.charCodeAt(3),W+=4,v.set(V,W),W+=V.length;const se=function g(x,V,v){let k=-1;for(let W=V;W<v;W++)k=k>>>8^a[255&(k^x[W])];return-1^k}(v,k+4,W);v[W]=se>>24&255,v[W+1]=se>>16&255,v[W+2]=se>>8&255,v[W+3]=255&se}function f(x){let V=x.length;const v=65535,k=Math.ceil(V/v),W=new Uint8Array(2+V+5*k+4);let Q=0;W[Q++]=120,W[Q++]=156;let se=0;for(;V>v;)W[Q++]=0,W[Q++]=255,W[Q++]=255,W[Q++]=0,W[Q++]=0,W.set(x.subarray(se,se+v),Q),Q+=v,se+=v,V-=v;W[Q++]=1,W[Q++]=255&V,W[Q++]=V>>8&255,W[Q++]=255&~V,W[Q++]=(65535&~V)>>8&255,W.set(x.subarray(se),Q),Q+=x.length-se;const H=function A(x,V,v){let k=1,W=0;for(let Q=V;Q<v;++Q)k=(k+(255&x[Q]))%65521,W=(W+k)%65521;return W<<16|k}(x,0,x.length);return W[Q++]=H>>24&255,W[Q++]=H>>16&255,W[Q++]=H>>8&255,W[Q++]=255&H,W}return function(V,v,k){return function R(x,V,v,k){const W=x.width,Q=x.height;let se,H,_;const l=x.data;switch(V){case d.ImageKind.GRAYSCALE_1BPP:H=0,se=1,_=W+7>>3;break;case d.ImageKind.RGB_24BPP:H=2,se=8,_=3*W;break;case d.ImageKind.RGBA_32BPP:H=6,se=8,_=4*W;break;default:throw new Error("invalid format")}const S=new Uint8Array((1+_)*Q);let B=0,P=0;for(let z=0;z<Q;++z)S[B++]=0,S.set(l.subarray(P,P+_),B),P+=_,B+=_;if(V===d.ImageKind.GRAYSCALE_1BPP&&k){B=0;for(let z=0;z<Q;z++){B++;for(let K=0;K<_;K++)S[B++]^=255}}const i=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,255&W,Q>>24&255,Q>>16&255,Q>>8&255,255&Q,se,H,0,0,0]),c=function o(x){if(!L.isNodeJS)return f(x);try{let V;V=parseInt(process.versions.node)>=8?x:Buffer.from(x);const v=__webpack_require__(2258).deflateSync(V,{level:9});return v instanceof Uint8Array?v:new Uint8Array(v)}catch(V){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+V)}return f(x)}(S),M=new Uint8Array(t.length+36+i.length+c.length);let I=0;return M.set(t,I),I+=t.length,E("IHDR",i,M,I),I+=12+i.length,E("IDATA",c,M,I),I+=12+c.length,E("IEND",new Uint8Array(0),M,I),N(M,"image/png",v)}(V,void 0===V.kind?d.ImageKind.GRAYSCALE_1BPP:V.kind,v,k)}}();class w{constructor(){this.fontSizeScale=1,this.fontWeight=$.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=$.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,a){this.x=e,this.y=a}}let m=0,b=0,h=0;s.SVGGraphics=G=class{constructor(t,e,a=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new w,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[];for(const g in d.OPS)this._operatorIdMapping[d.OPS[g]]=g}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,a=t.argsArray;for(let g=0,E=e.length;g<E;g++)if(e[g]===d.OPS.dependency)for(const A of a[g]){const o=A.startsWith("g_")?this.commonObjs:this.objs,f=new Promise(R=>{o.get(A,R)});this.current.dependencies.push(f)}return Promise.all(this.current.dependencies)}transform(t,e,a,g,E,A){this.transformMatrix=d.Util.transform(this.transformMatrix,[t,e,a,g,E,A]),this.tgrp=null}getSVG(t,e){this.viewport=e;const a=this._initialize(e);return this.loadDependencies(t).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),a))}convertOpList(t){const e=this._operatorIdMapping,a=t.argsArray,g=t.fnArray,E=[];for(let A=0,o=g.length;A<o;A++){const f=g[A];E.push({fnId:f,fn:e[f],args:a[A]})}return r(E)}executeOpTree(t){for(const e of t){const a=e.fn,E=e.args;switch(0|e.fnId){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(E);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case d.OPS.setFont:this.setFont(E);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(E[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(E[0],E[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case d.OPS.setHScale:this.setHScale(E[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case d.OPS.setTextRise:this.setTextRise(E[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case d.OPS.setLineWidth:this.setLineWidth(E[0]);break;case d.OPS.setLineJoin:this.setLineJoin(E[0]);break;case d.OPS.setLineCap:this.setLineCap(E[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case d.OPS.setFillColorN:this.setFillColorN(E);break;case d.OPS.shadingFill:this.shadingFill(E[0]);break;case d.OPS.setDash:this.setDash(E[0],E[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case d.OPS.setFlatness:this.setFlatness(E[0]);break;case d.OPS.setGState:this.setGState(E[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case d.OPS.constructPath:this.constructPath(E[0],E[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,d.warn)(`Unimplemented operator ${a}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,a,g,E,A){const o=this.current;o.textMatrix=o.lineMatrix=[t,e,a,g,E,A],o.textMatrixScale=Math.hypot(t,e),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${p(o.fontSize)}px`),o.tspan.setAttributeNS(null,"y",p(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.append(o.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=d.IDENTITY_MATRIX,t.lineMatrix=d.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const a=this.current;a.x=a.lineX+=t,a.y=a.lineY+=e,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${p(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",p(-a.y))}showText(t){const e=this.current,a=e.font,g=e.fontSize;if(0===g)return;const E=e.fontSizeScale,A=e.charSpacing,o=e.wordSpacing,f=e.fontDirection,R=e.textHScale*f,x=a.vertical,V=x?1:-1,v=a.defaultVMetrics,k=g*e.fontMatrix[0];let W=0;for(const H of t){if(null===H){W+=f*o;continue}if("number"==typeof H){W+=V*H*g/1e3;continue}const _=(H.isSpace?o:0)+A,l=H.fontChar;let S,B,i,P=H.width;if(x){let c;const u=H.vmetric||v;c=H.vmetric?u[1]:.5*P,c=-c*k,P=u?-u[0]:P,S=c/E,B=(W+u[2]*k)/E}else S=W/E,B=0;(H.isInFont||a.missingFile)&&(e.xcoords.push(e.x+S),x&&e.ycoords.push(-e.y+B),e.tspan.textContent+=l),i=x?P*k-_*f:P*k+_*f,W+=i}e.tspan.setAttributeNS(null,"x",e.xcoords.map(p).join(" ")),e.tspan.setAttributeNS(null,"y",x?e.ycoords.map(p).join(" "):p(-e.y)),x?e.y-=W:e.x+=W*R,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",`${p(e.fontSize)}px`),e.fontStyle!==$.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==$.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);const Q=e.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;Q===d.TextRenderingMode.FILL||Q===d.TextRenderingMode.FILL_STROKE?(e.fillColor!==$.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.tspan.setAttributeNS(null,"fill",e.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Q===d.TextRenderingMode.STROKE||Q===d.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(e.tspan,1/(e.textMatrixScale||1));let se=e.textMatrix;0!==e.textRise&&(se=se.slice(),se[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform",`${C(se)} scale(${p(R)}, -1)`),e.txtElement.setAttributeNS(y,"xml:space","preserve"),e.txtElement.append(e.tspan),e.txtgrp.append(e.txtElement),this._ensureTransformGroup().append(e.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const e=N(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,a=this.commonObjs.get(t[0]);let g=t[1];e.font=a,this.embedFonts&&!a.missingFile&&!this.embeddedFonts[a.loadedName]&&(this.addFontStyle(a),this.embeddedFonts[a.loadedName]=a),e.fontMatrix=a.fontMatrix||d.FONT_IDENTITY_MATRIX;let E="normal";a.black?E="900":a.bold&&(E="bold");const A=a.italic?"italic":"normal";g<0?(g=-g,e.fontDirection=-1):e.fontDirection=1,e.fontSize=g,e.fontFamily=a.loadedName,e.fontWeight=E,e.fontStyle=A,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",p(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){var t;const e=this.current;e.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=O[t]}setLineJoin(t){this.current.lineJoin=j[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,a){this.current.strokeColor=d.Util.makeHexColor(t,e,a)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,a){this.current.fillColor=d.Util.makeHexColor(t,e,a),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,a=this.viewport.height,g=d.Util.inverseTransform(this.transformMatrix),E=d.Util.applyTransform([0,0],g),A=d.Util.applyTransform([0,a],g),o=d.Util.applyTransform([e,0],g),f=d.Util.applyTransform([e,a],g),R=Math.min(E[0],A[0],o[0],f[0]),x=Math.min(E[1],A[1],o[1],f[1]),V=Math.max(E[0],A[0],o[0],f[0]),v=Math.max(E[1],A[1],o[1],f[1]),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",R),k.setAttributeNS(null,"y",x),k.setAttributeNS(null,"width",V-R),k.setAttributeNS(null,"height",v-x),k.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&k.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(k)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],a=t[2],g=t[3]||d.IDENTITY_MATRIX,[E,A,o,f]=t[4],R=t[5],x=t[6],V=t[7],v="shading"+h++,[k,W,Q,se]=d.Util.normalizeRect([...d.Util.applyTransform([E,A],g),...d.Util.applyTransform([o,f],g)]),[H,_]=d.Util.singularValueDecompose2dScale(g),l=R*H,S=x*_,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",v),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",l),B.setAttributeNS(null,"height",S),B.setAttributeNS(null,"x",`${k}`),B.setAttributeNS(null,"y",`${W}`);const P=this.svg,i=this.transformMatrix,c=this.current.fillColor,u=this.current.strokeColor,M=this.svgFactory.create(Q-k,se-W);if(this.svg=M,this.transformMatrix=g,2===V){const I=d.Util.makeHexColor(...e);this.current.fillColor=I,this.current.strokeColor=I}return this.executeOpTree(this.convertOpList(a)),this.svg=P,this.transformMatrix=i,this.current.fillColor=c,this.current.strokeColor=u,B.append(M.childNodes[0]),this.defs.append(B),`url(#${v})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading"+h++,a=t[3];let g;switch(t[1]){case"axial":const E=t[4],A=t[5];g=this.svgFactory.createElement("svg:linearGradient"),g.setAttributeNS(null,"id",e),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"x1",E[0]),g.setAttributeNS(null,"y1",E[1]),g.setAttributeNS(null,"x2",A[0]),g.setAttributeNS(null,"y2",A[1]);break;case"radial":const o=t[4],f=t[5],R=t[6],x=t[7];g=this.svgFactory.createElement("svg:radialGradient"),g.setAttributeNS(null,"id",e),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"cx",f[0]),g.setAttributeNS(null,"cy",f[1]),g.setAttributeNS(null,"r",x),g.setAttributeNS(null,"fx",o[0]),g.setAttributeNS(null,"fy",o[1]),g.setAttributeNS(null,"fr",R);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const E of a){const A=this.svgFactory.createElement("svg:stop");A.setAttributeNS(null,"offset",E[0]),A.setAttributeNS(null,"stop-color",E[1]),g.append(A)}return this.defs.append(g),`url(#${e})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const a=this.current;let g=a.x,E=a.y,A=[],o=0;for(const f of t)switch(0|f){case d.OPS.rectangle:g=e[o++],E=e[o++];const V=g+e[o++],v=E+e[o++];A.push("M",p(g),p(E),"L",p(V),p(E),"L",p(V),p(v),"L",p(g),p(v),"Z");break;case d.OPS.moveTo:g=e[o++],E=e[o++],A.push("M",p(g),p(E));break;case d.OPS.lineTo:g=e[o++],E=e[o++],A.push("L",p(g),p(E));break;case d.OPS.curveTo:g=e[o+4],E=e[o+5],A.push("C",p(e[o]),p(e[o+1]),p(e[o+2]),p(e[o+3]),p(g),p(E)),o+=6;break;case d.OPS.curveTo2:A.push("C",p(g),p(E),p(e[o]),p(e[o+1]),p(e[o+2]),p(e[o+3])),g=e[o+2],E=e[o+3],o+=4;break;case d.OPS.curveTo3:g=e[o+2],E=e[o+3],A.push("C",p(e[o]),p(e[o+1]),p(g),p(E),p(g),p(E)),o+=4;break;case d.OPS.closePath:A.push("Z")}A=A.join(" "),a.path&&t.length>0&&t[0]!==d.OPS.rectangle&&t[0]!==d.OPS.moveTo?A=a.path.getAttributeNS(null,"d")+A:(a.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(a.path)),a.path.setAttributeNS(null,"d",A),a.path.setAttributeNS(null,"fill","none"),a.element=a.path,a.setCurrentPoint(g,E)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+m++,a=this.svgFactory.createElement("svg:clipPath");a.setAttributeNS(null,"id",e),a.setAttributeNS(null,"transform",C(this.transformMatrix));const g=t.element.cloneNode(!0);if(g.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,a.append(g),this.defs.append(a),t.activeClipUrl){t.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;a.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,a]of t)switch(e){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,d.warn)(`Unimplemented graphic state operator ${e}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const a=this.current;let g=a.dashArray;1!==e&&g.length>0&&(g=g.map(function(E){return e*E})),t.setAttributeNS(null,"stroke",a.strokeColor),t.setAttributeNS(null,"stroke-opacity",a.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",p(a.miterLimit)),t.setAttributeNS(null,"stroke-linecap",a.lineCap),t.setAttributeNS(null,"stroke-linejoin",a.lineJoin),t.setAttributeNS(null,"stroke-width",p(e*a.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",g.map(p).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",p(e*a.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,d.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const a=t.width,g=t.height,E=D(t,this.forceDataSchema,!!e),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width",p(a)),A.setAttributeNS(null,"height",p(g)),this.current.element=A,this.clip("nonzero");const o=this.svgFactory.createElement("svg:image");o.setAttributeNS(F,"xlink:href",E),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",p(-g)),o.setAttributeNS(null,"width",p(a)+"px"),o.setAttributeNS(null,"height",p(g)+"px"),o.setAttributeNS(null,"transform",`scale(${p(1/a)} ${p(-1/g)})`),e?e.append(o):this._ensureTransformGroup().append(o)}paintImageMaskXObject(t){const e=this.current,a=t.width,g=t.height,E=e.fillColor;e.maskId="mask"+b++;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",e.maskId);const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",p(a)),o.setAttributeNS(null,"height",p(g)),o.setAttributeNS(null,"fill",E),o.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.append(A),this._ensureTransformGroup().append(o),this.paintInlineImageXObject(t,A)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const a=e[2]-e[0],g=e[3]-e[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",e[0]),E.setAttributeNS(null,"y",e[1]),E.setAttributeNS(null,"width",p(a)),E.setAttributeNS(null,"height",p(g)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),a=this.svgFactory.createElement("svg:defs");e.append(a),this.defs=a;const g=this.svgFactory.createElement("svg:g");return g.setAttributeNS(null,"transform",C(t.transform)),e.append(g),this.svg=g,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",C(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var n=T(1),d=T(33);const L=__webpack_require__(172),G=__webpack_require__(2001),$=__webpack_require__(3779),y=__webpack_require__(6558),F=/^file:\/\/\/[a-zA-Z]:\//;s.PDFNodeStream=class j{constructor(h){this.source=h,this.url=function O(b){const h=y.parse(b);return"file:"===h.protocol||h.host?h:/^[a-z]:[/\\]/i.test(b)?y.parse(`file:///${b}`):(h.host||(h.protocol="file:"),h)}(h.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var h,t;return null!==(h=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==h?h:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new C(this):new r(this),this._fullRequestReader}getRangeReader(h,t){if(t<=this._progressiveDataLength)return null;const e=this.isFsUrl?new m(this,h,t):new p(this,h,t);return this._rangeRequestReaders.push(e),e}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const t of this._rangeRequestReaders.slice(0))t.cancel(h)}};class N{constructor(h){this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=h.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var h=this;return _asyncToGenerator(function*(){if(yield h._readCapability.promise,h._done)return{value:void 0,done:!0};if(h._storedError)throw h._storedError;const t=h._readableStream.read();return null===t?(h._readCapability=(0,n.createPromiseCapability)(),h.read()):(h._loaded+=t.length,h.onProgress&&h.onProgress({loaded:h._loaded,total:h._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(h){this._readableStream?this._readableStream.destroy(h):this._error(h)}_error(h){this._storedError=h,this._readCapability.resolve()}_setReadableStream(h){this._readableStream=h,h.on("readable",()=>{this._readCapability.resolve()}),h.on("end",()=>{h.destroy(),this._done=!0,this._readCapability.resolve()}),h.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class D{constructor(h){this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!h.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var h=this;return _asyncToGenerator(function*(){if(yield h._readCapability.promise,h._done)return{value:void 0,done:!0};if(h._storedError)throw h._storedError;const t=h._readableStream.read();return null===t?(h._readCapability=(0,n.createPromiseCapability)(),h.read()):(h._loaded+=t.length,h.onProgress&&h.onProgress({loaded:h._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(h){this._readableStream?this._readableStream.destroy(h):this._error(h)}_error(h){this._storedError=h,this._readCapability.resolve()}_setReadableStream(h){this._readableStream=h,h.on("readable",()=>{this._readCapability.resolve()}),h.on("end",()=>{h.destroy(),this._done=!0,this._readCapability.resolve()}),h.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function w(b,h){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:h}}class r extends N{constructor(h){super(h);const t=e=>{if(404===e.statusCode){const A=new n.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=A,void this._headersCapability.reject(A)}this._headersCapability.resolve(),this._setReadableStream(e);const a=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:g,suggestedLength:E}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:h.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=E||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(a)};this._request=null,this._request="http:"===this._url.protocol?G.request(w(this._url,h.httpHeaders),t):$.request(w(this._url,h.httpHeaders),t),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class p extends D{constructor(h,t,e){super(h),this._httpHeaders={};for(const g in h.httpHeaders){const E=h.httpHeaders[g];typeof E>"u"||(this._httpHeaders[g]=E)}this._httpHeaders.Range=`bytes=${t}-${e-1}`;const a=g=>{if(404!==g.statusCode)this._setReadableStream(g);else{const E=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=E}};this._request=null,this._request="http:"===this._url.protocol?G.request(w(this._url,this._httpHeaders),a):$.request(w(this._url,this._httpHeaders),a),this._request.on("error",g=>{this._storedError=g}),this._request.end()}}class C extends N{constructor(h){super(h);let t=decodeURIComponent(this._url.path);F.test(this._url.href)&&(t=t.replace(/^\//,"")),L.lstat(t,(e,a)=>{if(e)return"ENOENT"===e.code&&(e=new n.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=a.size,this._setReadableStream(L.createReadStream(t)),this._headersCapability.resolve()})}}class m extends D{constructor(h,t,e){super(h);let a=decodeURIComponent(this._url.path);F.test(this._url.href)&&(a=a.replace(/^\//,"")),this._setReadableStream(L.createReadStream(a,{start:t,end:e-1}))}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=function y(O,j){return 404===O||0===O&&j.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+j+'".'):new n.UnexpectedResponseException(`Unexpected server response (${O}) while retrieving PDF "${j}".`,O)},s.extractFilenameFromHeader=function $(O){const j=O("Content-Disposition");if(j){let N=(0,d.getFilenameFromContentDispositionHeader)(j);if(N.includes("%"))try{N=decodeURIComponent(N)}catch{}if((0,L.isPdfFile)(N))return N}return null},s.validateRangeRequestCapabilities=function G({getResponseHeader:O,isHttp:j,rangeChunkSize:N,disableRange:D}){const w={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(O("Content-Length"),10);return!Number.isInteger(r)||(w.suggestedLength=r,r<=2*N)||D||!j||"bytes"!==O("Accept-Ranges")||"identity"!==(O("Content-Encoding")||"identity")||(w.allowRangeRequests=!0),w},s.validateResponseStatus=function F(O){return 200===O||206===O};var n=T(1),d=T(34),L=T(8)},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=function d(L){let G=!0,$=y("filename\\*","i").exec(L);if($){$=$[1];let r=N($);return r=unescape(r),r=D(r),r=w(r),O(r)}if($=function j(r){const p=[];let C;const m=y("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(C=m.exec(r));){let[,h,t,e]=C;if(h=parseInt(h,10),h in p){if(0===h)break}else p[h]=[t,e]}const b=[];for(let h=0;h<p.length&&h in p;++h){let[t,e]=p[h];e=N(e),t&&(e=unescape(e),0===h&&(e=D(e))),b.push(e)}return b.join("")}(L),$)return O(w($));if($=y("filename","i").exec(L),$){$=$[1];let r=N($);return r=w(r),O(r)}function y(r,p){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function F(r,p){if(r){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const C=new TextDecoder(r,{fatal:!0}),m=(0,n.stringToBytes)(p);p=C.decode(m),G=!1}catch{}}return p}function O(r){return G&&/[\x80-\xff]/.test(r)&&(r=F("utf-8",r),G&&(r=F("iso-8859-1",r))),r}function N(r){if(r.startsWith('"')){const p=r.slice(1).split('\\"');for(let C=0;C<p.length;++C){const m=p[C].indexOf('"');-1!==m&&(p[C]=p[C].slice(0,m),p.length=C+1),p[C]=p[C].replace(/\\(.)/g,"$1")}r=p.join('"')}return r}function D(r){const p=r.indexOf("'");return-1===p?r:F(r.slice(0,p),r.slice(p+1).replace(/^[^']*'/,""))}function w(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,C,m,b){if("q"===m||"Q"===m)return F(C,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(h,t){return String.fromCharCode(parseInt(t,16))}));try{b=atob(b)}catch{}return F(C,b)})}return""};var n=T(1)},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var n=T(1),d=T(33);class y{constructor(D,w={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&w.httpHeaders||Object.create(null),this.withCredentials=w.withCredentials||!1,this.getXhr=w.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,w,r){const p={begin:D,end:w};for(const C in r)p[C]=r[C];return this.request(p)}requestFull(D){return this.request(D)}request(D){const w=this.getXhr(),r=this.currXhrId++,p=this.pendingRequests[r]={xhr:w};w.open("GET",this.url),w.withCredentials=this.withCredentials;for(const C in this.httpHeaders){const m=this.httpHeaders[C];typeof m>"u"||w.setRequestHeader(C,m)}return this.isHttp&&"begin"in D&&"end"in D?(w.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),p.expectedStatus=206):p.expectedStatus=200,w.responseType="arraybuffer",D.onError&&(w.onerror=function(C){D.onError(w.status)}),w.onreadystatechange=this.onStateChange.bind(this,r),w.onprogress=this.onProgress.bind(this,r),p.onHeadersReceived=D.onHeadersReceived,p.onDone=D.onDone,p.onError=D.onError,p.onProgress=D.onProgress,w.send(null),r}onProgress(D,w){var r;const p=this.pendingRequests[D];p&&(null===(r=p.onProgress)||void 0===r||r.call(p,w))}onStateChange(D,w){const r=this.pendingRequests[D];if(!r)return;const p=r.xhr;if(p.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==p.readyState||!(D in this.pendingRequests))return;var C;if(delete this.pendingRequests[D],0===p.status&&this.isHttp)return void(null===(C=r.onError)||void 0===C||C.call(r,p.status));const m=p.status||200;var h;if((200!==m||206!==r.expectedStatus)&&m!==r.expectedStatus)return void(null===(h=r.onError)||void 0===h||h.call(r,p.status));const t=function $(N){const D=N.response;return"string"!=typeof D?D:(0,n.stringToBytes)(D).buffer}(p);if(206===m){const a=p.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);r.onDone({begin:parseInt(g[1],10),chunk:t})}else if(t)r.onDone({begin:0,chunk:t});else{var e;null===(e=r.onError)||void 0===e||e.call(r,p.status)}}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const w=this.pendingRequests[D].xhr;delete this.pendingRequests[D],w.abort()}}s.PDFNetworkStream=class F{constructor(D){this._source=D,this._manager=new y(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const w=this._rangeRequestReaders.indexOf(D);w>=0&&this._rangeRequestReaders.splice(w,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new O(this._manager,this._source),this._fullRequestReader}getRangeReader(D,w){const r=new j(this._manager,D,w);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(D){var w;null===(w=this._fullRequestReader)||void 0===w||w.cancel(D);for(const r of this._rangeRequestReaders.slice(0))r.cancel(D)}};class O{constructor(D,w){this._manager=D;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=w.url,this._fullRequestId=D.requestFull(r),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=w.disableRange||!1,this._contentLength=w.length,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,w=this._manager.getRequestXhr(D),r=m=>w.getResponseHeader(m),{allowRangeRequests:p,suggestedLength:C}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});p&&(this._isRangeSupported=!0),this._contentLength=C||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,d.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var w;null===(w=this.onProgress)||void 0===w||w.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(D._cachedChunks.length>0)return{value:D._cachedChunks.shift(),done:!1};if(D._done)return{value:void 0,done:!0};const w=(0,n.createPromiseCapability)();return D._requests.push(w),w.promise})()}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(D,w,r){this._manager=D;const p={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(w,r,p),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;null===(D=this.onClosed)||void 0===D||D.call(this,this)}_onDone(D){const w=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunk=w,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,d.createResponseStatusError)(D,this._url);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var w;this.isStreamingSupported||null===(w=this.onProgress)||void 0===w||w.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(null!==D._queuedChunk){const r=D._queuedChunk;return D._queuedChunk=null,{value:r,done:!1}}if(D._done)return{value:void 0,done:!0};const w=(0,n.createPromiseCapability)();return D._requests.push(w),w.promise})()}cancel(D){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(q,s,T)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var n=T(1),d=T(33);function L(O,j,N){return{method:"GET",headers:O,signal:N.signal,mode:"cors",credentials:j?"include":"same-origin",redirect:"follow"}}function G(O){const j=new Headers;for(const N in O){const D=O[N];typeof D>"u"||j.append(N,D)}return j}s.PDFFetchStream=class ${constructor(j){this.source=j,this.isHttp=/^https?:/i.test(j.url),this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j,N;return null!==(j=null===(N=this._fullRequestReader)||void 0===N?void 0:N._loaded)&&void 0!==j?j:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new y(this),this._fullRequestReader}getRangeReader(j,N){if(N<=this._progressiveDataLength)return null;const D=new F(this,j,N);return this._rangeRequestReaders.push(D),D}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const N of this._rangeRequestReaders.slice(0))N.cancel(j)}};class y{constructor(j){this._stream=j,this._reader=null,this._loaded=0,this._filename=null;const N=j.source;this._withCredentials=N.withCredentials||!1,this._contentLength=N.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=N.disableRange||!1,this._rangeChunkSize=N.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!N.disableStream,this._isRangeSupported=!N.disableRange,this._headers=G(this._stream.httpHeaders);const D=N.url;fetch(D,L(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,d.validateResponseStatus)(w.status))throw(0,d.createResponseStatusError)(w.status,D);this._reader=w.body.getReader(),this._headersCapability.resolve();const r=m=>w.headers.get(m),{allowRangeRequests:p,suggestedLength:C}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=C||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){yield j._headersCapability.promise;const{value:N,done:D}=yield j._reader.read();return D?{value:N,done:D}:(j._loaded+=N.byteLength,j.onProgress&&j.onProgress({loaded:j._loaded,total:j._contentLength}),{value:new Uint8Array(N).buffer,done:!1})})()}cancel(j){this._reader&&this._reader.cancel(j),this._abortController.abort()}}class F{constructor(j,N,D){this._stream=j,this._reader=null,this._loaded=0;const w=j.source;this._withCredentials=w.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!w.disableStream,this._abortController=new AbortController,this._headers=G(this._stream.httpHeaders),this._headers.append("Range",`bytes=${N}-${D-1}`);const r=w.url;fetch(r,L(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,d.validateResponseStatus)(p.status))throw(0,d.createResponseStatusError)(p.status,r);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){yield j._readCapability.promise;const{value:N,done:D}=yield j._reader.read();return D?{value:N,done:D}:(j._loaded+=N.byteLength,j.onProgress&&j.onProgress({loaded:j._loaded}),{value:new Uint8Array(N).buffer,done:!1})})()}cancel(j){this._reader&&this._reader.cancel(j),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(q){var s=__webpack_module_cache__[q];if(void 0!==s)return s.exports;var T=__webpack_module_cache__[q]={exports:{}};return __webpack_modules__[q](T,T.exports,__w_pdfjs_require__),T.exports}var __nested_webpack_exports__={};return(()=>{var q=__nested_webpack_exports__;Object.defineProperty(q,"__esModule",{value:!0}),Object.defineProperty(q,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(q,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(q,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(q,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return L.AnnotationEditorUIManager}}),Object.defineProperty(q,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(q,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(q,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(q,"GlobalWorkerOptions",{enumerable:!0,get:function(){return $.GlobalWorkerOptions}}),Object.defineProperty(q,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(q,"LoopbackPort",{enumerable:!0,get:function(){return T.LoopbackPort}}),Object.defineProperty(q,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(q,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(q,"PDFDataRangeTransport",{enumerable:!0,get:function(){return T.PDFDataRangeTransport}}),Object.defineProperty(q,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(q,"PDFWorker",{enumerable:!0,get:function(){return T.PDFWorker}}),Object.defineProperty(q,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(q,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(q,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(q,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(q,"SVGGraphics",{enumerable:!0,get:function(){return O.SVGGraphics}}),Object.defineProperty(q,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(q,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(q,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(q,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(q,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(q,"build",{enumerable:!0,get:function(){return T.build}}),Object.defineProperty(q,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(q,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(q,"getDocument",{enumerable:!0,get:function(){return T.getDocument}}),Object.defineProperty(q,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(q,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(q,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(q,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(q,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(q,"renderTextLayer",{enumerable:!0,get:function(){return F.renderTextLayer}}),Object.defineProperty(q,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(q,"version",{enumerable:!0,get:function(){return T.version}});var s=__w_pdfjs_require__(1),T=__w_pdfjs_require__(4),n=__w_pdfjs_require__(8),d=__w_pdfjs_require__(22),L=__w_pdfjs_require__(7),G=__w_pdfjs_require__(27),$=__w_pdfjs_require__(15),y=__w_pdfjs_require__(3),F=__w_pdfjs_require__(30),O=__w_pdfjs_require__(31),j=__w_pdfjs_require__(29);if(y.isNodeJS){const{PDFNodeStream:w}=__w_pdfjs_require__(32);(0,T.setPDFNetworkStreamFactory)(r=>new w(r))}else{const{PDFNetworkStream:w}=__w_pdfjs_require__(35),{PDFFetchStream:r}=__w_pdfjs_require__(36);(0,T.setPDFNetworkStreamFactory)(p=>(0,n.isValidFetchUrl)(p.url)?new r(p):new w(p))}})(),__nested_webpack_exports__})(),module.exports=T()},1016:(q,s,T)=>{var n=T(1860).default,d=T(5764).default,L=T(4467).default,G=T(7156).default,$=T(9159).default,y=T(468).default,F=T(5661).default;globalThis,q.exports=(()=>{"use strict";var O=[,(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultXfaLayerFactory=r.DefaultTextLayerFactory=r.DefaultStructTreeLayerFactory=r.DefaultAnnotationLayerFactory=r.DefaultAnnotationEditorLayerFactory=void 0;var C=p(2),m=p(5),b=p(4),h=p(6),t=p(8),e=p(9),a=p(10);r.DefaultAnnotationLayerFactory=class g{createAnnotationLayerBuilder({pageDiv:x,pdfPage:V,annotationStorage:v=null,imageResourcesPath:k="",renderForms:W=!0,l10n:Q=b.NullL10n,enableScripting:se=!1,hasJSActionsPromise:H=null,mouseState:_=null,fieldObjectsPromise:l=null,annotationCanvasMap:S=null,accessibilityManager:B=null}){return new m.AnnotationLayerBuilder({pageDiv:x,pdfPage:V,imageResourcesPath:k,renderForms:W,linkService:new h.SimpleLinkService,l10n:Q,annotationStorage:v,enableScripting:se,hasJSActionsPromise:H,fieldObjectsPromise:l,mouseState:_,annotationCanvasMap:S,accessibilityManager:B})}},r.DefaultAnnotationEditorLayerFactory=class E{createAnnotationEditorLayerBuilder({uiManager:x=null,pageDiv:V,pdfPage:v,accessibilityManager:k=null,l10n:W,annotationStorage:Q=null}){return new C.AnnotationEditorLayerBuilder({uiManager:x,pageDiv:V,pdfPage:v,accessibilityManager:k,l10n:W,annotationStorage:Q})}},r.DefaultStructTreeLayerFactory=class A{createStructTreeLayerBuilder({pdfPage:x}){return new t.StructTreeLayerBuilder({pdfPage:x})}},r.DefaultTextLayerFactory=class o{createTextLayerBuilder({textLayerDiv:x,pageIndex:V,viewport:v,enhanceTextSelection:k=!1,eventBus:W,highlighter:Q,accessibilityManager:se=null}){return new e.TextLayerBuilder({textLayerDiv:x,pageIndex:V,viewport:v,enhanceTextSelection:k,eventBus:W,highlighter:Q,accessibilityManager:se})}},r.DefaultXfaLayerFactory=class f{createXfaLayerBuilder({pageDiv:x,pdfPage:V,annotationStorage:v=null}){return new a.XfaLayerBuilder({pageDiv:x,pdfPage:V,annotationStorage:v,linkService:new h.SimpleLinkService})}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationEditorLayerBuilder=void 0;var C=p(3),m=p(4),b=new WeakMap;r.AnnotationEditorLayerBuilder=class h{constructor(e){$(this,b,{writable:!0,value:void 0}),this.pageDiv=e.pageDiv,this.pdfPage=e.pdfPage,this.annotationStorage=e.annotationStorage||null,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n||m.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,F(this,b,e.uiManager)}render(e,a="display"){var g=this;return G(function*(){if("display"!==a||g._cancelled)return;const E=e.clone({dontFlip:!0});if(g.div)return g.annotationEditorLayer.update({viewport:E}),void g.show();g.div=document.createElement("div"),g.div.className="annotationEditorLayer",g.div.tabIndex=0,g.pageDiv.append(g.div),g.annotationEditorLayer=new C.AnnotationEditorLayer({uiManager:y(g,b),div:g.div,annotationStorage:g.annotationStorage,accessibilityManager:g.accessibilityManager,pageIndex:g.pdfPage._pageIndex,l10n:g.l10n,viewport:E}),g.annotationEditorLayer.render({viewport:E,div:g.div,annotations:null,intent:a})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},w=>{let r;r=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:T(9627),w.exports=r},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NullL10n=void 0,r.fixupLangCode=function b(e){return m[null==e?void 0:e.toLowerCase()]||e},r.getL10nFallback=C;const p={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function C(e,a){switch(e){case"find_match_count":e=`find_match_count[${1===a.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===a.limit?"one":"other"}]`}return p[e]||""}const m={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};r.NullL10n={getLanguage:()=>G(function*(){return"en-us"})(),getDirection:()=>G(function*(){return"ltr"})(),get:(e,a=null,g=C(e,a))=>G(function*(){return function h(e,a){return a?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(g,E)=>E in a?a[E]:"{{"+E+"}}"):e}(g,a)})(),translate:e=>G(function*(){})()}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationLayerBuilder=void 0;var C=p(3),m=p(4);r.AnnotationLayerBuilder=class b{constructor({pageDiv:t,pdfPage:e,linkService:a,downloadManager:g,annotationStorage:E=null,imageResourcesPath:A="",renderForms:o=!0,l10n:f=m.NullL10n,enableScripting:R=!1,hasJSActionsPromise:x=null,fieldObjectsPromise:V=null,mouseState:v=null,annotationCanvasMap:k=null,accessibilityManager:W=null}){this.pageDiv=t,this.pdfPage=e,this.linkService=a,this.downloadManager=g,this.imageResourcesPath=A,this.renderForms=o,this.l10n=f,this.annotationStorage=E,this.enableScripting=R,this._hasJSActionsPromise=x,this._fieldObjectsPromise=V,this._mouseState=v,this._annotationCanvasMap=k,this._accessibilityManager=W,this.div=null,this._cancelled=!1}render(t,e="display"){var a=this;return G(function*(){const[g,E=!1,A=null]=yield Promise.all([a.pdfPage.getAnnotations({intent:e}),a._hasJSActionsPromise,a._fieldObjectsPromise]);if(a._cancelled||0===g.length)return;const o={viewport:t.clone({dontFlip:!0}),div:a.div,annotations:g,page:a.pdfPage,imageResourcesPath:a.imageResourcesPath,renderForms:a.renderForms,linkService:a.linkService,downloadManager:a.downloadManager,annotationStorage:a.annotationStorage,enableScripting:a.enableScripting,hasJSActions:E,fieldObjects:A,mouseState:a._mouseState,annotationCanvasMap:a._annotationCanvasMap,accessibilityManager:a._accessibilityManager};a.div?C.AnnotationLayer.update(o):(a.div=document.createElement("div"),a.div.className="annotationLayer",a.pageDiv.append(a.div),o.div=a.div,C.AnnotationLayer.render(o),a.l10n.translate(a.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleLinkService=r.PDFLinkService=r.LinkTarget=void 0;var C=p(7);const b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function h(o,{url:f,target:R,rel:x,enabled:V=!0}={}){if(!f||"string"!=typeof f)throw new Error('A valid "url" parameter must provided.');const v=(0,C.removeNullCharacters)(f);V?o.href=o.title=v:(o.href="",o.title=`Disabled: ${v}`,o.onclick=()=>!1);let k="";switch(R){case b.NONE:break;case b.SELF:k="_self";break;case b.BLANK:k="_blank";break;case b.PARENT:k="_parent";break;case b.TOP:k="_top"}o.target=k,o.rel="string"==typeof x?x:"noopener noreferrer nofollow"}r.LinkTarget=b;var t=new WeakMap,e=new WeakSet;class a{constructor({eventBus:f,externalLinkTarget:R=null,externalLinkRel:x=null,ignoreDestinationZoom:V=!1}={}){n(this,e),$(this,t,{writable:!0,value:new Map}),this.eventBus=f,this.externalLinkTarget=R,this.externalLinkRel=x,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=V,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(f,R=null){this.baseUrl=R,this.pdfDocument=f,y(this,t).clear()}setViewer(f){this.pdfViewer=f}setHistory(f){this.pdfHistory=f}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(f){this.pdfViewer.currentPageNumber=f}get rotation(){return this.pdfViewer.pagesRotation}set rotation(f){this.pdfViewer.pagesRotation=f}goToDestination(f){var R=this;return G(function*(){if(!R.pdfDocument)return;let x,V;"string"==typeof f?(x=f,V=yield R.pdfDocument.getDestination(f)):(x=null,V=yield f),Array.isArray(V)?L(R,e,g).call(R,f,x,V):console.error(`PDFLinkService.goToDestination: "${V}" is not a valid destination array, for dest="${f}".`)})()}goToPage(f){if(!this.pdfDocument)return;const R="string"==typeof f&&this.pdfViewer.pageLabelToPageNumber(f)||0|f;Number.isInteger(R)&&R>0&&R<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(R)),this.pdfViewer.scrollPageIntoView({pageNumber:R})):console.error(`PDFLinkService.goToPage: "${f}" is not a valid page.`)}addLinkAttributes(f,R,x=!1){h(f,{url:R,target:x?b.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(f){if("string"==typeof f){if(f.length>0)return this.getAnchorUrl("#"+escape(f))}else if(Array.isArray(f)){const R=JSON.stringify(f);if(R.length>0)return this.getAnchorUrl("#"+escape(R))}return this.getAnchorUrl("")}getAnchorUrl(f){return(this.baseUrl||"")+f}setHash(f){if(!this.pdfDocument)return;let R,x;if(f.includes("=")){const V=(0,C.parseQueryString)(f);if(V.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:V.get("search").replace(/"/g,""),phraseSearch:"true"===V.get("phrase")}),V.has("page")&&(R=0|V.get("page")||1),V.has("zoom")){const v=V.get("zoom").split(","),k=v[0],W=parseFloat(k);k.includes("Fit")?"Fit"===k||"FitB"===k?x=[null,{name:k}]:"FitH"===k||"FitBH"===k||"FitV"===k||"FitBV"===k?x=[null,{name:k},v.length>1?0|v[1]:null]:"FitR"===k?5!==v.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):x=[null,{name:k},0|v[1],0|v[2],0|v[3],0|v[4]]:console.error(`PDFLinkService.setHash: "${k}" is not a valid zoom value.`):x=[null,{name:"XYZ"},v.length>1?0|v[1]:null,v.length>2?0|v[2]:null,W?W/100:k]}x?this.pdfViewer.scrollPageIntoView({pageNumber:R||this.page,destArray:x,allowNegativeOffset:!0}):R&&(this.page=R),V.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:V.get("pagemode")}),V.has("nameddest")&&this.goToDestination(V.get("nameddest"))}else{x=unescape(f);try{x=JSON.parse(x),Array.isArray(x)||(x=x.toString())}catch{}if("string"==typeof x||d(a,a,E).call(a,x))return void this.goToDestination(x);console.error(`PDFLinkService.setHash: "${unescape(f)}" is not a valid destination.`)}}executeNamedAction(f){var R,x;switch(f){case"GoBack":null===(R=this.pdfHistory)||void 0===R||R.back();break;case"GoForward":null===(x=this.pdfHistory)||void 0===x||x.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:f})}cachePageRef(f,R){if(!R)return;const x=0===R.gen?`${R.num}R`:`${R.num}R${R.gen}`;y(this,t).set(x,f)}_cachedPageNumber(f){if(!f)return null;const R=0===f.gen?`${f.num}R`:`${f.num}R${f.gen}`;return y(this,t).get(R)||null}isPageVisible(f){return this.pdfViewer.isPageVisible(f)}isPageCached(f){return this.pdfViewer.isPageCached(f)}}function g(o,f=null,R){const x=R[0];let V;if("object"==typeof x&&null!==x){if(V=this._cachedPageNumber(x),!V)return void this.pdfDocument.getPageIndex(x).then(v=>{this.cachePageRef(v+1,x),L(this,e,g).call(this,o,f,R)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid page reference, for dest="${o}".`)})}else{if(!Number.isInteger(x))return void console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid destination reference, for dest="${o}".`);V=x+1}!V||V<1||V>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${V}" is not a valid page number, for dest="${o}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:f,explicitDest:R,pageNumber:V})),this.pdfViewer.scrollPageIntoView({pageNumber:V,destArray:R,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function E(o){if(!Array.isArray(o))return!1;const f=o.length;if(f<2)return!1;const R=o[0];if(!("object"==typeof R&&Number.isInteger(R.num)&&Number.isInteger(R.gen)||Number.isInteger(R)&&R>=0))return!1;const x=o[1];if("object"!=typeof x||"string"!=typeof x.name)return!1;let V=!0;switch(x.name){case"XYZ":if(5!==f)return!1;break;case"Fit":case"FitB":return 2===f;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==f)return!1;break;case"FitR":if(6!==f)return!1;V=!1;break;default:return!1}for(let v=2;v<f;v++){const k=o[v];if(!("number"==typeof k||V&&null===k))return!1}return!0}r.PDFLinkService=a,r.SimpleLinkService=class A{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(f){}get rotation(){return 0}set rotation(f){}goToDestination(f){return G(function*(){})()}goToPage(f){}addLinkAttributes(f,R,x=!1){h(f,{url:R,enabled:this.externalLinkEnabled})}getDestinationHash(f){return"#"}getAnchorUrl(f){return"#"}setHash(f){}executeNamedAction(f){}cachePageRef(f,R){}isPageVisible(f){return!0}isPageCached(f){return!0}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationStarted=r.VERTICAL_PADDING=r.UNKNOWN_SCALE=r.TextLayerMode=r.SpreadMode=r.SidebarView=r.ScrollMode=r.SCROLLBAR_PADDING=r.RenderingStates=r.RendererType=r.ProgressBar=r.PresentationModeState=r.OutputScale=r.MIN_SCALE=r.MAX_SCALE=r.MAX_AUTO_SCALE=r.DEFAULT_SCALE_VALUE=r.DEFAULT_SCALE_DELTA=r.DEFAULT_SCALE=r.AutoPrintRegExp=void 0,r.apiPageLayoutToViewerModes=function Le(fe){let Ce=x.VERTICAL,xe=V.NONE;switch(fe){case"SinglePage":Ce=x.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ce=x.PAGE;case"TwoColumnLeft":xe=V.ODD;break;case"TwoPageRight":Ce=x.PAGE;case"TwoColumnRight":xe=V.EVEN}return{scrollMode:Ce,spreadMode:xe}},r.apiPageModeToSidebarView=function Me(fe){switch(fe){case"UseNone":return o.NONE;case"UseThumbs":return o.THUMBS;case"UseOutlines":return o.OUTLINE;case"UseAttachments":return o.ATTACHMENTS;case"UseOC":return o.LAYERS}return o.NONE},r.approximateFraction=function B(fe){if(Math.floor(fe)===fe)return[fe,1];const Ce=1/fe;if(Ce>8)return[1,8];if(Math.floor(Ce)===Ce)return[1,Ce];const Pe=fe>1?Ce:fe;let Z,ye=0,U=1,ee=1,ne=1;for(;;){const ae=ye+ee,ge=U+ne;if(ge>8)break;Pe<=ae/ge?(ee=ae,ne=ge):(ye=ae,U=ge)}return Z=Pe-ye/U<ee/ne-Pe?Pe===fe?[ye,U]:[U,ye]:Pe===fe?[ee,ne]:[ne,ee],Z},r.backtrackBeforeAllVisibleElements=c,r.binarySearchFirstItem=S,r.docStyle=void 0,r.getActiveOrFocusedElement=function Fe(){let fe=document,Ce=fe.activeElement||fe.querySelector(":focus");for(;null!==(xe=Ce)&&void 0!==xe&&xe.shadowRoot;){var xe;fe=Ce.shadowRoot,Ce=fe.activeElement||fe.querySelector(":focus")}return Ce},r.getPageSizeInches=function i({view:fe,userUnit:Ce,rotate:xe}){const[Pe,ye,U,ee]=fe,ne=xe%180!=0,Z=(U-Pe)/72*Ce,ae=(ee-ye)/72*Ce;return{width:ne?ae:Z,height:ne?Z:ae}},r.getVisibleElements=function u({scrollEl:fe,views:Ce,sortByVisibility:xe=!1,horizontal:Pe=!1,rtl:ye=!1}){const U=fe.scrollTop,ee=U+fe.clientHeight,ne=fe.scrollLeft,Z=ne+fe.clientWidth,J=[],X=new Set,Y=Ce.length;let Ae=S(Ce,Pe?function ge(ve){const Ee=ve.div,Se=Ee.offsetLeft+Ee.clientLeft;return ye?Se<Z:Se+Ee.clientWidth>ne}:function ae(ve){const Ee=ve.div;return Ee.offsetTop+Ee.clientTop+Ee.clientHeight>U});Ae>0&&Ae<Y&&!Pe&&(Ae=c(Ae,Ce,U));let be=Pe?Z:-1;for(let ve=Ae;ve<Y;ve++){const Ee=Ce[ve],Se=Ee.div,we=Se.offsetLeft+Se.clientLeft,ke=Se.offsetTop+Se.clientTop,Te=Se.clientWidth,Re=Se.clientHeight,De=we+Te,Be=ke+Re;if(-1===be)Be>=ee&&(be=Be);else if((Pe?we:ke)>be)break;if(Be<=U||ke>=ee||De<=ne||we>=Z)continue;const Ne=Math.max(0,U-ke)+Math.max(0,Be-ee),Oe=(Te-(Math.max(0,ne-we)+Math.max(0,De-Z)))/Te;J.push({id:Ee.id,x:we,y:ke,view:Ee,percent:(Re-Ne)/Re*Oe*100|0,widthPercent:100*Oe|0}),X.add(Ee.id)}const he=J[0],ce=J.at(-1);return xe&&J.sort(function(ve,Ee){const Se=ve.percent-Ee.percent;return Math.abs(Se)>.001?-Se:ve.id-Ee.id}),{first:he,last:ce,views:J,ids:X}},r.isPortraitOrientation=function pe(fe){return fe.width<=fe.height},r.isValidRotation=function K(fe){return Number.isInteger(fe)&&fe%90==0},r.isValidScrollMode=function re(fe){return Number.isInteger(fe)&&Object.values(x).includes(fe)&&fe!==x.UNKNOWN},r.isValidSpreadMode=function te(fe){return Number.isInteger(fe)&&Object.values(V).includes(fe)&&fe!==V.UNKNOWN},r.noContextMenuHandler=function M(fe){fe.preventDefault()},r.normalizeWheelEventDelta=function z(fe){let Ce=I(fe);return 0===fe.deltaMode?Ce/=900:1===fe.deltaMode&&(Ce/=30),Ce},r.normalizeWheelEventDirection=I,r.parseQueryString=function se(fe){const Ce=new Map;for(const[xe,Pe]of new URLSearchParams(fe))Ce.set(xe.toLowerCase(),Pe);return Ce},r.removeNullCharacters=function l(fe,Ce=!1){return"string"!=typeof fe?(console.error("The argument must be a string."),fe):(Ce&&(fe=fe.replace(_," ")),fe.replace(H,""))},r.roundToDivide=function P(fe,Ce){const xe=fe%Ce;return 0===xe?fe:Math.round(fe-xe+Ce)},r.scrollIntoView=function W(fe,Ce,xe=!1){let Pe=fe.offsetParent;if(!Pe)return void console.error("offsetParent is not set -- cannot scroll");let ye=fe.offsetTop+fe.clientTop,U=fe.offsetLeft+fe.clientLeft;for(;Pe.clientHeight===Pe.scrollHeight&&Pe.clientWidth===Pe.scrollWidth||xe&&(Pe.classList.contains("markedContent")||"hidden"===getComputedStyle(Pe).overflow);)if(ye+=Pe.offsetTop,U+=Pe.offsetLeft,Pe=Pe.offsetParent,!Pe)return;Ce&&(void 0!==Ce.top&&(ye+=Ce.top),void 0!==Ce.left&&(U+=Ce.left,Pe.scrollLeft=U)),Pe.scrollTop=ye},r.watchScroll=function Q(fe,Ce){const xe=function(U){ye||(ye=window.requestAnimationFrame(function(){ye=null;const ne=fe.scrollLeft,Z=Pe.lastX;ne!==Z&&(Pe.right=ne>Z),Pe.lastX=ne;const ae=fe.scrollTop,ge=Pe.lastY;ae!==ge&&(Pe.down=ae>ge),Pe.lastY=ae,Ce(Pe)}))},Pe={right:!0,down:!0,lastX:fe.scrollLeft,lastY:fe.scrollTop,_eventHandler:xe};let ye=null;return fe.addEventListener("scroll",xe,!0),Pe},r.DEFAULT_SCALE_VALUE="auto",r.DEFAULT_SCALE=1,r.DEFAULT_SCALE_DELTA=1.1,r.MIN_SCALE=.1,r.MAX_SCALE=10,r.UNKNOWN_SCALE=0,r.MAX_AUTO_SCALE=1.25,r.SCROLLBAR_PADDING=40,r.VERTICAL_PADDING=5,r.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},r.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const o={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};r.SidebarView=o,r.RendererType={CANVAS:"canvas",SVG:"svg"},r.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const x={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};r.ScrollMode=x;const V={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};r.SpreadMode=V,r.AutoPrintRegExp=/\bprint\s*\(/,r.OutputScale=class k{constructor(){const Ce=window.devicePixelRatio||1;this.sx=Ce,this.sy=Ce}get scaled(){return 1!==this.sx||1!==this.sy}};const H=/\x00/g,_=/[\x01-\x1F]/g;function S(fe,Ce,xe=0){let Pe=xe,ye=fe.length-1;if(ye<0||!Ce(fe[ye]))return fe.length;if(Ce(fe[Pe]))return Pe;for(;Pe<ye;){const U=Pe+ye>>1;Ce(fe[U])?ye=U:Pe=U+1}return Pe}function c(fe,Ce,xe){if(fe<2)return fe;let Pe=Ce[fe].div,ye=Pe.offsetTop+Pe.clientTop;ye>=xe&&(Pe=Ce[fe-1].div,ye=Pe.offsetTop+Pe.clientTop);for(let U=fe-2;U>=0&&(Pe=Ce[U].div,!(Pe.offsetTop+Pe.clientTop+Pe.clientHeight<=ye));--U)fe=U;return fe}function I(fe){let Ce=Math.hypot(fe.deltaX,fe.deltaY);const xe=Math.atan2(fe.deltaY,fe.deltaX);return-.25*Math.PI<xe&&xe<.75*Math.PI&&(Ce=-Ce),Ce}const le=new Promise(function(fe){window.requestAnimationFrame(fe)});r.animationStarted=le;const ue=document.documentElement.style;r.docStyle=ue;var _e=new WeakMap,me=new WeakMap,ie=new WeakMap;r.ProgressBar=class oe{constructor(Ce){if($(this,_e,{writable:!0,value:null}),$(this,me,{writable:!0,value:0}),$(this,ie,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const xe=document.getElementById(Ce);F(this,_e,xe.classList)}get percent(){return y(this,me)}set percent(Ce){F(this,me,function de(fe,Ce,xe){return Math.min(Math.max(fe,Ce),xe)}(Ce,0,100)),isNaN(Ce)?y(this,_e).add("indeterminate"):(y(this,_e).remove("indeterminate"),ue.setProperty("--progressBar-percent",`${y(this,me)}%`))}setWidth(Ce){if(!Ce)return;const Pe=Ce.parentNode.offsetWidth-Ce.offsetWidth;Pe>0&&ue.setProperty("--progressBar-end-offset",`${Pe}px`)}hide(){y(this,ie)&&(F(this,ie,!1),y(this,_e).add("hidden"))}show(){y(this,ie)||(F(this,ie,!0),y(this,_e).remove("hidden"))}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StructTreeLayerBuilder=void 0;const p={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},C=/^H(\d+)$/;r.StructTreeLayerBuilder=class m{constructor({pdfPage:h}){this.pdfPage=h}render(h){return this._walk(h)}_setAttributes(h,t){void 0!==h.alt&&t.setAttribute("aria-label",h.alt),void 0!==h.id&&t.setAttribute("aria-owns",h.id),void 0!==h.lang&&t.setAttribute("lang",h.lang)}_walk(h){if(!h)return null;const t=document.createElement("span");if("role"in h){const{role:e}=h,a=e.match(C);a?(t.setAttribute("role","heading"),t.setAttribute("aria-level",a[1])):p[e]&&t.setAttribute("role",p[e])}if(this._setAttributes(h,t),h.children)if(1===h.children.length&&"id"in h.children[0])this._setAttributes(h.children[0],t);else for(const e of h.children)t.append(this._walk(e));return t}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextLayerBuilder=void 0;var C=p(3);r.TextLayerBuilder=class b{constructor({textLayerDiv:t,eventBus:e,pageIndex:a,viewport:g,highlighter:E=null,enhanceTextSelection:A=!1,accessibilityManager:o=null}){this.textLayerDiv=t,this.eventBus=e,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=a+1,this.viewport=g,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=E,this.enhanceTextSelection=A,this.accessibilityManager=o,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.append(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){var e,a;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null===(e=this.highlighter)||void 0===e||e.setTextMapping(this.textDivs,this.textContentItemsStr),null===(a=this.accessibilityManager)||void 0===a||a.setTextMapping(this.textDivs);const g=document.createDocumentFragment();this.textLayerRenderTask=(0,C.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:g,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var E,A;this.textLayerDiv.append(g),this._finishRendering(),null===(E=this.highlighter)||void 0===E||E.enable(),null===(A=this.accessibilityManager)||void 0===A||A.enable()},function(E){})}cancel(){var t,e;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(t=this.highlighter)||void 0===t||t.disable(),null===(e=this.accessibilityManager)||void 0===e||e.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let e=null;t.addEventListener("mousedown",a=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(e&&(clearTimeout(e),e=null));const g=t.querySelector(".endOfContent");if(!g)return;let E=a.target!==t;if(E=E&&"none"!==window.getComputedStyle(g).getPropertyValue("-moz-user-select"),E){const A=t.getBoundingClientRect(),o=Math.max(0,(a.pageY-A.top)/A.height);g.style.top=(100*o).toFixed(2)+"%"}g.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(e=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),e=null},300));const a=t.querySelector(".endOfContent");a&&(a.style.top="",a.classList.remove("active"))})}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaLayerBuilder=void 0;var C=p(3);r.XfaLayerBuilder=class m{constructor({pageDiv:h,pdfPage:t,annotationStorage:e=null,linkService:a,xfaHtml:g=null}){this.pageDiv=h,this.pdfPage=t,this.annotationStorage=e,this.linkService=a,this.xfaHtml=g,this.div=null,this._cancelled=!1}render(h,t="display"){if("print"===t){const e={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},a=document.createElement("div");this.pageDiv.append(a),e.div=a;const g=C.XfaLayer.render(e);return Promise.resolve(g)}return this.pdfPage.getXfa().then(e=>{if(this._cancelled||!e)return{textDivs:[]};const a={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:e,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?C.XfaLayer.update(a):(this.div=document.createElement("div"),this.pageDiv.append(this.div),a.div=this.div,C.XfaLayer.render(a))}).catch(e=>{console.error(e)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFViewer=r.PDFSinglePageViewer=void 0;var C=p(7),m=p(12);r.PDFViewer=class b extends m.BaseViewer{},r.PDFSinglePageViewer=class h extends m.BaseViewer{_resetView(){super._resetView(),this._scrollMode=C.ScrollMode.PAGE,this._spreadMode=C.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}},(w,r,p)=>{let C;Object.defineProperty(r,"__esModule",{value:!0}),r.PagesCountLimit=r.PDFPageViewBuffer=r.BaseViewer=void 0;var m=p(3),b=p(7),h=p(2),t=p(5),e=p(4),a=p(13),g=p(16),E=p(6),A=p(8),o=p(17),f=p(9),R=p(10);const V="enablePermissions",v={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function k(ye){return Object.values(m.AnnotationEditorType).includes(ye)&&ye!==m.AnnotationEditorType.DISABLE}r.PagesCountLimit=v;var W=new WeakMap,Q=new WeakMap,se=new WeakSet;C=Symbol.iterator;class H{constructor(U){n(this,se),$(this,W,{writable:!0,value:new Set}),$(this,Q,{writable:!0,value:0}),F(this,Q,U)}push(U){const ee=y(this,W);ee.has(U)&&ee.delete(U),ee.add(U),ee.size>y(this,Q)&&L(this,se,_).call(this)}resize(U,ee=null){F(this,Q,U);const ne=y(this,W);if(ee){const Z=ne.size;let ae=1;for(const ge of ne)if(ee.has(ge.id)&&(ne.delete(ge),ne.add(ge)),++ae>Z)break}for(;ne.size>y(this,Q);)L(this,se,_).call(this)}has(U){return y(this,W).has(U)}[C](){return y(this,W).keys()}}function _(){const ye=y(this,W).keys().next().value;null==ye||ye.destroy(),y(this,W).delete(ye)}r.PDFPageViewBuffer=H;var l=new WeakMap,S=new WeakMap,B=new WeakMap,P=new WeakMap,i=new WeakMap,c=new WeakMap,u=new WeakMap,M=new WeakMap,I=new WeakSet,z=new WeakSet,K=new WeakSet,re=new WeakSet,te=new WeakSet,pe=new WeakSet,le=new WeakSet,ue=new WeakSet,de=new WeakSet;class _e{constructor(U){var ee,ne,Z,ae,ge;if(n(this,de),n(this,ue),n(this,le),n(this,pe),n(this,te),n(this,re),n(this,K),n(this,z),n(this,I),$(this,l,{writable:!0,value:null}),$(this,S,{writable:!0,value:m.AnnotationEditorType.DISABLE}),$(this,B,{writable:!0,value:null}),$(this,P,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS}),$(this,i,{writable:!0,value:!1}),$(this,c,{writable:!0,value:0}),$(this,u,{writable:!0,value:null}),$(this,M,{writable:!0,value:null}),this.constructor===_e)throw new Error("Cannot initialize BaseViewer.");const J="2.16.105";if(m.version!==J)throw new Error(`The API version "${m.version}" does not match the Viewer version "${J}".`);if(this.container=U.container,this.viewer=U.viewer||U.container.firstElementChild,"DIV"!==(null===(ee=this.container)||void 0===ee?void 0:ee.tagName.toUpperCase())||"DIV"!==(null===(ne=this.viewer)||void 0===ne?void 0:ne.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=U.eventBus,this.linkService=U.linkService||new E.SimpleLinkService,this.downloadManager=U.downloadManager||null,this.findController=U.findController||null,this._scriptingManager=U.scriptingManager||null,this.removePageBorders=U.removePageBorders||!1,this.textLayerMode=null!==(Z=U.textLayerMode)&&void 0!==Z?Z:b.TextLayerMode.ENABLE,F(this,P,null!==(ae=U.annotationMode)&&void 0!==ae?ae:m.AnnotationMode.ENABLE_FORMS),F(this,S,null!==(ge=U.annotationEditorMode)&&void 0!==ge?ge:m.AnnotationEditorType.DISABLE),this.imageResourcesPath=U.imageResourcesPath||"",this.enablePrintAutoRotate=U.enablePrintAutoRotate||!1,this.renderer=U.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=U.useOnlyCssZoom||!1,this.maxCanvasPixels=U.maxCanvasPixels,this.l10n=U.l10n||e.NullL10n,F(this,i,U.enablePermissions||!1),this.pageColors=U.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!U.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new g.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=U.renderingQueue,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(U){return this._pages[U]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(U){return null==U?void 0:U.pdfPage})}get renderForms(){return y(this,P)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(U){if(!Number.isInteger(U))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(U,!0)||console.error(`currentPageNumber: "${U}" is not a valid page.`))}_setCurrentPageNumber(U,ee=!1){var ne,Z;if(this._currentPageNumber===U)return ee&&L(this,pe,Me).call(this),!0;if(!(0<U&&U<=this.pagesCount))return!1;const ae=this._currentPageNumber;return this._currentPageNumber=U,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:U,pageLabel:null!==(ne=null===(Z=this._pageLabels)||void 0===Z?void 0:Z[U-1])&&void 0!==ne?ne:null,previous:ae}),ee&&L(this,pe,Me).call(this),!0}get currentPageLabel(){var U,ee;return null!==(U=null===(ee=this._pageLabels)||void 0===ee?void 0:ee[this._currentPageNumber-1])&&void 0!==U?U:null}set currentPageLabel(U){if(!this.pdfDocument)return;let ee=0|U;if(this._pageLabels){const ne=this._pageLabels.indexOf(U);ne>=0&&(ee=ne+1)}this._setCurrentPageNumber(ee,!0)||console.error(`currentPageLabel: "${U}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(U){if(isNaN(U))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(U,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(U){this.pdfDocument&&this._setScale(U,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(U){if(!(0,b.isValidRotation)(U))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((U%=360)<0&&(U+=360),this._pagesRotation===U))return;this._pagesRotation=U;const ee=this._currentPageNumber,ne={rotation:U};for(const Z of this._pages)Z.update(ne);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:U,pageNumber:ee}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(U){var ee=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),y(this,B)&&(y(this,B).destroy(),F(this,B,null))),this.pdfDocument=U,!U)return;const ne=U.isPureXfa,Z=U.numPages,ae=U.getPage(1),ge=U.getOptionalContentConfig(),J=y(this,i)?U.getPermissions():Promise.resolve();if(Z>v.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const X=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:X})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Z})},()=>{}),this._onBeforeDraw=X=>{const Y=this._pages[X.pageNumber-1];Y&&y(this,l).push(Y)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=X=>{X.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:X.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,y(this,M)&&(document.removeEventListener("visibilitychange",y(this,M)),F(this,M,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ae,J]).then(([X,Y])=>{if(U!==this.pdfDocument)return;this._firstPageCapability.resolve(X),this._optionalContentConfigPromise=ge;const{annotationEditorMode:Ae,annotationMode:be,textLayerMode:he}=L(this,I,me).call(this,Y);if(Ae!==m.AnnotationEditorType.DISABLE){const De=Ae;ne?console.warn("Warning: XFA-editing is not implemented."):k(De)?(F(this,B,new m.AnnotationEditorUIManager(this.container,this.eventBus)),De!==m.AnnotationEditorType.NONE&&y(this,B).updateMode(De)):console.error(`Invalid AnnotationEditor mode: ${De}`)}const ce=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,ve=this.currentScale,Ee=X.getViewport({scale:ve*m.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=he===b.TextLayerMode.DISABLE||ne?null:this,we=be!==m.AnnotationMode.DISABLE?this:null,ke=ne?this:null,Te=y(this,B)?this:null;for(let De=1;De<=Z;++De){const Be=new a.PDFPageView({container:ce,eventBus:this.eventBus,id:De,scale:ve,defaultViewport:Ee.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:he,annotationLayerFactory:we,annotationMode:be,xfaLayerFactory:ke,annotationEditorLayerFactory:Te,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Be)}const Re=this._pages[0];Re&&(Re.setPdfPage(X),this.linkService.cachePageRef(1,X.ref)),this._scrollMode===b.ScrollMode.PAGE?L(this,K,oe).call(this):this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),L(this,z,ie).call(this).then(G(function*(){if(ee.findController&&ee.findController.setDocument(U),ee._scriptingManager&&ee._scriptingManager.setDocument(U),y(ee,B)&&ee.eventBus.dispatch("annotationeditormodechanged",{source:ee,mode:y(ee,S)}),U.loadingParams.disableAutoFetch||Z>v.FORCE_LAZY_PAGE_INIT)return void ee._pagesCapability.resolve();let De=Z-1;if(De<=0)ee._pagesCapability.resolve();else for(let Be=2;Be<=Z;++Be){const Ne=U.getPage(Be).then(We=>{const Ge=ee._pages[Be-1];Ge.pdfPage||Ge.setPdfPage(We),ee.linkService.cachePageRef(Be,We.ref),0==--De&&ee._pagesCapability.resolve()},We=>{console.error(`Unable to get page ${Be} to initialize viewer`,We),0==--De&&ee._pagesCapability.resolve()});Be%v.PAUSE_EAGER_PAGE_INIT==0&&(yield Ne)}})),this.eventBus.dispatch("pagesinit",{source:this}),U.getMetadata().then(({info:De})=>{U===this.pdfDocument&&De.Language&&(this.viewer.lang=De.Language)}),this.defaultRenderingQueue&&this.update()}).catch(X=>{console.error("Unable to initialize viewer",X),this._pagesCapability.reject(X)})}setPageLabels(U){if(this.pdfDocument){U?Array.isArray(U)&&this.pdfDocument.numPages===U.length?this._pageLabels=U:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Z=0,ae=this._pages.length;Z<ae;Z++){var ee,ne;this._pages[Z].setPageLabel(null!==(ee=null===(ne=this._pageLabels)||void 0===ne?void 0:ne[Z])&&void 0!==ee?ee:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,F(this,l,new H(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,F(this,u,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),y(this,M)&&(document.removeEventListener("visibilitychange",y(this,M)),F(this,M,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(V)}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(U,ee,ne=!1,Z=!1){if(this._currentScaleValue=ee.toString(),L(this,te,Le).call(this,U))return void(Z&&this.eventBus.dispatch("scalechanging",{source:this,scale:U,presetValue:ee}));b.docStyle.setProperty("--scale-factor",U*m.PixelsPerInch.PDF_TO_CSS_UNITS);const ae={scale:U};for(const ge of this._pages)ge.update(ae);if(this._currentScale=U,!ne){let J,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,J=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:J,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:U,presetValue:Z?ee:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(U,ee=!1){let ne=parseFloat(U);if(ne>0)this._setScaleUpdatePages(ne,U,ee,!1);else{const Z=this._pages[this._currentPageNumber-1];if(!Z)return;let ae=b.SCROLLBAR_PADDING,ge=b.VERTICAL_PADDING;this.isInPresentationMode?ae=ge=4:this.removePageBorders?ae=ge=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([ae,ge]=[ge,ae]);const J=(this.container.clientWidth-ae)/Z.width*Z.scale/this._pageWidthScaleFactor,X=(this.container.clientHeight-ge)/Z.height*Z.scale;switch(U){case"page-actual":ne=1;break;case"page-width":ne=J;break;case"page-height":ne=X;break;case"page-fit":ne=Math.min(J,X);break;case"auto":const Y=(0,b.isPortraitOrientation)(Z)?J:Math.min(X,J);ne=Math.min(b.MAX_AUTO_SCALE,Y);break;default:return void console.error(`_setScale: "${U}" is an unknown zoom value.`)}this._setScaleUpdatePages(ne,U,ee,!0)}}pageLabelToPageNumber(U){if(!this._pageLabels)return null;const ee=this._pageLabels.indexOf(U);return ee<0?null:ee+1}scrollPageIntoView({pageNumber:U,destArray:ee=null,allowNegativeOffset:ne=!1,ignoreDestinationZoom:Z=!1}){if(!this.pdfDocument)return;const ae=Number.isInteger(U)&&this._pages[U-1];if(!ae)return void console.error(`scrollPageIntoView: "${U}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!ee)return void this._setCurrentPageNumber(U,!0);let Ae,be,ge=0,J=0,X=0,Y=0;const he=ae.rotation%180!=0,ce=(he?ae.height:ae.width)/ae.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,ve=(he?ae.width:ae.height)/ae.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let Ee=0;switch(ee[1].name){case"XYZ":ge=ee[2],J=ee[3],Ee=ee[4],ge=null!==ge?ge:0,J=null!==J?J:ve;break;case"Fit":case"FitB":Ee="page-fit";break;case"FitH":case"FitBH":J=ee[2],Ee="page-width",null===J&&this._location?(ge=this._location.left,J=this._location.top):("number"!=typeof J||J<0)&&(J=ve);break;case"FitV":case"FitBV":ge=ee[2],X=ce,Y=ve,Ee="page-height";break;case"FitR":ge=ee[2],J=ee[3],X=ee[4]-ge,Y=ee[5]-J,Ae=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/X/m.PixelsPerInch.PDF_TO_CSS_UNITS,be=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/Y/m.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=Math.min(Math.abs(Ae),Math.abs(be));break;default:return void console.error(`scrollPageIntoView: "${ee[1].name}" is not a valid destination type.`)}if(Z||(Ee&&Ee!==this._currentScale?this.currentScaleValue=Ee:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===Ee&&!ee[4])return void L(this,re,Fe).call(this,ae);const Se=[ae.viewport.convertToViewportPoint(ge,J),ae.viewport.convertToViewportPoint(ge+X,J+Y)];let we=Math.min(Se[0][0],Se[1][0]),ke=Math.min(Se[0][1],Se[1][1]);ne||(we=Math.max(we,0),ke=Math.max(ke,0)),L(this,re,Fe).call(this,ae,{left:we,top:ke})}_updateLocation(U){const ee=this._currentScale,ne=this._currentScaleValue,Z=parseFloat(ne)===ee?Math.round(1e4*ee)/100:ne,ae=U.id,J=this.container,X=this._pages[ae-1].getPagePoint(J.scrollLeft-U.x,J.scrollTop-U.y),Y=Math.round(X[0]),Ae=Math.round(X[1]);let be=`#page=${ae}`;this.isInPresentationMode||(be+=`&zoom=${Z},${Y},${Ae}`),this._location={pageNumber:ae,scale:Z,top:Ae,left:Y,rotation:this._pagesRotation,pdfOpenParams:be}}update(){const U=this._getVisiblePages(),ee=U.views,ne=ee.length;if(0===ne)return;const Z=Math.max(10,2*ne+1);y(this,l).resize(Z,U.ids),this.renderingQueue.renderHighestPriority(U);const ae=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),ge=this._currentPageNumber;let J=!1;for(const X of ee){if(X.percent<100)break;if(X.id===ge&&ae){J=!0;break}}this._setCurrentPageNumber(J?ge:ee[0].id),this._updateLocation(U.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(U){return this.container.contains(U)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const U=this._scrollMode===b.ScrollMode.PAGE?y(this,u).pages:this._pages,ee=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:U,sortByVisibility:!0,horizontal:ee,rtl:ee&&this._isContainerRtl})}isPageVisible(U){return!!this.pdfDocument&&(Number.isInteger(U)&&U>0&&U<=this.pagesCount?this._getVisiblePages().ids.has(U):(console.error(`isPageVisible: "${U}" is not a valid page.`),!1))}isPageCached(U){if(!this.pdfDocument)return!1;if(!(Number.isInteger(U)&&U>0&&U<=this.pagesCount))return console.error(`isPageCached: "${U}" is not a valid page.`),!1;const ee=this._pages[U-1];return y(this,l).has(ee)}cleanup(){for(const U of this._pages)U.renderingState!==b.RenderingStates.FINISHED&&U.reset()}_cancelRendering(){for(const U of this._pages)U.cancelRendering()}forceRendering(U){const ee=U||this._getVisiblePages(),ne=L(this,ue,xe).call(this,ee),ae=this.renderingQueue.getHighestPriority(ee,this._pages,ne,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return L(this,de,Pe).call(this,ee.ids),!!ae&&(L(this,le,fe).call(this,ae).then(()=>{this.renderingQueue.renderView(ae)}),!0)}createTextLayerBuilder({textLayerDiv:U,pageIndex:ee,viewport:ne,enhanceTextSelection:Z=!1,eventBus:ae,highlighter:ge,accessibilityManager:J=null}){return new f.TextLayerBuilder({textLayerDiv:U,eventBus:ae,pageIndex:ee,viewport:ne,enhanceTextSelection:!this.isInPresentationMode&&Z,highlighter:ge,accessibilityManager:J})}createTextHighlighter({pageIndex:U,eventBus:ee}){return new o.TextHighlighter({eventBus:ee,pageIndex:U,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:U,pdfPage:ee,annotationStorage:ne=(ce=>null===(ce=this.pdfDocument)||void 0===ce?void 0:ce.annotationStorage)(),imageResourcesPath:Z="",renderForms:ae=!0,l10n:ge=e.NullL10n,enableScripting:J=this.enableScripting,hasJSActionsPromise:X=(ce=>null===(ce=this.pdfDocument)||void 0===ce?void 0:ce.hasJSActions())(),mouseState:Y=(ce=>null===(ce=this._scriptingManager)||void 0===ce?void 0:ce.mouseState)(),fieldObjectsPromise:Ae=(ce=>null===(ce=this.pdfDocument)||void 0===ce?void 0:ce.getFieldObjects())(),annotationCanvasMap:be=null,accessibilityManager:he=null}){return new t.AnnotationLayerBuilder({pageDiv:U,pdfPage:ee,annotationStorage:ne,imageResourcesPath:Z,renderForms:ae,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:J,hasJSActionsPromise:X,mouseState:Y,fieldObjectsPromise:Ae,annotationCanvasMap:be,accessibilityManager:he})}createAnnotationEditorLayerBuilder({uiManager:U=y(this,B),pageDiv:ee,pdfPage:ne,accessibilityManager:Z=null,l10n:ae,annotationStorage:ge=(J=>null===(J=this.pdfDocument)||void 0===J?void 0:J.annotationStorage)()}){return new h.AnnotationEditorLayerBuilder({uiManager:U,pageDiv:ee,pdfPage:ne,annotationStorage:ge,accessibilityManager:Z,l10n:ae})}createXfaLayerBuilder({pageDiv:U,pdfPage:ee,annotationStorage:ne=(Z=>null===(Z=this.pdfDocument)||void 0===Z?void 0:Z.annotationStorage)()}){return new R.XfaLayerBuilder({pageDiv:U,pdfPage:ee,annotationStorage:ne,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:U}){return new A.StructTreeLayerBuilder({pdfPage:U})}get hasEqualPageSizes(){const U=this._pages[0];for(let ee=1,ne=this._pages.length;ee<ne;++ee){const Z=this._pages[ee];if(Z.width!==U.width||Z.height!==U.height)return!1}return!0}getPagesOverview(){return this._pages.map(U=>{const ee=U.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(ee)?{width:ee.width,height:ee.height,rotation:ee.rotation}:{width:ee.height,height:ee.width,rotation:(ee.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(U){if(!(U instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${U}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=U;const ee={optionalContentConfigPromise:U};for(const ne of this._pages)ne.update(ee);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:U})}get scrollMode(){return this._scrollMode}set scrollMode(U){if(this._scrollMode!==U){if(!(0,b.isValidScrollMode)(U))throw new Error(`Invalid scroll mode: ${U}`);this.pagesCount>v.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=U,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:U}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(U=null){const ee=this._scrollMode,ne=this.viewer;ne.classList.toggle("scrollHorizontal",ee===b.ScrollMode.HORIZONTAL),ne.classList.toggle("scrollWrapped",ee===b.ScrollMode.WRAPPED),this.pdfDocument&&U&&(ee===b.ScrollMode.PAGE?L(this,K,oe).call(this):this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(U,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(U){if(this._spreadMode!==U){if(!(0,b.isValidSpreadMode)(U))throw new Error(`Invalid spread mode: ${U}`);this._spreadMode=U,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:U}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(U=null){if(!this.pdfDocument)return;const ee=this.viewer,ne=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)L(this,K,oe).call(this);else if(ee.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const Z of this._pages)ee.append(Z.div);else{const Z=this._spreadMode-1;let ae=null;for(let ge=0,J=ne.length;ge<J;++ge)null===ae?(ae=document.createElement("div"),ae.className="spread",ee.append(ae)):ge%2===Z&&(ae=ae.cloneNode(!1),ee.append(ae)),ae.append(ne[ge].div)}U&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(U,!0),this.update())}_getPageAdvance(U,ee=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:ne}=this._getVisiblePages(),Z=new Map;for(const{id:ae,y:ge,percent:J,widthPercent:X}of ne){if(0===J||X<100)continue;let Y=Z.get(ge);Y||Z.set(ge,Y||(Y=[])),Y.push(ae)}for(const ae of Z.values()){const ge=ae.indexOf(U);if(-1===ge)continue;const J=ae.length;if(1===J)break;if(ee)for(let X=ge-1,Y=0;X>=Y;X--){const be=ae[X+1]-1;if(ae[X]<be)return U-be}else for(let X=ge+1,Y=J;X<Y;X++){const be=ae[X-1]+1;if(ae[X]>be)return be-U}if(ee){const X=ae[0];if(X<U)return U-X+1}else{const X=ae[J-1];if(X>U)return X-U+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const ne=this._spreadMode-1;if(ee&&U%2!==ne)break;if(!ee&&U%2===ne)break;const{views:Z}=this._getVisiblePages(),ae=ee?U-1:U+1;for(const{id:ge,percent:J,widthPercent:X}of Z)if(ge===ae){if(J>0&&100===X)return 2;break}break}}return 1}nextPage(){const U=this._currentPageNumber,ee=this.pagesCount;if(U>=ee)return!1;const ne=this._getPageAdvance(U,!1)||1;return this.currentPageNumber=Math.min(U+ne,ee),!0}previousPage(){const U=this._currentPageNumber;if(U<=1)return!1;const ee=this._getPageAdvance(U,!0)||1;return this.currentPageNumber=Math.max(U-ee,1),!0}increaseScale(U=1){let ee=this._currentScale;do{ee=(ee*b.DEFAULT_SCALE_DELTA).toFixed(2),ee=Math.ceil(10*ee)/10,ee=Math.min(b.MAX_SCALE,ee)}while(--U>0&&ee<b.MAX_SCALE);this.currentScaleValue=ee}decreaseScale(U=1){let ee=this._currentScale;do{ee=(ee/b.DEFAULT_SCALE_DELTA).toFixed(2),ee=Math.floor(10*ee)/10,ee=Math.max(b.MIN_SCALE,ee)}while(--U>0&&ee>b.MIN_SCALE);this.currentScaleValue=ee}updateContainerHeightCss(){const U=this.container.clientHeight;U!==y(this,c)&&(F(this,c,U),b.docStyle.setProperty("--viewer-container-height",`${U}px`))}get annotationEditorMode(){return y(this,B)?y(this,S):m.AnnotationEditorType.DISABLE}set annotationEditorMode(U){if(!y(this,B))throw new Error("The AnnotationEditor is not enabled.");if(y(this,S)!==U){if(!k(U))throw new Error(`Invalid AnnotationEditor mode: ${U}`);this.pdfDocument&&(F(this,S,U),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:U}),y(this,B).updateMode(U))}}set annotationEditorParams({type:U,value:ee}){if(!y(this,B))throw new Error("The AnnotationEditor is not enabled.");y(this,B).updateParams(U,ee)}refresh(){if(!this.pdfDocument)return;const U={};for(const ee of this._pages)ee.update(U);this.update()}}function me(ye){const U={annotationEditorMode:y(this,S),annotationMode:y(this,P),textLayerMode:this.textLayerMode};return ye&&(ye.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(V),ye.includes(m.PermissionFlag.MODIFY_CONTENTS)||(U.annotationEditorMode=m.AnnotationEditorType.DISABLE),!ye.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!ye.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&y(this,P)===m.AnnotationMode.ENABLE_FORMS&&(U.annotationMode=m.AnnotationMode.ENABLE)),U}function ie(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ye=new Promise(U=>{F(this,M,()=>{"hidden"===document.visibilityState&&(U(),document.removeEventListener("visibilitychange",y(this,M)),F(this,M,null))}),document.addEventListener("visibilitychange",y(this,M))});return Promise.race([this._onePageRenderedCapability.promise,ye])}function oe(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ye=this._currentPageNumber,U=y(this,u),ee=this.viewer;if(ee.textContent="",U.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const ne=new Set,Z=this._spreadMode-1;-1===Z?ne.add(ye-1):ye%2!==Z?(ne.add(ye-1),ne.add(ye)):(ne.add(ye-2),ne.add(ye-1));const ae=document.createElement("div");if(ae.className="spread",this.isInPresentationMode){const ge=document.createElement("div");ge.className="dummyPage",ae.append(ge)}for(const ge of ne){const J=this._pages[ge];J&&(ae.append(J.div),U.pages.push(J))}ee.append(ae)}else{const ne=this._pages[ye-1];ee.append(ne.div),U.pages.push(ne)}U.scrollDown=ye>=U.previousPageNumber,U.previousPageNumber=ye}function Fe(ye,U=null){const{div:ee,id:ne}=ye;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(ne),L(this,K,oe).call(this),this.update()),!U&&!this.isInPresentationMode){const Z=ee.offsetLeft+ee.clientLeft,ae=Z+ee.clientWidth,{scrollLeft:ge,clientWidth:J}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||Z<ge||ae>ge+J)&&(U={left:0,top:0})}(0,b.scrollIntoView)(ee,U)}function Le(ye){return ye===this._currentScale||Math.abs(ye-this._currentScale)<1e-15}function Me(){const ye=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),L(this,re,Fe).call(this,ye)}function fe(ye){return Ce.apply(this,arguments)}function Ce(){return(Ce=G(function*(ye){if(ye.pdfPage)return ye.pdfPage;try{var U,ee;const ne=yield this.pdfDocument.getPage(ye.id);return ye.pdfPage||ye.setPdfPage(ne),null!==(U=(ee=this.linkService)._cachedPageNumber)&&void 0!==U&&U.call(ee,ne.ref)||this.linkService.cachePageRef(ye.id,ne.ref),ne}catch(ne){return console.error("Unable to get page for page view",ne),null}})).apply(this,arguments)}function xe(ye){var U,ee;if(1===(null===(U=ye.first)||void 0===U?void 0:U.id))return!0;if((null===(ee=ye.last)||void 0===ee?void 0:ee.id)===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return y(this,u).scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Pe(ye){for(const U of ye){const ee=this._pages[U-1];null==ee||ee.toggleLoadingIconSpinner(!0)}for(const U of y(this,l))ye.has(U.id)||U.toggleLoadingIconSpinner(!1)}r.BaseViewer=_e},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFPageView=void 0;var C=p(3),m=p(7),b=p(14),h=p(4),t=p(15);const e=b.compatibilityParams.maxCanvasPixels||16777216;var a=new WeakMap,g=new WeakMap;r.PDFPageView=class E{constructor(o){var f,R,x,V;$(this,a,{writable:!0,value:C.AnnotationMode.ENABLE_FORMS}),$(this,g,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const v=o.container,k=o.defaultViewport;this.id=o.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=o.scale||m.DEFAULT_SCALE,this.viewport=k,this.pdfPageRotate=k.rotation,this._optionalContentConfigPromise=o.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(f=o.textLayerMode)&&void 0!==f?f:m.TextLayerMode.ENABLE,F(this,a,null!==(R=o.annotationMode)&&void 0!==R?R:C.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=o.imageResourcesPath||"",this.useOnlyCssZoom=o.useOnlyCssZoom||!1,this.maxCanvasPixels=o.maxCanvasPixels||e,this.pageColors=o.pageColors||null,this.eventBus=o.eventBus,this.renderingQueue=o.renderingQueue,this.textLayerFactory=o.textLayerFactory,this.annotationLayerFactory=o.annotationLayerFactory,this.annotationEditorLayerFactory=o.annotationEditorLayerFactory,this.xfaLayerFactory=o.xfaLayerFactory,this.textHighlighter=null===(x=o.textHighlighterFactory)||void 0===x?void 0:x.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=o.structTreeLayerFactory,this.renderer=o.renderer||m.RendererType.CANVAS,this.l10n=o.l10n||h.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=m.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(V=this.renderingQueue)&&void 0!==V&&V.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const W=document.createElement("div");if(W.className="page",W.style.width=Math.floor(this.viewport.width)+"px",W.style.height=Math.floor(this.viewport.height)+"px",W.setAttribute("data-page-number",this.id),W.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Q=>{W.setAttribute("aria-label",Q)}),this.div=W,null==v||v.append(W),this._isStandalone){const{optionalContentConfigPromise:Q}=o;Q&&Q.then(se=>{Q===this._optionalContentConfigPromise&&(y(this,g).initialOptionalContent=se.hasInitialVisibility)})}}setPdfPage(o){this.pdfPage=o,this.pdfPageRotate=o.rotate,this.viewport=o.getViewport({scale:this.scale*C.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var o=this;return G(function*(){let f=null;try{yield o.annotationLayer.render(o.viewport,"display")}catch(R){console.error(`_renderAnnotationLayer: "${R}".`),f=R}finally{o.eventBus.dispatch("annotationlayerrendered",{source:o,pageNumber:o.id,error:f})}})()}_renderAnnotationEditorLayer(){var o=this;return G(function*(){let f=null;try{yield o.annotationEditorLayer.render(o.viewport,"display")}catch(R){console.error(`_renderAnnotationEditorLayer: "${R}".`),f=R}finally{o.eventBus.dispatch("annotationeditorlayerrendered",{source:o,pageNumber:o.id,error:f})}})()}_renderXfaLayer(){var o=this;return G(function*(){let f=null;try{const R=yield o.xfaLayer.render(o.viewport,"display");o.textHighlighter&&o._buildXfaTextContentItems(R.textDivs)}catch(R){console.error(`_renderXfaLayer: "${R}".`),f=R}finally{o.eventBus.dispatch("xfalayerrendered",{source:o,pageNumber:o.id,error:f})}})()}_buildXfaTextContentItems(o){var f=this;return G(function*(){const R=yield f.pdfPage.getTextContent(),x=[];for(const V of R.items)x.push(V.str);f.textHighlighter.setTextMapping(o,x),f.textHighlighter.enable()})()}_resetZoomLayer(o=!1){if(!this.zoomLayer)return;const f=this.zoomLayer.firstChild;this.paintedViewportMap.delete(f),f.width=0,f.height=0,o&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:o=!1,keepAnnotationLayer:f=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:x=!1}={}){var V,v,k;this.cancelRendering({keepAnnotationLayer:f,keepAnnotationEditorLayer:R,keepXfaLayer:x}),this.renderingState=m.RenderingStates.INITIAL;const W=this.div;W.style.width=Math.floor(this.viewport.width)+"px",W.style.height=Math.floor(this.viewport.height)+"px";const Q=W.childNodes,se=o&&this.zoomLayer||null,H=f&&(null===(V=this.annotationLayer)||void 0===V?void 0:V.div)||null,_=R&&(null===(v=this.annotationEditorLayer)||void 0===v?void 0:v.div)||null,l=x&&(null===(k=this.xfaLayer)||void 0===k?void 0:k.div)||null;for(let B=Q.length-1;B>=0;B--){const P=Q[B];switch(P){case se:case H:case _:case l:continue}P.remove()}var S;W.removeAttribute("data-loaded"),H&&this.annotationLayer.hide(),_?this.annotationEditorLayer.hide():null===(S=this.annotationEditorLayer)||void 0===S||S.destroy(),l&&this.xfaLayer.hide(),se||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(B=>{var P;null===(P=this.loadingIconDiv)||void 0===P||P.setAttribute("aria-label",B)}),W.append(this.loadingIconDiv)}update({scale:o=0,rotation:f=null,optionalContentConfigPromise:R=null}){if(this.scale=o||this.scale,"number"==typeof f&&(this.rotation=f),R instanceof Promise&&(this._optionalContentConfigPromise=R,R.then(v=>{R===this._optionalContentConfigPromise&&(y(this,g).initialOptionalContent=v.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*C.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&m.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let V=!1;if(this.canvas&&this.maxCanvasPixels>0){const v=this.outputScale;(Math.floor(this.viewport.width)*v.sx|0)*(Math.floor(this.viewport.height)*v.sy|0)>this.maxCanvasPixels&&(V=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&V)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:o=!1,keepAnnotationEditorLayer:f=!1,keepXfaLayer:R=!1}={}){var x;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!o||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!f||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||R&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(x=this.textHighlighter)||void 0===x||x.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:o,redrawAnnotationLayer:f=!1,redrawAnnotationEditorLayer:R=!1,redrawXfaLayer:x=!1}){const V=this.viewport.width,v=this.viewport.height,k=this.div;o.style.width=o.parentNode.style.width=k.style.width=Math.floor(V)+"px",o.style.height=o.parentNode.style.height=k.style.height=Math.floor(v)+"px";const W=this.viewport.rotation-this.paintedViewportMap.get(o).rotation,Q=Math.abs(W);let se=1,H=1;if((90===Q||270===Q)&&(se=v/V,H=V/v),o.style.transform=`rotate(${W}deg) scale(${se}, ${H})`,this.textLayer){const _=this.textLayer.viewport,S=Math.abs(this.viewport.rotation-_.rotation);let B=V/_.width;(90===S||270===S)&&(B=V/_.height);const P=this.textLayer.textLayerDiv;let i,c;switch(S){case 0:i=c=0;break;case 90:i=0,c="-"+P.style.height;break;case 180:i="-"+P.style.width,c="-"+P.style.height;break;case 270:i="-"+P.style.width,c=0;break;default:console.error("Bad rotation value.")}P.style.transform=`rotate(${S}deg) scale(${B}) translate(${i}, ${c})`,P.style.transformOrigin="0% 0%"}f&&this.annotationLayer&&this._renderAnnotationLayer(),R&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),x&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(o,f){return this.viewport.convertToPdfPoint(o,f)}toggleLoadingIconSpinner(o=!1){var f;null===(f=this.loadingIconDiv)||void 0===f||f.classList.toggle("notVisible",!o)}draw(){var o,f,R,x=this;this.renderingState!==m.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:V,pdfPage:v}=this;if(!v)return this.renderingState=m.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=m.RenderingStates.RUNNING;const k=document.createElement("div");k.style.width=V.style.width,k.style.height=V.style.height,k.classList.add("canvasWrapper");const W=(null===(o=this.annotationLayer)||void 0===o?void 0:o.div)||(null===(f=this.annotationEditorLayer)||void 0===f?void 0:f.div);W?W.before(k):V.append(k);let Q=null;if(this.textLayerMode!==m.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new t.TextAccessibilityManager);const S=document.createElement("div");S.className="textLayer",S.style.width=k.style.width,S.style.height=k.style.height,W?W.before(S):V.append(S),Q=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:S,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===m.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=Q,y(this,a)!==C.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:V,pdfPage:v,imageResourcesPath:this.imageResourcesPath,renderForms:y(this,a)===C.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),null!==(R=this.xfaLayer)&&void 0!==R&&R.div&&V.append(this.xfaLayer.div);let se=null;this.renderingQueue&&(se=S=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=m.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=m.RenderingStates.RUNNING,S()});S()});const H=function(){var S=G(function*(B=null){if(_===x.paintTask&&(x.paintTask=null),B instanceof C.RenderingCancelledException)x._renderError=null;else if(x._renderError=B,x.renderingState=m.RenderingStates.FINISHED,x.loadingIconDiv&&(x.loadingIconDiv.remove(),delete x.loadingIconDiv),x._resetZoomLayer(!0),y(x,g).regularAnnotations=!_.separateAnnots,x.eventBus.dispatch("pagerendered",{source:x,pageNumber:x.id,cssTransform:!1,timestamp:performance.now(),error:x._renderError}),B)throw B});return function(){return S.apply(this,arguments)}}(),_=this.renderer===m.RendererType.SVG?this.paintOnSvg(k):this.paintOnCanvas(k);_.onRenderContinue=se,this.paintTask=_;const l=_.promise.then(()=>H(null).then(()=>{if(Q){const S=v.streamTextContent({includeMarkedContent:!0});Q.setTextContentStream(S),Q.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:V,pdfPage:v,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(S){return H(S)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:V,pdfPage:v})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=S=>{S.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;const P=this.structTreeLayer.render(B);P.classList.add("structTree"),this.canvas.append(P)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:v})),V.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),l}paintOnCanvas(o){const f=(0,C.createPromiseCapability)(),R={promise:f.promise,onRenderContinue(B){B()},cancel(){S.cancel()},get separateAnnots(){return S.separateAnnots}},x=this.viewport,V=document.createElement("canvas");V.setAttribute("role","presentation"),V.hidden=!0;let v=!0;const k=function(){v&&(V.hidden=!1,v=!1)};o.append(V),this.canvas=V;const W=V.getContext("2d",{alpha:!1}),Q=this.outputScale=new m.OutputScale;if(this.useOnlyCssZoom){const B=x.clone({scale:C.PixelsPerInch.PDF_TO_CSS_UNITS});Q.sx*=B.width/x.width,Q.sy*=B.height/x.height}if(this.maxCanvasPixels>0){const P=Math.sqrt(this.maxCanvasPixels/(x.width*x.height));Q.sx>P||Q.sy>P?(Q.sx=P,Q.sy=P,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const se=(0,m.approximateFraction)(Q.sx),H=(0,m.approximateFraction)(Q.sy);V.width=(0,m.roundToDivide)(x.width*Q.sx,se[0]),V.height=(0,m.roundToDivide)(x.height*Q.sy,H[0]),V.style.width=(0,m.roundToDivide)(x.width,se[1])+"px",V.style.height=(0,m.roundToDivide)(x.height,H[1])+"px",this.paintedViewportMap.set(V,x);const l={canvasContext:W,transform:Q.scaled?[Q.sx,0,0,Q.sy,0,0]:null,viewport:this.viewport,annotationMode:y(this,a),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},S=this.pdfPage.render(l);return S.onContinue=function(B){k(),R.onRenderContinue?R.onRenderContinue(B):B()},S.promise.then(function(){k(),f.resolve()},function(B){k(),f.reject(B)}),R}paintOnSvg(o){let f=!1;const R=()=>{if(f)throw new C.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},x=this.pdfPage,V=this.viewport.clone({scale:C.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:x.getOperatorList({annotationMode:y(this,a)}).then(k=>(R(),new C.SVGGraphics(x.commonObjs,x.objs).getSVG(k,V).then(Q=>{R(),this.svg=Q,this.paintedViewportMap.set(Q,V),Q.style.width=o.style.width,Q.style.height=o.style.height,this.renderingState=m.RenderingStates.FINISHED,o.append(Q)}))),onRenderContinue(k){k()},cancel(){f=!0},get separateAnnots(){return!1}}}setPageLabel(o){this.pageLabel="string"==typeof o?o:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:o,regularAnnotations:f}=y(this,g);return o&&f?this.canvas:null}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.compatibilityParams=r.OptionKind=r.AppOptions=void 0;const p=Object.create(null);r.compatibilityParams=p;{const t=navigator.userAgent||"",e=navigator.platform||"",a=navigator.maxTouchPoints||1,g=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===e&&a>1||g)&&(p.maxCanvasPixels=5242880)}const C={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};r.OptionKind=C;const m={annotationEditorMode:{value:-1,kind:C.VIEWER+C.PREFERENCE},annotationMode:{value:2,kind:C.VIEWER+C.PREFERENCE},cursorToolOnLoad:{value:0,kind:C.VIEWER+C.PREFERENCE},defaultZoomValue:{value:"",kind:C.VIEWER+C.PREFERENCE},disableHistory:{value:!1,kind:C.VIEWER},disablePageLabels:{value:!1,kind:C.VIEWER+C.PREFERENCE},enablePermissions:{value:!1,kind:C.VIEWER+C.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:C.VIEWER+C.PREFERENCE},enableScripting:{value:!0,kind:C.VIEWER+C.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:C.VIEWER},externalLinkTarget:{value:0,kind:C.VIEWER+C.PREFERENCE},historyUpdateUrl:{value:!1,kind:C.VIEWER+C.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:C.VIEWER+C.PREFERENCE},imageResourcesPath:{value:"./images/",kind:C.VIEWER},maxCanvasPixels:{value:16777216,kind:C.VIEWER},forcePageColors:{value:!1,kind:C.VIEWER+C.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:C.VIEWER+C.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:C.VIEWER+C.PREFERENCE},pdfBugEnabled:{value:!1,kind:C.VIEWER+C.PREFERENCE},printResolution:{value:150,kind:C.VIEWER},sidebarViewOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},scrollModeOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},spreadModeOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},textLayerMode:{value:1,kind:C.VIEWER+C.PREFERENCE},useOnlyCssZoom:{value:!1,kind:C.VIEWER+C.PREFERENCE},viewerCssTheme:{value:0,kind:C.VIEWER+C.PREFERENCE},viewOnLoad:{value:0,kind:C.VIEWER+C.PREFERENCE},cMapPacked:{value:!0,kind:C.API},cMapUrl:{value:"../web/cmaps/",kind:C.API},disableAutoFetch:{value:!1,kind:C.API+C.PREFERENCE},disableFontFace:{value:!1,kind:C.API+C.PREFERENCE},disableRange:{value:!1,kind:C.API+C.PREFERENCE},disableStream:{value:!1,kind:C.API+C.PREFERENCE},docBaseUrl:{value:"",kind:C.API},enableXfa:{value:!0,kind:C.API+C.PREFERENCE},fontExtraProperties:{value:!1,kind:C.API},isEvalSupported:{value:!0,kind:C.API},maxImageSize:{value:-1,kind:C.API},pdfBug:{value:!1,kind:C.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:C.API},verbosity:{value:1,kind:C.API},workerPort:{value:null,kind:C.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:C.WORKER}};m.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:C.VIEWER},m.disablePreferences={value:!1,kind:C.VIEWER},m.locale={value:navigator.language||"en-US",kind:C.VIEWER},m.renderer={value:"canvas",kind:C.VIEWER+C.PREFERENCE},m.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:C.VIEWER};const b=Object.create(null);r.AppOptions=class h{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){const a=b[e];if(void 0!==a)return a;const g=m[e];var E;return void 0!==g?null!==(E=p[e])&&void 0!==E?E:g.value:void 0}static getAll(e=null){const a=Object.create(null);for(const E in m){var g;const A=m[E];if(e){if(!(e&A.kind))continue;if(e===C.PREFERENCE){const f=A.value,R=typeof f;if("boolean"===R||"string"===R||"number"===R&&Number.isInteger(f)){a[E]=f;continue}throw new Error(`Invalid type for preference: ${E}`)}}const o=b[E];a[E]=void 0!==o?o:null!==(g=p[E])&&void 0!==g?g:A.value}return a}static set(e,a){b[e]=a}static setAll(e){for(const a in e)b[a]=e[a]}static remove(e){delete b[e]}static _hasUserOptions(){return Object.keys(b).length>0}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextAccessibilityManager=void 0;var C=p(7),m=new WeakMap,b=new WeakMap,h=new WeakMap,t=new WeakMap,e=new WeakSet;class a{constructor(){n(this,e),$(this,m,{writable:!0,value:!1}),$(this,b,{writable:!0,value:null}),$(this,h,{writable:!0,value:new Map}),$(this,t,{writable:!0,value:new Map})}setTextMapping(o){F(this,b,o)}enable(){if(y(this,m))throw new Error("TextAccessibilityManager is already enabled.");if(!y(this,b))throw new Error("Text divs and strings have not been set.");if(F(this,m,!0),F(this,b,y(this,b).slice()),y(this,b).sort(d(a,a,g)),y(this,h).size>0){const o=y(this,b);for(const[f,R]of y(this,h))document.getElementById(f)?L(this,e,E).call(this,f,o[R]):y(this,h).delete(f)}for(const[o,f]of y(this,t))this.addPointerInTextLayer(o,f);y(this,t).clear()}disable(){y(this,m)&&(y(this,t).clear(),F(this,b,null),F(this,m,!1))}removePointerInTextLayer(o){var f;if(!y(this,m))return void y(this,t).delete(o);const R=y(this,b);if(!R||0===R.length)return;const{id:x}=o,V=y(this,h).get(x);if(void 0===V)return;const v=R[V];y(this,h).delete(x);let k=v.getAttribute("aria-owns");null!==(f=k)&&void 0!==f&&f.includes(x)&&(k=k.split(" ").filter(W=>W!==x).join(" "),k?v.setAttribute("aria-owns",k):(v.removeAttribute("aria-owns"),v.setAttribute("role","presentation")))}addPointerInTextLayer(o,f){const{id:R}=o;if(!R)return;if(!y(this,m))return void y(this,t).set(o,f);f&&this.removePointerInTextLayer(o);const x=y(this,b);if(!x||0===x.length)return;const V=(0,C.binarySearchFirstItem)(x,k=>d(a,a,g).call(a,o,k)<0),v=Math.max(0,V-1);L(this,e,E).call(this,R,x[v]),y(this,h).set(R,v)}moveElementInDOM(o,f,R,x){if(this.addPointerInTextLayer(R,x),!o.hasChildNodes())return void o.append(f);const V=Array.from(o.childNodes).filter(W=>W!==f);if(0===V.length)return;const v=R||f,k=(0,C.binarySearchFirstItem)(V,W=>d(a,a,g).call(a,v,W)<0);0===k?V[0].before(f):V[k-1].after(f)}}function g(A,o){const f=A.getBoundingClientRect(),R=o.getBoundingClientRect();if(0===f.width&&0===f.height)return 1;if(0===R.width&&0===R.height)return-1;const v=f.y+f.height/2,Q=R.y+R.height/2;return v<=R.y&&Q>=f.y+f.height?-1:Q<=f.y&&v>=R.y+R.height?1:f.x+f.width/2-(R.x+R.width/2)}function E(A,o){const f=o.getAttribute("aria-owns");null!=f&&f.includes(A)||o.setAttribute("aria-owns",f?`${f} ${A}`:A),o.removeAttribute("role")}r.TextAccessibilityManager=a},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFRenderingQueue=void 0;var C=p(3),m=p(7);r.PDFRenderingQueue=class h{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(e){var a;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&null!==(a=this.pdfThumbnailViewer)&&void 0!==a&&a.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(e,a,g,E=!1){const A=e.views,o=A.length;if(0===o)return null;for(let v=0;v<o;v++){const k=A[v].view;if(!this.isViewFinished(k))return k}const f=e.first.id,R=e.last.id;if(R-f+1>o){const v=e.ids;for(let k=1,W=R-f;k<W;k++){const Q=g?f+k:R-k;if(v.has(Q))continue;const se=a[Q-1];if(!this.isViewFinished(se))return se}}let x=g?R:f-2,V=a[x];return V&&!this.isViewFinished(V)||E&&(x+=g?1:-1,V=a[x],V&&!this.isViewFinished(V))?V:null}isViewFinished(e){return e.renderingState===m.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case m.RenderingStates.FINISHED:return!1;case m.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case m.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case m.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(a=>{a instanceof C.RenderingCancelledException||console.error(`renderView: "${a}"`)})}return!0}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextHighlighter=void 0,r.TextHighlighter=class p{constructor({findController:m,eventBus:b,pageIndex:h}){this.findController=m,this.matches=[],this.eventBus=b,this.pageIdx=h,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(m,b){this.textDivs=m,this.textContentItemsStr=b}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=m=>{(m.pageIndex===this.pageIdx||-1===m.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(m,b){if(!m)return[];const{textContentItemsStr:h}=this;let t=0,e=0;const a=h.length-1,g=[];for(let E=0,A=m.length;E<A;E++){let o=m[E];for(;t!==a&&o>=e+h[t].length;)e+=h[t].length,t++;t===h.length&&console.error("Could not find a matching mapping");const f={begin:{divIdx:t,offset:o-e}};for(o+=b[E];t!==a&&o>e+h[t].length;)e+=h[t].length,t++;f.end={divIdx:t,offset:o-e},g.push(f)}return g}_renderMatches(m){if(0===m.length)return;const{findController:b,pageIdx:h}=this,{textContentItemsStr:t,textDivs:e}=this,a=h===b.selected.pageIdx,g=b.selected.matchIdx;let A=null;function f(v,k){const W=v.divIdx;return e[W].textContent="",R(W,0,v.offset,k)}function R(v,k,W,Q){let se=e[v];if(se.nodeType===Node.TEXT_NODE){const l=document.createElement("span");se.before(l),l.append(se),e[v]=l,se=l}const H=t[v].substring(k,W),_=document.createTextNode(H);if(Q){const l=document.createElement("span");return l.className=`${Q} appended`,l.append(_),se.append(l),Q.includes("selected")?l.offsetLeft:0}return se.append(_),0}let x=g,V=x+1;if(b.state.highlightAll)x=0,V=m.length;else if(!a)return;for(let v=x;v<V;v++){const k=m[v],W=k.begin,Q=k.end,se=a&&v===g,H=se?" selected":"";let _=0;if(A&&W.divIdx===A.divIdx?R(A.divIdx,A.offset,W.offset):(null!==A&&R(A.divIdx,A.offset,void 0),f(W)),W.divIdx===Q.divIdx)_=R(W.divIdx,W.offset,Q.offset,"highlight"+H);else{_=R(W.divIdx,W.offset,void 0,"highlight begin"+H);for(let l=W.divIdx+1,S=Q.divIdx;l<S;l++)e[l].className="highlight middle"+H;f(Q,"highlight end"+H)}A=Q,se&&b.scrollMatchIntoView({element:e[W.divIdx],selectedLeft:_,pageIndex:h,matchIndex:g})}A&&R(A.divIdx,A.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:m,matches:b,pageIdx:h}=this,{textContentItemsStr:t,textDivs:e}=this;let a=-1;for(let A=0,o=b.length;A<o;A++){const f=b[A];for(let x=Math.max(a,f.begin.divIdx),V=f.end.divIdx;x<=V;x++){const v=e[x];v.textContent=t[x],v.className=""}a=f.end.divIdx+1}null!=m&&m.highlightMatches&&(this.matches=this._convertMatches(m.pageMatches[h]||null,m.pageMatchesLength[h]||null),this._renderMatches(this.matches))}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DownloadManager=void 0;var C=p(3);function m(h,t){const e=document.createElement("a");if(!e.click)throw new Error('DownloadManager: "a.click()" is not supported.');e.href=h,e.target="_parent","download"in e&&(e.download=t),(document.body||document.documentElement).append(e),e.click(),e.remove()}r.DownloadManager=class b{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,e){(0,C.createValidAbsoluteUrl)(t,"http://example.com")?m(t+"#pdfjs.action=download",e):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,e,a){m(URL.createObjectURL(new Blob([t],{type:a})),e)}openOrDownloadData(t,e,a){const g=(0,C.isPdfFile)(a),E=g?"application/pdf":"";if(g){let o,A=this._openBlobUrls.get(t);A||(A=URL.createObjectURL(new Blob([e],{type:E})),this._openBlobUrls.set(t,A)),o="?file="+encodeURIComponent(A+"#"+a);try{return window.open(o),!0}catch(f){console.error(`openOrDownloadData: ${f}`),URL.revokeObjectURL(A),this._openBlobUrls.delete(t)}}return this.downloadData(e,a,E),!1}download(t,e,a){m(URL.createObjectURL(t),a)}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WaitOnType=r.EventBus=r.AutomationEventBus=void 0,r.waitOnEventOrTimeout=function C({target:h,name:t,delay:e=0}){return new Promise(function(a,g){if("object"!=typeof h||!t||"string"!=typeof t||!(Number.isInteger(e)&&e>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function E(R){h instanceof m?h._off(t,A):h.removeEventListener(t,A),f&&clearTimeout(f),a(R)}const A=E.bind(null,p.EVENT);h instanceof m?h._on(t,A):h.addEventListener(t,A);const o=E.bind(null,p.TIMEOUT),f=setTimeout(o,e)})};const p={EVENT:"event",TIMEOUT:"timeout"};r.WaitOnType=p;class m{constructor(){this._listeners=Object.create(null)}on(t,e,a=null){this._on(t,e,{external:!0,once:null==a?void 0:a.once})}off(t,e,a=null){this._off(t,e,{external:!0,once:null==a?void 0:a.once})}dispatch(t,e){const a=this._listeners[t];if(!a||0===a.length)return;let g;for(const{listener:E,external:A,once:o}of a.slice(0))o&&this._off(t,E),A?(g||(g=[])).push(E):E(e);if(g){for(const E of g)E(e);g=null}}_on(t,e,a=null){var g;((g=this._listeners)[t]||(g[t]=[])).push({listener:e,external:!0===(null==a?void 0:a.external),once:!0===(null==a?void 0:a.once)})}_off(t,e,a=null){const g=this._listeners[t];if(g)for(let E=0,A=g.length;E<A;E++)if(g[E].listener===e)return void g.splice(E,1)}}r.EventBus=m,r.AutomationEventBus=class b extends m{dispatch(t,e){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GenericL10n=void 0,p(21);var C=p(4);const m=document.webL10n;r.GenericL10n=class b{constructor(t){this._lang=t,this._ready=new Promise((e,a)=>{m.setLanguage((0,C.fixupLangCode)(t),()=>{e(m)})})}getLanguage(){var t=this;return G(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return G(function*(){return(yield t._ready).getDirection()})()}get(t,e=null,a=(0,C.getL10nFallback)(t,e)){var g=this;return G(function*(){return(yield g._ready).get(t,e,a)})()}translate(t){var e=this;return G(function*(){return(yield e._ready).translate(t)})()}}},()=>{document.webL10n=function(w,r,p){var C={},m="",b="textContent",h="",t={},e="loading",a=!0;function f(l,S,B){S=S||function(c){},B=B||function(){};var P=new XMLHttpRequest;P.open("GET",l,a),P.overrideMimeType&&P.overrideMimeType("text/plain; charset=utf-8"),P.onreadystatechange=function(){4==P.readyState&&(200==P.status||0===P.status?S(P.responseText):B())},P.onerror=B,P.ontimeout=B;try{P.send(null)}catch{B()}}function x(l,S){l&&(l=l.toLowerCase()),S=S||function(){},function V(){C={},m="",h=""}(),h=l;var B=function g(){return r.querySelectorAll('link[type="application/l10n"]')}(),P=B.length;if(0!==P){var M,I=0;M=function(){++I>=P&&(S(),e="complete")};for(var K=0;K<P;K++)new z(B[K]).load(l,M)}else{var i=function E(){var l=r.querySelector('script[type="application/l10n"]');return l?JSON.parse(l.innerHTML):null}();if(i&&i.locales&&i.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(C=i.locales[l])){var c=i.default_locale.toLowerCase();for(var u in i.locales){if((u=u.toLowerCase())===l){C=i.locales[l];break}u===c&&(C=i.locales[c])}}S()}else console.log("no resource to load, early way out");e="complete"}function z(te){var pe=te.href;this.load=function(le,ue){!function R(l,S,B,P){var i=l.replace(/[^\/]*$/,"")||"./";function c(M){return M.lastIndexOf("\\")<0?M:M.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}f(l,function(M){m+=M,function u(M,I){var z={},K=/^\s*|\s*$/,re=/^\s*#|^\s*$/,te=/^\s*\[(.*)\]\s*$/,pe=/^\s*@import\s+url\((.*)\)\s*$/i,le=/^([^=\s]*)\s*=\s*(.+)$/;function ue(_e,me,ie){var oe=_e.replace(K,"").split(/[\r\n]+/),Fe="*",Le=S.split("-",1)[0],Me=!1,fe="";!function Ce(){for(;;){if(!oe.length)return void ie();var xe=oe.shift();if(!re.test(xe)){if(me){if(fe=te.exec(xe)){Fe=fe[1].toLowerCase(),Me="*"!==Fe&&Fe!==S&&Fe!==Le;continue}if(Me)continue;if(fe=pe.exec(xe))return void de(i+fe[1],Ce)}var Pe=xe.match(le);Pe&&3==Pe.length&&(z[Pe[1]]=c(Pe[2]))}}}()}function de(_e,me){f(_e,function(ie){ue(ie,!1,me)},function(){console.warn(_e+" not found."),me()})}ue(M,!0,function(){I(z)})}(M,function(I){for(var z in I){var K,re,te=z.lastIndexOf(".");te>0?(K=z.substring(0,te),re=z.substring(te+1)):(K=z,re=b),C[K]||(C[K]={}),C[K][re]=I[z]}B&&B()})},P)}(pe,le,ue,function(){console.warn(pe+" not found."),console.warn('"'+le+'" resource not found'),h="",ue()})}}}function k(l,S,B){var P=C[l];if(!P){if(console.warn("#"+l+" is undefined."),!B)return null;P=B}var i={};for(var c in P){var u=P[c];u=Q(u=W(u,S,l,c),S,l),i[c]=u}return i}function W(l,S,B,P){var c=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(l);if(!c||!c.length)return l;var I,u=c[1],M=c[2];return S&&M in S?I=S[M]:M in C&&(I=C[M]),u in t&&(l=(0,t[u])(l,I,B,P)),l}function Q(l,S,B){return l.replace(/\{\{\s*(.+?)\s*\}\}/g,function(i,c){return S&&c in S?S[c]:c in C?C[c]:(console.log("argument {{"+c+"}} for #"+B+" is undefined."),i)})}function se(l){var S=function o(l){if(!l)return{};var S=l.getAttribute("data-l10n-id"),B=l.getAttribute("data-l10n-args"),P={};if(B)try{P=JSON.parse(B)}catch{console.warn("could not parse arguments for #"+S)}return{id:S,args:P}}(l);if(S.id){var B=k(S.id,S.args);if(!B)return void console.warn("#"+S.id+" is undefined.");if(B[b]){if(0===function H(l){if(l.children)return l.children.length;if(typeof l.childElementCount<"u")return l.childElementCount;for(var S=0,B=0;B<l.childNodes.length;B++)S+=1===l.nodeType?1:0;return S}(l))l[b]=B[b];else{for(var P=l.childNodes,i=!1,c=0,u=P.length;c<u;c++)3===P[c].nodeType&&/\S/.test(P[c].nodeValue)&&(i?P[c].nodeValue="":(P[c].nodeValue=B[b],i=!0));if(!i){var M=r.createTextNode(B[b]);l.prepend(M)}}delete B[b]}for(var I in B)l[I]=B[I]}}return t.plural=function(l,S,B,P){var i=parseFloat(S);if(isNaN(i)||P!=b)return l;t._pluralRules||(t._pluralRules=function v(l){function B(u,M){return-1!==M.indexOf(u)}function P(u,M,I){return M<=u&&u<=I}var i={0:function(u){return"other"},1:function(u){return P(u%100,3,10)?"few":0===u?"zero":P(u%100,11,99)?"many":2==u?"two":1==u?"one":"other"},2:function(u){return 0!==u&&u%10==0?"many":2==u?"two":1==u?"one":"other"},3:function(u){return 1==u?"one":"other"},4:function(u){return P(u,0,1)?"one":"other"},5:function(u){return P(u,0,2)&&2!=u?"one":"other"},6:function(u){return 0===u?"zero":u%10==1&&u%100!=11?"one":"other"},7:function(u){return 2==u?"two":1==u?"one":"other"},8:function(u){return P(u,3,6)?"few":P(u,7,10)?"many":2==u?"two":1==u?"one":"other"},9:function(u){return 0===u||1!=u&&P(u%100,1,19)?"few":1==u?"one":"other"},10:function(u){return P(u%10,2,9)&&!P(u%100,11,19)?"few":u%10!=1||P(u%100,11,19)?"other":"one"},11:function(u){return P(u%10,2,4)&&!P(u%100,12,14)?"few":u%10==0||P(u%10,5,9)||P(u%100,11,14)?"many":u%10==1&&u%100!=11?"one":"other"},12:function(u){return P(u,2,4)?"few":1==u?"one":"other"},13:function(u){return P(u%10,2,4)&&!P(u%100,12,14)?"few":1!=u&&P(u%10,0,1)||P(u%10,5,9)||P(u%100,12,14)?"many":1==u?"one":"other"},14:function(u){return P(u%100,3,4)?"few":u%100==2?"two":u%100==1?"one":"other"},15:function(u){return 0===u||P(u%100,2,10)?"few":P(u%100,11,19)?"many":1==u?"one":"other"},16:function(u){return u%10==1&&11!=u?"one":"other"},17:function(u){return 3==u?"few":0===u?"zero":6==u?"many":2==u?"two":1==u?"one":"other"},18:function(u){return 0===u?"zero":P(u,0,2)&&0!==u&&2!=u?"one":"other"},19:function(u){return P(u,2,10)?"few":P(u,0,1)?"one":"other"},20:function(u){return!P(u%10,3,4)&&u%10!=9||P(u%100,10,19)||P(u%100,70,79)||P(u%100,90,99)?u%1e6==0&&0!==u?"many":u%10!=2||B(u%100,[12,72,92])?u%10!=1||B(u%100,[11,71,91])?"other":"one":"two":"few"},21:function(u){return 0===u?"zero":1==u?"one":"other"},22:function(u){return P(u,0,1)||P(u,11,99)?"one":"other"},23:function(u){return P(u%10,1,2)||u%20==0?"one":"other"},24:function(u){return P(u,3,10)||P(u,13,19)?"few":B(u,[2,12])?"two":B(u,[1,11])?"one":"other"}},c={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[l.replace(/-.*$/,"")];return c in i?i[c]:(console.warn("plural form unknown for ["+l+"]"),function(){return"other"})}(h));var c="["+t._pluralRules(i)+"]";return 0===i&&B+"[zero]"in C?l=C[B+"[zero]"][P]:1==i&&B+"[one]"in C?l=C[B+"[one]"][P]:2==i&&B+"[two]"in C?l=C[B+"[two]"][P]:B+c in C?l=C[B+c][P]:B+"[other]"in C&&(l=C[B+"[other]"][P]),l},{get:function(l,S,B){var c,P=l.lastIndexOf("."),i=b;P>0&&(i=l.substring(P+1),l=l.substring(0,P)),B&&((c={})[i]=B);var u=k(l,S,c);return u&&i in u?u[i]:"{{"+l+"}}"},getData:function(){return C},getText:function(){return m},getLanguage:function(){return h},setLanguage:function(l,S){x(l,function(){S&&S()})},getDirection:function(){var S=h.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(S)>=0?"rtl":"ltr"},translate:function _(l){for(var S=function A(l){return l?l.querySelectorAll("*[data-l10n-id]"):[]}(l=l||r.documentElement),B=S.length,P=0;P<B;P++)se(S[P]);se(l)},getReadyState:function(){return e},ready:function(l){l&&("complete"==e||"interactive"==e?w.setTimeout(function(){l()}):r.addEventListener&&r.addEventListener("localized",function S(){r.removeEventListener("localized",S),l()}))}}}(window,document)},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFFindController=r.FindState=void 0;var C=p(7),m=p(3),b=p(23);const h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};r.FindState=h;const g={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},E=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),A=[...E.values()].map(he=>String.fromCharCode(he)).join(""),o=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]+/gu,f=/([.*+?^${}()|[\]\\])|([!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{10F86}-\u{10F89}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{116B9}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11B00}-\u{11B09}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11F43}-\u{11F4F}\u{11FFF}\u{12470}-\u{12474}\u{12FF1}\u{12FF2}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}])|(\s+)|([\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])|([A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{10340}\u{10342}-\u{10349}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FC4}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11FB0}\u{12000}-\u{12399}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A70}-\u{16ABE}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E4D0}-\u{1E4EB}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}])/gu,R=/([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,x=/^[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*([^\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}])/u,V=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,v=new Map,k="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let W=null,Q=null;function se(he){const ce=[];let ve,Ee;for(;null!==(ve=V.exec(he));){let{index:Ge}=ve;for(const Oe of ve[0]){let Ie=v.get(Oe);Ie||(Ie=Oe.normalize("NFD").length,v.set(Oe,Ie)),ce.push([Ie,Ge++])}}if(0===ce.length&&W)Ee=W;else if(ce.length>0&&Q)Ee=Q;else{const Oe=`([${Object.keys(g).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;Ee=0===ce.length?W=new RegExp(Oe+"|(\\u0000)","gum"):Q=new RegExp(Oe+`|(${k})`,"gum")}const Se=[];for(;null!==(ve=o.exec(he));)Se.push([ve[0].length,ve.index]);let we=he.normalize("NFD");const ke=[[0,0]];let Te=0,Re=0,De=0,Be=0,Ne=0,We=!1;return we=we.replace(Ee,(Ge,Oe,Ie,ze,$e,Ke,Ue)=>{var qe;if(Ue-=Be,Oe){const je=g[Ge],Ve=je.length;for(let He=1;He<Ve;He++)ke.push([Ue-De+He,De-He]);return De-=Ve-1,je}if(Ie){var Ye;const je=Ie.endsWith("\n"),Ve=je?Ie.length-2:Ie.length;We=!0;let He=Ve;Ue+Ne===(null===(Ye=Se[Te])||void 0===Ye?void 0:Ye[1])&&(He-=Se[Te][0],++Te);for(let Xe=1;Xe<=He;Xe++)ke.push([Ue-1-De+Xe,De-Xe]);return De-=He,Be+=He,je?(ke.push([(Ue+=Ve-1)-De+1,1+De]),De+=1,Be+=1,Ne+=1,Ie.slice(0,Ve)):Ie}if(ze)return ke.push([Ue-De+1,1+De]),De+=1,Be+=1,Ne+=1,ze.charAt(0);if($e)return ke.push([Ue-De+1,De-1]),De-=1,Be+=1,Ne+=1," ";if(Ue+Ne===(null===(qe=ce[Re])||void 0===qe?void 0:qe[1])){const je=ce[Re][0]-1;++Re;for(let Ve=1;Ve<=je;Ve++)ke.push([Ue-(De-Ve),De-Ve]);De-=je,Be+=je}return Ke}),ke.push([we.length,De]),[we,ke,We]}function H(he,ce,ve){if(!he)return[ce,ve];const Ee=ce,Se=ce+ve;let we=(0,C.binarySearchFirstItem)(he,Te=>Te[0]>=Ee);he[we][0]>Ee&&--we;let ke=(0,C.binarySearchFirstItem)(he,Te=>Te[0]>=Se,we);return he[ke][0]>Se&&--ke,[Ee+he[we][1],ve+he[ke][1]-he[we][1]]}var _=new WeakSet,l=new WeakSet,S=new WeakMap,B=new WeakSet,P=new WeakSet,i=new WeakSet,c=new WeakSet,u=new WeakSet,M=new WeakSet,I=new WeakSet,z=new WeakSet,K=new WeakSet,re=new WeakSet,te=new WeakSet,pe=new WeakSet,le=new WeakSet,ue=new WeakSet,de=new WeakSet,_e=new WeakSet,me=new WeakSet;function oe(he){if(!he)return;const ce=this._pdfDocument,{type:ve}=he;(null===this._state||L(this,B,Me).call(this,he))&&(this._dirtyMatch=!0),this._state=he,"highlightallchange"!==ve&&L(this,me,be).call(this,h.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;L(this,M,ye).call(this);const Ee=!this._highlightMatches,Se=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ve?this._dirtyMatch?L(this,K,ne).call(this):"again"===ve?(L(this,K,ne).call(this),Ee&&this._state.highlightAll&&L(this,z,ee).call(this)):"highlightallchange"===ve?(Se?L(this,K,ne).call(this):this._highlightMatches=!0,L(this,z,ee).call(this)):L(this,K,ne).call(this):this._findTimeout=setTimeout(()=>{L(this,K,ne).call(this),this._findTimeout=null},250)})}function Fe(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,m.createPromiseCapability)()}function Le(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=se(this._state.query)),this._normalizedQuery}function Me(he){if(he.query!==this._state.query)return!0;switch(he.type){case"again":const ce=this._selected.pageIdx+1,ve=this._linkService;return ce>=1&&ce<=ve.pagesCount&&ce!==ve.page&&!ve.isPageVisible(ce);case"highlightallchange":return!1}return!0}function fe(he,ce,ve){let Ee=he.slice(0,ce).match(R);if(Ee){const Se=he.charCodeAt(ce),we=Ee[1].charCodeAt(0);if((0,b.getCharacterType)(Se)===(0,b.getCharacterType)(we))return!1}if(Ee=he.slice(ce+ve).match(x),Ee){const Se=he.charCodeAt(ce+ve-1),we=Ee[1].charCodeAt(0);if((0,b.getCharacterType)(Se)===(0,b.getCharacterType)(we))return!1}return!0}function Ce(he,ce,ve,Ee){const Se=[],we=[],ke=this._pageDiffs[ve];let Te;for(;null!==(Te=he.exec(Ee));){if(ce&&!L(this,P,fe).call(this,Ee,Te.index,Te[0].length))continue;const[Re,De]=H(ke,Te.index,Te[0].length);De&&(Se.push(Re),we.push(De))}this._pageMatches[ve]=Se,this._pageMatchesLength[ve]=we}function xe(he,ce){const{matchDiacritics:ve}=this._state;let Ee=!1;return(he=he.replace(f,(we,ke,Te,Re,De,Be)=>ke?`[ ]*\\${ke}[ ]*`:Te?`[ ]*${Te}[ ]*`:Re?"[ ]+":ve?De||Be:De?E.has(De.charCodeAt(0))?De:"":ce?(Ee=!0,`${Be}\\p{M}*`):Be)).endsWith("[ ]*")&&(he=he.slice(0,he.length-4)),ve&&ce&&(Ee=!0,he=`${he}(?=[${A}]|[^\\p{M}]|$)`),[Ee,he]}function Pe(he){let ce=y(this,S);if(0===ce.length)return;const{caseSensitive:ve,entireWord:Ee,phraseSearch:Se}=this._state,we=this._pageContents[he],ke=this._hasDiacritics[he];let Te=!1;if(Se)[Te,ce]=L(this,c,xe).call(this,ce,ke);else{const Be=ce.match(/\S+/g);Be&&(ce=Be.sort().reverse().map(Ne=>{const[We,Ge]=L(this,c,xe).call(this,Ne,ke);return Te||(Te=We),`(${Ge})`}).join("|"))}ce=new RegExp(ce,`g${Te?"u":""}${ve?"":"i"}`),L(this,i,Ce).call(this,ce,Ee,he,we),this._state.highlightAll&&L(this,I,U).call(this,he),this._resumePageIdx===he&&(this._resumePageIdx=null,L(this,te,ae).call(this));const De=this._pageMatches[he].length;De>0&&(this._matchesCountTotal+=De,L(this,_e,Ae).call(this))}function ye(){if(this._extractTextPromises.length>0)return;let he=Promise.resolve();for(let ce=0,ve=this._linkService.pagesCount;ce<ve;ce++){const Ee=(0,m.createPromiseCapability)();this._extractTextPromises[ce]=Ee.promise,he=he.then(()=>this._pdfDocument.getPage(ce+1).then(Se=>Se.getTextContent()).then(Se=>{const we=[];for(const ke of Se.items)we.push(ke.str),ke.hasEOL&&we.push("\n");[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=se(we.join("")),Ee.resolve()},Se=>{console.error(`Unable to get text content for page ${ce+1}`,Se),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,Ee.resolve()}))}}function U(he){this._scrollMatches&&this._selected.pageIdx===he&&(this._linkService.page=he+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:he})}function ee(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ne(){const he=this._state.findPrevious,ce=this._linkService.page-1,ve=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,L(this,z,ee).call(this);for(let Se=0;Se<ve;Se++)this._pendingFindMatches.has(Se)||(this._pendingFindMatches.add(Se),this._extractTextPromises[Se].then(()=>{this._pendingFindMatches.delete(Se),L(this,u,Pe).call(this,Se)}))}if(""===y(this,S))return void L(this,me,be).call(this,h.FOUND);if(this._resumePageIdx)return;const Ee=this._offset;if(this._pagesToSearch=ve,null!==Ee.matchIdx){if(!he&&Ee.matchIdx+1<this._pageMatches[Ee.pageIdx].length||he&&Ee.matchIdx>0)return Ee.matchIdx=he?Ee.matchIdx-1:Ee.matchIdx+1,void L(this,le,J).call(this,!0);L(this,pe,ge).call(this,he)}L(this,te,ae).call(this)}function Z(he){const ce=this._offset,ve=he.length,Ee=this._state.findPrevious;return ve?(ce.matchIdx=Ee?ve-1:0,L(this,le,J).call(this,!0),!0):(L(this,pe,ge).call(this,Ee),!!(ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0))&&(L(this,le,J).call(this,!1),!0))}function ae(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let he=null;do{const ce=this._offset.pageIdx;if(he=this._pageMatches[ce],!he){this._resumePageIdx=ce;break}}while(!L(this,re,Z).call(this,he))}function ge(he){const ce=this._offset,ve=this._linkService.pagesCount;ce.pageIdx=he?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=ve||ce.pageIdx<0)&&(ce.pageIdx=he?ve-1:0,ce.wrapped=!0)}function J(he=!1){let ce=h.NOT_FOUND;const ve=this._offset.wrapped;if(this._offset.wrapped=!1,he){const Ee=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=ve?h.WRAPPED:h.FOUND,-1!==Ee&&Ee!==this._selected.pageIdx&&L(this,I,U).call(this,Ee)}L(this,me,be).call(this,ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,L(this,I,U).call(this,this._selected.pageIdx))}function X(he){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),L(this,me,be).call(this,h.FOUND),this._highlightMatches=!1,L(this,z,ee).call(this))})}function Y(){const{pageIdx:he,matchIdx:ce}=this._selected;let ve=0,Ee=this._matchesCountTotal;if(-1!==ce){for(let we=0;we<he;we++){var Se;ve+=(null===(Se=this._pageMatches[we])||void 0===Se?void 0:Se.length)||0}ve+=ce+1}return(ve<1||ve>Ee)&&(ve=Ee=0),{current:ve,total:Ee}}function Ae(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:L(this,de,Y).call(this)})}function be(he,ce=!1){var ve,Ee;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:he,previous:ce,matchesCount:L(this,de,Y).call(this),rawQuery:null!==(ve=null===(Ee=this._state)||void 0===Ee?void 0:Ee.query)&&void 0!==ve?ve:null})}r.PDFFindController=class ie{constructor({linkService:ce,eventBus:ve}){n(this,me),n(this,_e),n(this,de),n(this,ue),n(this,le),n(this,pe),n(this,te),n(this,re),n(this,K),n(this,z),n(this,I),n(this,M),n(this,u),n(this,c),n(this,i),n(this,P),n(this,B),$(this,S,{get:Le,set:void 0}),n(this,l),n(this,_),this._linkService=ce,this._eventBus=ve,L(this,l,Fe).call(this),ve._on("find",L(this,_,oe).bind(this)),ve._on("findbarclose",L(this,ue,X).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&L(this,l,Fe).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ce=null,selectedLeft:ve=0,pageIndex:Ee=-1,matchIndex:Se=-1}){this._scrollMatches&&ce&&-1!==Se&&Se===this._selected.matchIdx&&-1!==Ee&&Ee===this._selected.pageIdx&&(this._scrollMatches=!1,(0,C.scrollIntoView)(ce,{top:-50,left:ve+-400},!0))}}},(w,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterType=void 0,r.getCharacterType=function o(f){return function C(f){return f<11904}(f)?function m(f){return 0==(65408&f)}(f)?function t(f){return 32===f||9===f||13===f||10===f}(f)?p.SPACE:function b(f){return f>=97&&f<=122||f>=65&&f<=90}(f)||function h(f){return f>=48&&f<=57}(f)||95===f?p.ALPHA_LETTER:p.PUNCT:function A(f){return 3584==(65408&f)}(f)?p.THAI_LETTER:160===f?p.SPACE:p.ALPHA_LETTER:function e(f){return f>=13312&&f<=40959||f>=63744&&f<=64255}(f)?p.HAN_LETTER:function a(f){return f>=12448&&f<=12543}(f)?p.KATAKANA_LETTER:function g(f){return f>=12352&&f<=12447}(f)?p.HIRAGANA_LETTER:function E(f){return f>=65376&&f<=65439}(f)?p.HALFWIDTH_KATAKANA_LETTER:p.ALPHA_LETTER};const p={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};r.CharacterType=p},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFHistory=void 0,r.isDestArraysEqual=E,r.isDestHashesEqual=g;var C=p(7),m=p(19);function e(){return document.location.hash}function g(A,o){return"string"==typeof A&&"string"==typeof o&&(A===o||(0,C.parseQueryString)(A).get("nameddest")===o)}function E(A,o){function f(R,x){if(typeof R!=typeof x||Array.isArray(R)||Array.isArray(x))return!1;if(null!==R&&"object"==typeof R&&null!==x){if(Object.keys(R).length!==Object.keys(x).length)return!1;for(const V in R)if(!f(R[V],x[V]))return!1;return!0}return R===x||Number.isNaN(R)&&Number.isNaN(x)}if(!Array.isArray(A)||!Array.isArray(o)||A.length!==o.length)return!1;for(let R=0,x=A.length;R<x;R++)if(!f(A[R],o[R]))return!1;return!0}r.PDFHistory=class a{constructor({linkService:o,eventBus:f}){this.linkService=o,this.eventBus=f,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",R=>{this._isPagesLoaded=!!R.pagesCount},{once:!0})})}initialize({fingerprint:o,resetHistory:f=!1,updateUrl:R=!1}){if(!o||"string"!=typeof o)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const x=""!==this._fingerprint&&this._fingerprint!==o;this._fingerprint=o,this._updateUrl=!0===R,this._initialized=!0,this._bindEvents();const V=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=e(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(V,!0)||f){const{hash:k,page:W,rotation:Q}=this._parseCurrentHash(!0);return!k||x||f?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:W,rotation:Q},!0)}const v=V.destination;this._updateInternalState(v,V.uid,!0),void 0!==v.rotation&&(this._initialRotation=v.rotation),v.dest?(this._initialBookmark=JSON.stringify(v.dest),this._destination.page=null):v.hash?this._initialBookmark=v.hash:v.page&&(this._initialBookmark=`page=${v.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:o=null,explicitDest:f,pageNumber:R}){if(!this._initialized)return;if(o&&"string"!=typeof o)return void console.error(`PDFHistory.push: "${o}" is not a valid namedDest parameter.`);if(!Array.isArray(f))return void console.error(`PDFHistory.push: "${f}" is not a valid explicitDest parameter.`);if(!this._isValidPage(R)&&(null!==R||this._destination))return void console.error(`PDFHistory.push: "${R}" is not a valid pageNumber parameter.`);const x=o||JSON.stringify(f);if(!x)return;let V=!1;if(this._destination&&(g(this._destination.hash,x)||E(this._destination.dest,f))){if(this._destination.page)return;V=!0}this._popStateInProgress&&!V||(this._pushOrReplaceState({dest:f,hash:x,page:R,rotation:this.linkService.rotation},V),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(o){var f;if(this._initialized){if(!this._isValidPage(o))return void console.error(`PDFHistory.pushPage: "${o}" is not a valid page number.`);(null===(f=this._destination)||void 0===f?void 0:f.page)!==o&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${o}`,page:o,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const o=window.history.state;this._isValidState(o)&&o.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const o=window.history.state;this._isValidState(o)&&o.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(o,f=!1){const R=f||!this._destination,x={fingerprint:this._fingerprint,uid:R?this._uid:this._uid+1,destination:o};let V;if(this._updateInternalState(o,x.uid),this._updateUrl&&null!=o&&o.hash){const v=document.location.href.split("#")[0];v.startsWith("file://")||(V=`${v}#${o.hash}`)}R?window.history.replaceState(x,"",V):window.history.pushState(x,"",V)}_tryPushCurrentPosition(o=!1){if(!this._position)return;let f=this._position;if(o&&(f=Object.assign(Object.create(null),this._position),f.temporary=!0),!this._destination)return void this._pushOrReplaceState(f);if(this._destination.temporary)return void this._pushOrReplaceState(f,!0);if(this._destination.hash===f.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let R=!1;if(this._destination.page>=f.first&&this._destination.page<=f.page){if(void 0!==this._destination.dest||!this._destination.first)return;R=!0}this._pushOrReplaceState(f,R)}_isValidPage(o){return Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount}_isValidState(o,f=!1){if(!o)return!1;if(o.fingerprint!==this._fingerprint){if(!f)return!1;{if("string"!=typeof o.fingerprint||o.fingerprint.length!==this._fingerprint.length)return!1;const[R]=performance.getEntriesByType("navigation");if("reload"!==(null==R?void 0:R.type))return!1}}return!(!Number.isInteger(o.uid)||o.uid<0||null===o.destination||"object"!=typeof o.destination)}_updateInternalState(o,f,R=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),R&&null!=o&&o.temporary&&delete o.temporary,this._destination=o,this._uid=f,this._maxUid=Math.max(this._maxUid,f),this._numPositionUpdates=0}_parseCurrentHash(o=!1){const f=unescape(e()).substring(1),R=(0,C.parseQueryString)(f),x=R.get("nameddest")||"";let V=0|R.get("page");return(!this._isValidPage(V)||o&&x.length>0)&&(V=null),{hash:f,page:V,rotation:this.linkService.rotation}}_updateViewarea({location:o}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:o.pdfOpenParams.substring(1),page:this.linkService.page,first:o.pageNumber,rotation:o.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:o}){const f=e(),R=this._currentHash!==f;if(this._currentHash=f,!o){this._uid++;const{hash:V,page:v,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:V,page:v,rotation:k},!0)}if(!this._isValidState(o))return;this._popStateInProgress=!0,R&&(this._blockHashChange++,(0,m.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const x=o.destination;this._updateInternalState(x,o.uid,!0),(0,C.isValidRotation)(x.rotation)&&(this.linkService.rotation=x.rotation),x.dest?this.linkService.goToDestination(x.dest):x.hash?this.linkService.setHash(x.hash):x.page&&(this.linkService.page=x.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFScriptingManager=void 0;var C=p(7),m=p(3);r.PDFScriptingManager=class b{constructor({eventBus:t,sandboxBundleSrc:e=null,scriptingFactory:a=null,docPropertiesLookup:g=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=e,this._scriptingFactory=a,this._docPropertiesLookup=g,this._scriptingFactory||window.addEventListener("updatefromsandbox",E=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:E.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var e=this;return G(function*(){var a;if(e._pdfDocument&&(yield e._destroyScripting()),e._pdfDocument=t,!t)return;const[g,E,A]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(g||A){if(t===e._pdfDocument){try{e._scripting=e._createScripting()}catch(o){return console.error(`PDFScriptingManager.setDocument: "${null==o?void 0:o.message}".`),void(yield e._destroyScripting())}e._internalEvents.set("updatefromsandbox",o=>{(null==o?void 0:o.source)===window&&e._updateFromSandbox(o.detail)}),e._internalEvents.set("dispatcheventinsandbox",o=>{var f;null===(f=e._scripting)||void 0===f||f.dispatchEventInSandbox(o.detail)}),e._internalEvents.set("pagechanging",({pageNumber:o,previous:f})=>{o!==f&&(e._dispatchPageClose(f),e._dispatchPageOpen(o))}),e._internalEvents.set("pagerendered",({pageNumber:o})=>{e._pageOpenPending.has(o)&&o===e._pdfViewer.currentPageNumber&&e._dispatchPageOpen(o)}),e._internalEvents.set("pagesdestroy",function(){var o=G(function*(f){var R,x;yield e._dispatchPageClose(e._pdfViewer.currentPageNumber),yield null===(R=e._scripting)||void 0===R?void 0:R.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null===(x=e._closeCapability)||void 0===x||x.resolve()});return function(f){return o.apply(this,arguments)}}()),e._domEvents.set("mousedown",o=>{e._mouseState.isDown=!0}),e._domEvents.set("mouseup",o=>{e._mouseState.isDown=!1});for(const[o,f]of e._internalEvents)e._eventBus._on(o,f);for(const[o,f]of e._domEvents)window.addEventListener(o,f,!0);try{const o=yield e._getDocProperties();if(t!==e._pdfDocument)return;yield e._scripting.createSandbox({objects:g,calculationOrder:E,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...o,actions:A}}),e._eventBus.dispatch("sandboxcreated",{source:e})}catch(o){return console.error(`PDFScriptingManager.setDocument: "${null==o?void 0:o.message}".`),void(yield e._destroyScripting())}yield null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"doc",name:"Open"}),yield e._dispatchPageOpen(e._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===e._pdfDocument&&(e._ready=!0)})}}else yield e._destroyScripting()})()}dispatchWillSave(t){var e=this;return G(function*(){var a;return null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var e=this;return G(function*(){var a;return null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var e=this;return G(function*(){var a;return null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var e=this;return G(function*(){var a;return null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var t;return(null===(t=this._destroyCapability)||void 0===t?void 0:t.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,m.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,m.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,m.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,m.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var e=this;return G(function*(){const a=e._pdfViewer.isInPresentationMode||e._pdfViewer.isChangingPresentationMode,{id:g,siblings:E,command:A,value:o}=t;if(!g){switch(A){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(a)return;const x=(0,C.apiPageLayoutToViewerModes)(o);e._pdfViewer.spreadMode=x.spreadMode;break;case"page-num":e._pdfViewer.currentPageNumber=o+1;break;case"print":yield e._pdfViewer.pagesPromise,e._eventBus.dispatch("print",{source:e});break;case"println":console.log(o);break;case"zoom":if(a)return;e._pdfViewer.currentScaleValue=o;break;case"SaveAs":e._eventBus.dispatch("download",{source:e});break;case"FirstPage":e._pdfViewer.currentPageNumber=1;break;case"LastPage":e._pdfViewer.currentPageNumber=e._pdfViewer.pagesCount;break;case"NextPage":e._pdfViewer.nextPage();break;case"PrevPage":e._pdfViewer.previousPage();break;case"ZoomViewIn":if(a)return;e._pdfViewer.increaseScale();break;case"ZoomViewOut":if(a)return;e._pdfViewer.decreaseScale()}return}if(a&&t.focus)return;delete t.id,delete t.siblings;const f=E?[g,...E]:[g];for(const x of f){const V=document.querySelector(`[data-element-id="${x}"]`);var R;V?V.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):null===(R=e._pdfDocument)||void 0===R||R.annotationStorage.setValue(x,t)}})()}_dispatchPageOpen(t,e=!1){var a=this;return G(function*(){const g=a._pdfDocument,E=a._visitedPages;if(e&&(a._closeCapability=(0,m.createPromiseCapability)()),!a._closeCapability)return;const A=a._pdfViewer.getPageView(t-1);if((null==A?void 0:A.renderingState)!==C.RenderingStates.FINISHED)return void a._pageOpenPending.add(t);a._pageOpenPending.delete(t);const o=G(function*(){var f,R;const x=yield E.has(t)?null:null===(f=A.pdfPage)||void 0===f?void 0:f.getJSActions();g===a._pdfDocument&&(yield null===(R=a._scripting)||void 0===R?void 0:R.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:x}))})();E.set(t,o)})()}_dispatchPageClose(t){var e=this;return G(function*(){var a;const g=e._pdfDocument,E=e._visitedPages;if(!e._closeCapability||e._pageOpenPending.has(t))return;const A=E.get(t);A&&(E.set(t,null),yield A,g===e._pdfDocument&&(yield null===(a=e._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return G(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:e}=p(26);return e(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,m.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=p(26);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return G(function*(){var e,a;if(!t._scripting)return t._pdfDocument=null,void(null===(a=t._destroyCapability)||void 0===a||a.resolve());t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(g=>{setTimeout(g,1e3)})]).catch(g=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[g,E]of t._internalEvents)t._eventBus._off(g,E);t._internalEvents.clear();for(const[g,E]of t._domEvents)window.removeEventListener(g,E,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,null===(e=t._destroyCapability)||void 0===e||e.resolve()})()}}},(w,r,p)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GenericScripting=void 0,r.docPropertiesLookup=function m(t){return b.apply(this,arguments)};var C=p(3);function b(){return(b=G(function*(t){const a="".split("#")[0];let{info:g,metadata:E,contentDispositionFilename:A,contentLength:o}=yield t.getMetadata();if(!o){const{length:f}=yield t.getDownloadInfo();o=f}return{...g,baseURL:a,filesize:o,filename:A||(0,C.getPdfFilenameFromUrl)(""),metadata:null==E?void 0:E.getRaw(),authors:null==E?void 0:E.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}r.GenericScripting=class h{constructor(e){this._ready=(0,C.loadScript)(e,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(e){var a=this;return G(function*(){(yield a._ready).create(e)})()}dispatchEventInSandbox(e){var a=this;return G(function*(){const g=yield a._ready;setTimeout(()=>g.dispatchEvent(e),0)})()}destroySandbox(){var e=this;return G(function*(){(yield e._ready).nukeSandbox()})()}}}],j={};function N(w){var r=j[w];if(void 0!==r)return r.exports;var p=j[w]={exports:{}};return O[w](p,p.exports,N),p.exports}var D={};return(()=>{var w=D;Object.defineProperty(w,"__esModule",{value:!0}),Object.defineProperty(w,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return b.AnnotationLayerBuilder}}),Object.defineProperty(w,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return r.DefaultAnnotationLayerFactory}}),Object.defineProperty(w,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return r.DefaultStructTreeLayerFactory}}),Object.defineProperty(w,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return r.DefaultTextLayerFactory}}),Object.defineProperty(w,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return r.DefaultXfaLayerFactory}}),Object.defineProperty(w,"DownloadManager",{enumerable:!0,get:function(){return h.DownloadManager}}),Object.defineProperty(w,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(w,"GenericL10n",{enumerable:!0,get:function(){return e.GenericL10n}}),Object.defineProperty(w,"LinkTarget",{enumerable:!0,get:function(){return p.LinkTarget}}),Object.defineProperty(w,"NullL10n",{enumerable:!0,get:function(){return a.NullL10n}}),Object.defineProperty(w,"PDFFindController",{enumerable:!0,get:function(){return g.PDFFindController}}),Object.defineProperty(w,"PDFHistory",{enumerable:!0,get:function(){return E.PDFHistory}}),Object.defineProperty(w,"PDFLinkService",{enumerable:!0,get:function(){return p.PDFLinkService}}),Object.defineProperty(w,"PDFPageView",{enumerable:!0,get:function(){return A.PDFPageView}}),Object.defineProperty(w,"PDFScriptingManager",{enumerable:!0,get:function(){return o.PDFScriptingManager}}),Object.defineProperty(w,"PDFSinglePageViewer",{enumerable:!0,get:function(){return m.PDFSinglePageViewer}}),Object.defineProperty(w,"PDFViewer",{enumerable:!0,get:function(){return m.PDFViewer}}),Object.defineProperty(w,"ProgressBar",{enumerable:!0,get:function(){return C.ProgressBar}}),Object.defineProperty(w,"RenderingStates",{enumerable:!0,get:function(){return C.RenderingStates}}),Object.defineProperty(w,"ScrollMode",{enumerable:!0,get:function(){return C.ScrollMode}}),Object.defineProperty(w,"SimpleLinkService",{enumerable:!0,get:function(){return p.SimpleLinkService}}),Object.defineProperty(w,"SpreadMode",{enumerable:!0,get:function(){return C.SpreadMode}}),Object.defineProperty(w,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return f.StructTreeLayerBuilder}}),Object.defineProperty(w,"TextLayerBuilder",{enumerable:!0,get:function(){return R.TextLayerBuilder}}),Object.defineProperty(w,"XfaLayerBuilder",{enumerable:!0,get:function(){return x.XfaLayerBuilder}}),Object.defineProperty(w,"parseQueryString",{enumerable:!0,get:function(){return C.parseQueryString}});var r=N(1),p=N(6),C=N(7),m=N(11),b=N(5),h=N(18),t=N(19),e=N(20),a=N(4),g=N(22),E=N(24),A=N(13),o=N(25),f=N(8),R=N(9),x=N(10)})(),D})()},3225:(q,s,T)=>{"use strict";T.d(s,{o:()=>$});var n=T(7394);class d extends n.w0{constructor(F,O){super()}schedule(F,O=0){return this}}const L={setInterval(y,F,...O){const{delegate:j}=L;return null!=j&&j.setInterval?j.setInterval(y,F,...O):setInterval(y,F,...O)},clearInterval(y){const{delegate:F}=L;return((null==F?void 0:F.clearInterval)||clearInterval)(y)},delegate:void 0};var G=T(9039);class $ extends d{constructor(F,O){super(F,O),this.scheduler=F,this.work=O,this.pending=!1}schedule(F,O=0){var j;if(this.closed)return this;this.state=F;const N=this.id,D=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId(D,N,O)),this.pending=!0,this.delay=O,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId(D,this.id,O),this}requestAsyncId(F,O,j=0){return L.setInterval(F.flush.bind(F,this),j)}recycleAsyncId(F,O,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return O;null!=O&&L.clearInterval(O)}execute(F,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(F,O);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,O){let N,j=!1;try{this.work(F)}catch(D){j=!0,N=D||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),N}unsubscribe(){if(!this.closed){const{id:F,scheduler:O}=this,{actions:j}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(j,this),null!=F&&(this.id=this.recycleAsyncId(O,F,null)),this.delay=null,super.unsubscribe()}}}},9931:(q,s,T)=>{"use strict";T.d(s,{v:()=>L});const n={now:()=>(n.delegate||Date).now(),delegate:void 0};class d{constructor($,y=d.now){this.schedulerActionCtor=$,this.now=y}schedule($,y=0,F){return new this.schedulerActionCtor(this,$).schedule(F,y)}}d.now=n.now;class L extends d{constructor($,y=d.now){super($,y),this.actions=[],this._active=!1}flush($){const{actions:y}=this;if(this._active)return void y.push($);let F;this._active=!0;do{if(F=$.execute($.state,$.delay))break}while($=y.shift());if(this._active=!1,F){for(;$=y.shift();)$.unsubscribe();throw F}}}},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:q=>{function s(n,d,L,G,$,y,F){try{var O=n[y](F),j=O.value}catch(N){return void L(N)}O.done?d(j):Promise.resolve(j).then(G,$)}q.exports=function T(n){return function(){var d=this,L=arguments;return new Promise(function(G,$){var y=n.apply(d,L);function F(j){s(y,G,$,F,O,"next",j)}function O(j){s(y,G,$,F,O,"throw",j)}F(void 0)})}},q.exports.__esModule=!0,q.exports.default=q.exports},6521:q=>{q.exports=function s(T,n){if(n.has(T))throw new TypeError("Cannot initialize the same private elements twice on an object")},q.exports.__esModule=!0,q.exports.default=q.exports},8912:q=>{q.exports=function s(T,n){return n.get?n.get.call(T):n.value},q.exports.__esModule=!0,q.exports.default=q.exports},3448:q=>{q.exports=function s(T,n,d){if(n.set)n.set.call(T,d);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=d}},q.exports.__esModule=!0,q.exports.default=q.exports},2625:q=>{q.exports=function s(T,n){if(T!==n)throw new TypeError("Private static access of wrong provenance")},q.exports.__esModule=!0,q.exports.default=q.exports},2506:q=>{q.exports=function s(T,n){if(void 0===T)throw new TypeError("attempted to "+n+" private static field before its declaration")},q.exports.__esModule=!0,q.exports.default=q.exports},4069:q=>{q.exports=function s(T,n,d){if(!n.has(T))throw new TypeError("attempted to "+d+" private field on non-instance");return n.get(T)},q.exports.__esModule=!0,q.exports.default=q.exports},468:(q,s,T)=>{var n=T(8912),d=T(4069);q.exports=function L(G,$){var y=d(G,$,"get");return n(G,y)},q.exports.__esModule=!0,q.exports.default=q.exports},9159:(q,s,T)=>{var n=T(6521);q.exports=function d(L,G,$){n(L,G),G.set(L,$)},q.exports.__esModule=!0,q.exports.default=q.exports},5661:(q,s,T)=>{var n=T(3448),d=T(4069);q.exports=function L(G,$,y){var F=d(G,$,"set");return n(G,F,y),y},q.exports.__esModule=!0,q.exports.default=q.exports},4467:q=>{q.exports=function s(T,n,d){if(!n.has(T))throw new TypeError("attempted to get private field on non-instance");return d},q.exports.__esModule=!0,q.exports.default=q.exports},1860:(q,s,T)=>{var n=T(6521);q.exports=function d(L,G){n(L,G),G.add(L)},q.exports.__esModule=!0,q.exports.default=q.exports},1280:(q,s,T)=>{var n=T(8912),d=T(2625),L=T(2506);q.exports=function G($,y,F){return d($,y),L(F,"get"),n($,F)},q.exports.__esModule=!0,q.exports.default=q.exports},9382:(q,s,T)=>{var n=T(3448),d=T(2625),L=T(2506);q.exports=function G($,y,F,O){return d($,y),L(F,"set"),n($,F,O),O},q.exports.__esModule=!0,q.exports.default=q.exports},5764:(q,s,T)=>{var n=T(2625);q.exports=function d(L,G,$){return n(L,G),$},q.exports.__esModule=!0,q.exports.default=q.exports},8416:(q,s,T)=>{var n=T(4062);q.exports=function d(L,G,$){return(G=n(G))in L?Object.defineProperty(L,G,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[G]=$,L},q.exports.__esModule=!0,q.exports.default=q.exports},5036:(q,s,T)=>{var n=T(8698).default;q.exports=function d(L,G){if("object"!==n(L)||null===L)return L;var $=L[Symbol.toPrimitive];if(void 0!==$){var y=$.call(L,G||"default");if("object"!==n(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===G?String:Number)(L)},q.exports.__esModule=!0,q.exports.default=q.exports},4062:(q,s,T)=>{var n=T(8698).default,d=T(5036);q.exports=function L(G){var $=d(G,"string");return"symbol"===n($)?$:String($)},q.exports.__esModule=!0,q.exports.default=q.exports},8698:q=>{function s(T){return q.exports=s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},q.exports.__esModule=!0,q.exports.default=q.exports,s(T)}q.exports=s,q.exports.__esModule=!0,q.exports.default=q.exports},8248:(q,s,T)=>{"use strict";T.d(s,{rQ:()=>o,xC:()=>f});var n=T(1180),d=T(6689),L=T(2438),G=T(8645),$=T(7715),y=T(9773),F=T(3225);const j=new(T(9931).v)(F.o);var D=T(9360),w=T(8251),p=T(2181),C=T(9627),m=T.t(C,2),b=T(1016),h=T.t(b,2);const t=["pdfViewerContainer"];function g(R,x,V){R[x]=V}function E(){return typeof window>"u"}E()||g(m,"verbosity",C.VerbosityLevel.INFOS);var A=function(R){return R[R.DISABLED=0]="DISABLED",R[R.ENABLED=1]="ENABLED",R[R.ENHANCED=2]="ENHANCED",R}(A||{});let o=(()=>{var R;class x{set cMapsUrl(v){this._cMapsUrl=v}set page(v){const k=v=parseInt(v,10)||1;this._pdf&&(v=this.getValidPageNumber(v)),this._page=v,k!==v&&this.pageChange.emit(v)}set renderText(v){this._renderText=v}set renderTextMode(v){this._renderTextMode=v}set originalSize(v){this._originalSize=v}set showAll(v){this._showAll=v}set stickToPage(v){this._stickToPage=v}set zoom(v){v<=0||(this._zoom=v)}get zoom(){return this._zoom}set zoomScale(v){this._zoomScale=v}get zoomScale(){return this._zoomScale}set rotation(v){"number"==typeof v&&v%90==0?this._rotation=v:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(v){this._externalLinkTarget=v}set autoresize(v){this._canAutoResize=!!v}set fitToPage(v){this._fitToPage=!!v}set showBorders(v){this._showBorders=!!v}static getLinkTarget(v){switch(v){case"blank":return b.LinkTarget.BLANK;case"none":return b.LinkTarget.NONE;case"self":return b.LinkTarget.SELF;case"parent":return b.LinkTarget.PARENT;case"top":return b.LinkTarget.TOP}return null}constructor(v,k){if((0,n.Z)(this,"element",void 0),(0,n.Z)(this,"ngZone",void 0),(0,n.Z)(this,"pdfViewerContainer",void 0),(0,n.Z)(this,"eventBus",void 0),(0,n.Z)(this,"pdfLinkService",void 0),(0,n.Z)(this,"pdfFindController",void 0),(0,n.Z)(this,"pdfViewer",void 0),(0,n.Z)(this,"isVisible",!1),(0,n.Z)(this,"_cMapsUrl",typeof m<"u"?`https://unpkg.com/pdfjs-dist@${C.version}/cmaps/`:null),(0,n.Z)(this,"_imageResourcesPath",typeof m<"u"?`https://unpkg.com/pdfjs-dist@${C.version}/web/images/`:void 0),(0,n.Z)(this,"_renderText",!0),(0,n.Z)(this,"_renderTextMode",A.ENABLED),(0,n.Z)(this,"_stickToPage",!1),(0,n.Z)(this,"_originalSize",!0),(0,n.Z)(this,"_pdf",void 0),(0,n.Z)(this,"_page",1),(0,n.Z)(this,"_zoom",1),(0,n.Z)(this,"_zoomScale","page-width"),(0,n.Z)(this,"_rotation",0),(0,n.Z)(this,"_showAll",!0),(0,n.Z)(this,"_canAutoResize",!0),(0,n.Z)(this,"_fitToPage",!1),(0,n.Z)(this,"_externalLinkTarget","blank"),(0,n.Z)(this,"_showBorders",!1),(0,n.Z)(this,"lastLoaded",void 0),(0,n.Z)(this,"_latestScrolledPage",void 0),(0,n.Z)(this,"resizeTimeout",null),(0,n.Z)(this,"pageScrollTimeout",null),(0,n.Z)(this,"isInitialized",!1),(0,n.Z)(this,"loadingTask",void 0),(0,n.Z)(this,"destroy$",new G.x),(0,n.Z)(this,"afterLoadComplete",new d.vpe),(0,n.Z)(this,"pageRendered",new d.vpe),(0,n.Z)(this,"pageInitialized",new d.vpe),(0,n.Z)(this,"textLayerRendered",new d.vpe),(0,n.Z)(this,"onError",new d.vpe),(0,n.Z)(this,"onProgress",new d.vpe),(0,n.Z)(this,"pageChange",new d.vpe(!0)),(0,n.Z)(this,"src",void 0),this.element=v,this.ngZone=k,E())return;let W;const Q=C.version;W=window[`pdfWorkerSrc${Q}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Q}/legacy/build/pdf.worker.min.js`),g(C.GlobalWorkerOptions,"workerSrc",W)}ngAfterViewChecked(){if(this.isInitialized)return;const v=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=v?!1===this.isVisible&&null!=v&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(v){if(!E()&&this.isVisible)if("src"in v)this.loadPDF();else if(this._pdf){if("renderText"in v?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:A.DISABLED,this.resetPdfDocument()):"showAll"in v&&(this.setupViewer(),this.resetPdfDocument()),"page"in v){const{page:k}=v;if(k.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,$.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,y.R)(this.destroy$)).subscribe({next:v=>{const k=this._rotation+v.rotate,W=v.getViewport({scale:this._zoom,rotation:k}).width*x.CSS_UNITS;let Q=this._zoom,se=!0;if(!this._originalSize||this._fitToPage&&W>this.pdfViewerContainer.nativeElement.clientWidth){const H=v.getViewport({scale:1,rotation:k});Q=this.getScale(H.width,H.height),se=!this._stickToPage}this.pdfViewer._setScale(Q,se)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const v=x.getLinkTarget(this._externalLinkTarget);return v?{externalLinkTarget:v}:{}}initEventBus(){this.eventBus=function e(R,x){const V=new R.EventBus;return function a(R,x){(0,L.R)(R,"documentload").pipe((0,y.R)(x)).subscribe(()=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(V)}),(0,L.R)(R,"pagerendered").pipe((0,y.R)(x)).subscribe(({pageNumber:V,cssTransform:v,source:k})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("pagerendered",!0,!0,{pageNumber:V,cssTransform:v}),k.div.dispatchEvent(W)}),(0,L.R)(R,"textlayerrendered").pipe((0,y.R)(x)).subscribe(({pageNumber:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:V}),v.textLayerDiv.dispatchEvent(k)}),(0,L.R)(R,"pagechanging").pipe((0,y.R)(x)).subscribe(({pageNumber:V,source:v})=>{const k=document.createEvent("UIEvents");k.initEvent("pagechanging",!0,!0),k.pageNumber=V,v.container.dispatchEvent(k)}),(0,L.R)(R,"pagesinit").pipe((0,y.R)(x)).subscribe(({source:V})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),V.container.dispatchEvent(v)}),(0,L.R)(R,"pagesloaded").pipe((0,y.R)(x)).subscribe(({pagesCount:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("pagesloaded",!0,!0,{pagesCount:V}),v.container.dispatchEvent(k)}),(0,L.R)(R,"scalechange").pipe((0,y.R)(x)).subscribe(({scale:V,presetValue:v,source:k})=>{const W=document.createEvent("UIEvents");W.initEvent("scalechange",!0,!0),W.scale=V,W.presetValue=v,k.container.dispatchEvent(W)}),(0,L.R)(R,"updateviewarea").pipe((0,y.R)(x)).subscribe(({location:V,source:v})=>{const k=document.createEvent("UIEvents");k.initEvent("updateviewarea",!0,!0),k.location=V,v.container.dispatchEvent(k)}),(0,L.R)(R,"find").pipe((0,y.R)(x)).subscribe(({source:V,type:v,query:k,phraseSearch:W,caseSensitive:Q,highlightAll:se,findPrevious:H})=>{if(V===window)return;const _=document.createEvent("CustomEvent");_.initCustomEvent("find"+v,!0,!0,{query:k,phraseSearch:W,caseSensitive:Q,highlightAll:se,findPrevious:H}),window.dispatchEvent(_)}),(0,L.R)(R,"attachmentsloaded").pipe((0,y.R)(x)).subscribe(({attachmentsCount:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:V}),v.container.dispatchEvent(k)}),(0,L.R)(R,"sidebarviewchanged").pipe((0,y.R)(x)).subscribe(({view:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("sidebarviewchanged",!0,!0,{view:V}),v.outerContainer.dispatchEvent(k)}),(0,L.R)(R,"pagemode").pipe((0,y.R)(x)).subscribe(({mode:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("pagemode",!0,!0,{mode:V}),v.pdfViewer.container.dispatchEvent(k)}),(0,L.R)(R,"namedaction").pipe((0,y.R)(x)).subscribe(({action:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("namedaction",!0,!0,{action:V}),v.pdfViewer.container.dispatchEvent(k)}),(0,L.R)(R,"presentationmodechanged").pipe((0,y.R)(x)).subscribe(({active:V,switchInProgress:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("presentationmodechanged",!0,!0,{active:V,switchInProgress:v}),window.dispatchEvent(k)}),(0,L.R)(R,"outlineloaded").pipe((0,y.R)(x)).subscribe(({outlineCount:V,source:v})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("outlineloaded",!0,!0,{outlineCount:V}),v.container.dispatchEvent(k)})}(V,x),V}(h,this.destroy$),(0,L.R)(this.eventBus,"pagerendered").pipe((0,y.R)(this.destroy$)).subscribe(v=>{this.pageRendered.emit(v)}),(0,L.R)(this.eventBus,"pagesinit").pipe((0,y.R)(this.destroy$)).subscribe(v=>{this.pageInitialized.emit(v)}),(0,L.R)(this.eventBus,"pagechanging").pipe((0,y.R)(this.destroy$)).subscribe(({pageNumber:v})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=v,this.pageChange.emit(v)},100)}),(0,L.R)(this.eventBus,"textlayerrendered").pipe((0,y.R)(this.destroy$)).subscribe(v=>{this.textLayerRendered.emit(v)})}initPDFServices(){this.pdfLinkService=new b.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new b.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:A.DISABLED,findController:this.pdfFindController,l10n:new b.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){g(m,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new b.PDFViewer(this.getPDFOptions()):new b.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(v){return v<1?1:v>this._pdf.numPages?this._pdf.numPages:v}getDocumentParams(){const v=typeof this.src;if(!this._cMapsUrl)return this.src;const k={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===v?k.url=this.src:"object"===v&&(void 0!==this.src.byteLength?k.data=this.src:Object.assign(k,this.src)),k}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=C.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=k=>{this.onProgress.emit(k)};const v=this.src;(0,$.D)(this.loadingTask.promise).pipe((0,y.R)(this.destroy$)).subscribe({next:k=>{this._pdf=k,this.lastLoaded=v,this.afterLoadComplete.emit(k),this.resetPdfDocument(),this.update()},error:k=>{this.lastLoaded=null,this.onError.emit(k)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(v,k){const W=this._showBorders?2*x.BORDER_WIDTH:0,Q=this.pdfViewerContainer.nativeElement.clientWidth-W,se=this.pdfViewerContainer.nativeElement.clientHeight-W;if(0===se||0===k||0===Q||0===v)return 1;let H=1;switch(this._zoomScale){case"page-fit":H=Math.min(se/k,Q/v);break;case"page-height":H=se/k;break;default:H=Q/v}return this._zoom*H/x.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){E()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){E()||this.ngZone.runOutsideAngular(()=>{(0,L.R)(window,"resize").pipe(function r(R,x=j){return(0,D.e)((V,v)=>{let k=null,W=null,Q=null;const se=()=>{if(k){k.unsubscribe(),k=null;const _=W;W=null,v.next(_)}};function H(){const _=Q+R,l=x.now();if(l<_)return k=this.schedule(void 0,_-l),void v.add(k);se()}V.subscribe((0,w.x)(v,_=>{W=_,Q=x.now(),k||(k=x.schedule(H,R),v.add(k))},()=>{se(),v.complete()},void 0,()=>{W=k=null}))})}(100),(0,p.h)(()=>this._canAutoResize&&!!this._pdf),(0,y.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return R=x,(0,n.Z)(x,"CSS_UNITS",96/72),(0,n.Z)(x,"BORDER_WIDTH",9),(0,n.Z)(x,"\u0275fac",function(v){return new(v||R)(d.Y36(d.SBq),d.Y36(d.R0b))}),(0,n.Z)(x,"\u0275cmp",d.Xpm({type:R,selectors:[["pdf-viewer"]],viewQuery:function(v,k){if(1&v&&d.Gf(t,5),2&v){let W;d.iGM(W=d.CRH())&&(k.pdfViewerContainer=W.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[d.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(v,k){1&v&&(d.TgZ(0,"div",0,1),d._UZ(2,"div",2),d.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})),x})(),f=(()=>{var R;class x{}return R=x,(0,n.Z)(x,"\u0275fac",function(v){return new(v||R)}),(0,n.Z)(x,"\u0275mod",d.oAB({type:R})),(0,n.Z)(x,"\u0275inj",d.cJS({})),x})()}}]);