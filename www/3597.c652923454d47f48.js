"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3597],{2726:(X,j,m)=>{m.d(j,{Uw:()=>J,dV:()=>W,fo:()=>N});var r=m(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var E=function(s){return s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",s}(E||{});class l extends Error{constructor(t,o,c){super(t),this.message=t,this.code=o,this.data=c}}const q=s=>{var t,o,c,f,d;const v=s.CapacitorCustomPlatform||null,u=s.Capacitor||{},M=u.Plugins=u.Plugins||{},C=s.CapacitorPlatforms,V=(null===(t=null==C?void 0:C.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==v?v.name:(s=>{var t,o;return null!=s&&s.androidBridge?"android":null!==(o=null===(t=null==s?void 0:s.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(s)),ce=(null===(o=null==C?void 0:C.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==V()),fe=(null===(c=null==C?void 0:C.currentPlatform)||void 0===c?void 0:c.isPluginAvailable)||(p=>{const L=ne.get(p);return!!(null!=L&&L.platforms.has(V())||ae(p))}),ae=(null===(f=null==C?void 0:C.currentPlatform)||void 0===f?void 0:f.getPluginHeader)||(p=>{var L;return null===(L=u.PluginHeaders)||void 0===L?void 0:L.find(z=>z.name===p)}),ne=new Map,Ce=(null===(d=null==C?void 0:C.currentPlatform)||void 0===d?void 0:d.registerPlugin)||((p,L={})=>{const z=ne.get(p);if(z)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),z.proxy;const G=V(),F=ae(p);let A;const pe=function(){var w=(0,r.Z)(function*(){return!A&&G in L?A=A="function"==typeof L[G]?yield L[G]():L[G]:null!==v&&!A&&"web"in L&&(A=A="function"==typeof L.web?yield L.web():L.web),A});return function(){return w.apply(this,arguments)}}(),te=w=>{let _;const D=(...U)=>{const $=pe().then(T=>{const K=((w,_)=>{var D,U;if(!F){if(w)return null===(U=w[_])||void 0===U?void 0:U.bind(w);throw new l(`"${p}" plugin is not implemented on ${G}`,E.Unimplemented)}{const $=null==F?void 0:F.methods.find(T=>_===T.name);if($)return"promise"===$.rtype?T=>u.nativePromise(p,_.toString(),T):(T,K)=>u.nativeCallback(p,_.toString(),T,K);if(w)return null===(D=w[_])||void 0===D?void 0:D.bind(w)}})(T,w);if(K){const Q=K(...U);return _=null==Q?void 0:Q.remove,Q}throw new l(`"${p}.${w}()" is not implemented on ${G}`,E.Unimplemented)});return"addListener"===w&&($.remove=(0,r.Z)(function*(){return _()})),$};return D.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:w,writable:!1,configurable:!1}),D},le=te("addListener"),de=te("removeListener"),ye=(w,_)=>{const D=le({eventName:w},_),U=function(){var T=(0,r.Z)(function*(){const K=yield D;de({eventName:w,callbackId:K},_)});return function(){return T.apply(this,arguments)}}(),$=new Promise(T=>D.then(()=>T({remove:U})));return $.remove=(0,r.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield U()}),$},ie=new Proxy({},{get(w,_){switch(_){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?ye:le;case"removeListener":return de;default:return te(_)}}});return M[p]=ie,ne.set(p,{name:p,proxy:ie,platforms:new Set([...Object.keys(L),...F?[G]:[]])}),ie});return u.convertFileSrc||(u.convertFileSrc=p=>p),u.getPlatform=V,u.handleError=p=>s.console.error(p),u.isNativePlatform=ce,u.isPluginAvailable=fe,u.pluginMethodNoop=(p,L,z)=>Promise.reject(`${z} does not have an implementation of "${L}".`),u.registerPlugin=Ce,u.Exception=l,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},W=(s=>s.Capacitor=q(s))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),N=W.registerPlugin;class J{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,o){var c=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(o);const d=this.windowListeners[t];d&&!d.registered&&this.addWindowListener(d);const v=function(){var M=(0,r.Z)(function*(){return c.removeListener(t,o)});return function(){return M.apply(this,arguments)}}(),u=Promise.resolve({remove:v});return Object.defineProperty(u,"remove",{value:(M=(0,r.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield v()}),function(){return M.apply(this,arguments)})}),u;var M}removeAllListeners(){var t=this;return(0,r.Z)(function*(){t.listeners={};for(const o in t.windowListeners)t.removeWindowListener(t.windowListeners[o]);t.windowListeners={}})()}notifyListeners(t,o){const c=this.listeners[t];c&&c.forEach(f=>f(o))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,o){this.windowListeners[o]={registered:!1,windowEventName:t,pluginEventName:o,handler:c=>{this.notifyListeners(o,c)}}}unimplemented(t="not implemented"){return new W.Exception(t,E.Unimplemented)}unavailable(t="not available"){return new W.Exception(t,E.Unavailable)}removeListener(t,o){var c=this;return(0,r.Z)(function*(){const f=c.listeners[t];if(!f)return;const d=f.indexOf(o);c.listeners[t].splice(d,1),c.listeners[t].length||c.removeWindowListener(c.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const e=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class i extends J{getCookies(){return(0,r.Z)(function*(){const t=document.cookie,o={};return t.split(";").forEach(c=>{if(c.length<=0)return;let[f,d]=c.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");f=n(f).trim(),d=n(d).trim(),o[f]=d}),o})()}setCookie(t){return(0,r.Z)(function*(){try{const o=e(t.key),c=e(t.value),f=`; expires=${(t.expires||"").replace("expires=","")}`,d=(t.path||"/").replace("path=",""),v=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${o}=${c||""}${f}; path=${d}; ${v};`}catch(o){return Promise.reject(o)}})()}deleteCookie(t){return(0,r.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return(0,r.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const o of t)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,r.Z)(function*(){try{yield t.clearCookies()}catch(o){return Promise.reject(o)}})()}}N("CapacitorCookies",{web:()=>new i});const g=function(){var s=(0,r.Z)(function*(t){return new Promise((o,c)=>{const f=new FileReader;f.onload=()=>{const d=f.result;o(d.indexOf(",")>=0?d.split(",")[1]:d)},f.onerror=d=>c(d),f.readAsDataURL(t)})});return function(o){return s.apply(this,arguments)}}();class x extends J{request(t){return(0,r.Z)(function*(){const o=((s,t={})=>{const o=Object.assign({method:s.method||"GET",headers:s.headers},t),f=((s={})=>{const t=Object.keys(s);return Object.keys(s).map(f=>f.toLocaleLowerCase()).reduce((f,d,v)=>(f[d]=s[t[v]],f),{})})(s.headers)["content-type"]||"";if("string"==typeof s.data)o.body=s.data;else if(f.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[v,u]of Object.entries(s.data||{}))d.set(v,u);o.body=d.toString()}else if(f.includes("multipart/form-data")){const d=new FormData;if(s.data instanceof FormData)s.data.forEach((u,M)=>{d.append(M,u)});else for(const u of Object.keys(s.data))d.append(u,s.data[u]);o.body=d;const v=new Headers(o.headers);v.delete("content-type"),o.headers=v}else(f.includes("application/json")||"object"==typeof s.data)&&(o.body=JSON.stringify(s.data));return o})(t,t.webFetchExtra),c=((s,t=!0)=>s?Object.entries(s).reduce((c,f)=>{const[d,v]=f;let u,M;return Array.isArray(v)?(M="",v.forEach(C=>{u=t?encodeURIComponent(C):C,M+=`${d}=${u}&`}),M.slice(0,-1)):(u=t?encodeURIComponent(v):v,M=`${d}=${u}`),`${c}&${M}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),f=c?`${t.url}?${c}`:t.url,d=yield fetch(f,o),v=d.headers.get("content-type")||"";let M,C,{responseType:u="text"}=d.ok?t:{};switch(v.includes("application/json")&&(u="json"),u){case"arraybuffer":case"blob":C=yield d.blob(),M=yield g(C);break;case"json":M=yield d.json();break;default:M=yield d.text()}const Y={};return d.headers.forEach((V,ee)=>{Y[ee]=V}),{data:M,headers:Y,status:d.status,url:d.url}})()}get(t){var o=this;return(0,r.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var o=this;return(0,r.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var o=this;return(0,r.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var o=this;return(0,r.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var o=this;return(0,r.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}N("CapacitorHttp",{web:()=>new x})},6854:(X,j,m)=>{m.d(j,{I:()=>O,T:()=>I});var r=m(5861),P=m(8177);class O{constructor(Z){this.southwest=Z.southwest,this.center=Z.center,this.northeast=Z.northeast}contains(Z){var y=this;return(0,r.Z)(function*(){return(yield P.S.mapBoundsContains({bounds:y,point:Z})).contains})()}extend(Z){var y=this;return(0,r.Z)(function*(){const E=yield P.S.mapBoundsExtend({bounds:y,point:Z});return y.southwest=E.bounds.southwest,y.center=E.bounds.center,y.northeast=E.bounds.northeast,y})()}}var I=function(a){return a.Normal="Normal",a.Hybrid="Hybrid",a.Satellite="Satellite",a.Terrain="Terrain",a.None="None",a}(I||{})},8177:(X,j,m)=>{m.d(j,{S:()=>P});const P=(0,m(2726).fo)("CapacitorGoogleMaps",{web:()=>m.e(4059).then(m.bind(m,4059)).then(O=>new O.CapacitorGoogleMapsWeb)});P.addListener("isMapInFocus",O=>{var I;const y=document.elementFromPoint(O.x,O.y),l=(null===(I=null==y?void 0:y.dataset)||void 0===I?void 0:I.internalId)===O.mapId;P.dispatchMapEvent({id:O.mapId,focus:l})})},3597:(X,j,m)=>{m.d(j,{s:()=>J});var r=m(5861),P=m(2726);const O=(0,P.fo)("Geolocation",{web:()=>m.e(579).then(m.bind(m,579)).then(b=>new b.GeolocationWeb)});var I=m(6854),a=m(8177);class Z extends HTMLElement{constructor(){super()}connectedCallback(){if(this.innerHTML="","ios"==P.dV.getPlatform()){this.style.overflow="scroll",this.style["-webkit-overflow-scrolling"]="touch";const e=document.createElement("div");e.style.height="200%",this.appendChild(e)}}}customElements.define("capacitor-google-map",Z);class y{constructor(e){this.element=null,this.resizeObserver=null,this.handleScrollEvent=()=>this.updateMapBounds(),this.id=e}static create(e,n){return(0,r.Z)(function*(){const i=new y(e.id);if(!e.element)throw new Error("container element is required");void 0===e.config.androidLiteMode&&(e.config.androidLiteMode=!1),i.element=e.element,i.element.dataset.internalId=e.id;const h=yield y.getElementBounds(e.element);if(e.config.width=h.width,e.config.height=h.height,e.config.x=h.x,e.config.y=h.y,e.config.devicePixelRatio=window.devicePixelRatio,"android"==P.dV.getPlatform()&&i.initScrolling(),P.dV.isNativePlatform()){e.element={};const g=()=>{var S,s;const t=null!==(s=null===(S=i.element)||void 0===S?void 0:S.getBoundingClientRect())&&void 0!==s?s:{};return{x:t.x,y:t.y,width:t.width,height:t.height}},k=()=>{a.S.onDisplay({id:i.id,mapBounds:g()})},H=()=>{a.S.onResize({id:i.id,mapBounds:g()})},R=i.element.closest(".ion-page");"ios"===P.dV.getPlatform()&&R&&(R.addEventListener("ionViewWillEnter",()=>{setTimeout(()=>{k()},100)}),R.addEventListener("ionViewDidEnter",()=>{setTimeout(()=>{k()},100)}));const x={width:h.width,height:h.height,isHidden:!1};i.resizeObserver=new ResizeObserver(()=>{if(null!=i.element){const S=i.element.getBoundingClientRect(),s=0===S.width&&0===S.height;s||(x.isHidden?"ios"===P.dV.getPlatform()&&!R&&k():(x.width!==S.width||x.height!==S.height)&&H()),x.width=S.width,x.height=S.height,x.isHidden=s}}),i.resizeObserver.observe(i.element)}if(yield new Promise((g,k)=>{setTimeout((0,r.Z)(function*(){try{yield a.S.create(e),g(void 0)}catch(H){k(H)}}),200)}),n){const g=yield a.S.addListener("onMapReady",k=>{k.mapId==i.id&&(n(k),g.remove())})}return i})()}static getElementBounds(e){return(0,r.Z)(function*(){return new Promise(n=>{let i=e.getBoundingClientRect();if(0==i.width){let h=0;const g=setInterval(function(){0==i.width&&h<30?(i=e.getBoundingClientRect(),h++):(30==h&&console.warn("Map size could not be determined"),clearInterval(g),n(i))},100)}else n(i)})})()}enableTouch(){var e=this;return(0,r.Z)(function*(){return a.S.enableTouch({id:e.id})})()}disableTouch(){var e=this;return(0,r.Z)(function*(){return a.S.disableTouch({id:e.id})})()}enableClustering(e){var n=this;return(0,r.Z)(function*(){return a.S.enableClustering({id:n.id,minClusterSize:e})})()}disableClustering(){var e=this;return(0,r.Z)(function*(){return a.S.disableClustering({id:e.id})})()}addMarker(e){var n=this;return(0,r.Z)(function*(){return(yield a.S.addMarker({id:n.id,marker:e})).id})()}addMarkers(e){var n=this;return(0,r.Z)(function*(){return(yield a.S.addMarkers({id:n.id,markers:e})).ids})()}removeMarker(e){var n=this;return(0,r.Z)(function*(){return a.S.removeMarker({id:n.id,markerId:e})})()}removeMarkers(e){var n=this;return(0,r.Z)(function*(){return a.S.removeMarkers({id:n.id,markerIds:e})})()}addPolygons(e){var n=this;return(0,r.Z)(function*(){return(yield a.S.addPolygons({id:n.id,polygons:e})).ids})()}addPolylines(e){var n=this;return(0,r.Z)(function*(){return(yield a.S.addPolylines({id:n.id,polylines:e})).ids})()}removePolygons(e){var n=this;return(0,r.Z)(function*(){return a.S.removePolygons({id:n.id,polygonIds:e})})()}addCircles(e){var n=this;return(0,r.Z)(function*(){return(yield a.S.addCircles({id:n.id,circles:e})).ids})()}removeCircles(e){var n=this;return(0,r.Z)(function*(){return a.S.removeCircles({id:n.id,circleIds:e})})()}removePolylines(e){var n=this;return(0,r.Z)(function*(){return a.S.removePolylines({id:n.id,polylineIds:e})})()}destroy(){var e=this;return(0,r.Z)(function*(){var n;return"android"==P.dV.getPlatform()&&e.disableScrolling(),P.dV.isNativePlatform()&&(null===(n=e.resizeObserver)||void 0===n||n.disconnect()),e.removeAllMapListeners(),a.S.destroy({id:e.id})})()}setCamera(e){var n=this;return(0,r.Z)(function*(){return a.S.setCamera({id:n.id,config:e})})()}getMapType(){var e=this;return(0,r.Z)(function*(){const{type:n}=yield a.S.getMapType({id:e.id});return I.T[n]})()}setMapType(e){var n=this;return(0,r.Z)(function*(){return a.S.setMapType({id:n.id,mapType:e})})()}enableIndoorMaps(e){var n=this;return(0,r.Z)(function*(){return a.S.enableIndoorMaps({id:n.id,enabled:e})})()}enableTrafficLayer(e){var n=this;return(0,r.Z)(function*(){return a.S.enableTrafficLayer({id:n.id,enabled:e})})()}enableAccessibilityElements(e){var n=this;return(0,r.Z)(function*(){return a.S.enableAccessibilityElements({id:n.id,enabled:e})})()}enableCurrentLocation(e){var n=this;return(0,r.Z)(function*(){return a.S.enableCurrentLocation({id:n.id,enabled:e})})()}setPadding(e){var n=this;return(0,r.Z)(function*(){return a.S.setPadding({id:n.id,padding:e})})()}getMapBounds(){var e=this;return(0,r.Z)(function*(){return new I.I(yield a.S.getMapBounds({id:e.id}))})()}fitBounds(e,n){var i=this;return(0,r.Z)(function*(){return a.S.fitBounds({id:i.id,bounds:e,padding:n})})()}initScrolling(){const e=document.getElementsByTagName("ion-content");for(let n=0;n<e.length;n++)e[n].scrollEvents=!0;window.addEventListener("ionScroll",this.handleScrollEvent),window.addEventListener("scroll",this.handleScrollEvent),window.addEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.addEventListener("change",()=>{setTimeout(this.updateMapBounds,500)}):window.addEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,500)})}disableScrolling(){window.removeEventListener("ionScroll",this.handleScrollEvent),window.removeEventListener("scroll",this.handleScrollEvent),window.removeEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.removeEventListener("change",()=>{setTimeout(this.updateMapBounds,1e3)}):window.removeEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,1e3)})}updateMapBounds(){if(this.element){const e=this.element.getBoundingClientRect();a.S.onScroll({id:this.id,mapBounds:{x:e.x,y:e.y,width:e.width,height:e.height}})}}setOnCameraIdleListener(e){var n=this;return(0,r.Z)(function*(){n.onCameraIdleListener&&n.onCameraIdleListener.remove(),n.onCameraIdleListener=e?yield a.S.addListener("onCameraIdle",n.generateCallback(e)):void 0})()}setOnBoundsChangedListener(e){var n=this;return(0,r.Z)(function*(){n.onBoundsChangedListener&&n.onBoundsChangedListener.remove(),n.onBoundsChangedListener=e?yield a.S.addListener("onBoundsChanged",n.generateCallback(e)):void 0})()}setOnCameraMoveStartedListener(e){var n=this;return(0,r.Z)(function*(){n.onCameraMoveStartedListener&&n.onCameraMoveStartedListener.remove(),n.onCameraMoveStartedListener=e?yield a.S.addListener("onCameraMoveStarted",n.generateCallback(e)):void 0})()}setOnClusterClickListener(e){var n=this;return(0,r.Z)(function*(){n.onClusterClickListener&&n.onClusterClickListener.remove(),n.onClusterClickListener=e?yield a.S.addListener("onClusterClick",n.generateCallback(e)):void 0})()}setOnClusterInfoWindowClickListener(e){var n=this;return(0,r.Z)(function*(){n.onClusterInfoWindowClickListener&&n.onClusterInfoWindowClickListener.remove(),n.onClusterInfoWindowClickListener=e?yield a.S.addListener("onClusterInfoWindowClick",n.generateCallback(e)):void 0})()}setOnInfoWindowClickListener(e){var n=this;return(0,r.Z)(function*(){n.onInfoWindowClickListener&&n.onInfoWindowClickListener.remove(),n.onInfoWindowClickListener=e?yield a.S.addListener("onInfoWindowClick",n.generateCallback(e)):void 0})()}setOnMapClickListener(e){var n=this;return(0,r.Z)(function*(){n.onMapClickListener&&n.onMapClickListener.remove(),n.onMapClickListener=e?yield a.S.addListener("onMapClick",n.generateCallback(e)):void 0})()}setOnPolygonClickListener(e){var n=this;return(0,r.Z)(function*(){n.onPolygonClickListener&&n.onPolygonClickListener.remove(),n.onPolygonClickListener=e?yield a.S.addListener("onPolygonClick",n.generateCallback(e)):void 0})()}setOnCircleClickListener(e){var n=this;return(0,r.Z)(function*(){n.onCircleClickListener&&n.onCircleClickListener.remove(),n.onCircleClickListener=e?yield a.S.addListener("onCircleClick",n.generateCallback(e)):void 0})()}setOnMarkerClickListener(e){var n=this;return(0,r.Z)(function*(){n.onMarkerClickListener&&n.onMarkerClickListener.remove(),n.onMarkerClickListener=e?yield a.S.addListener("onMarkerClick",n.generateCallback(e)):void 0})()}setOnPolylineClickListener(e){var n=this;return(0,r.Z)(function*(){n.onPolylineClickListener&&n.onPolylineClickListener.remove(),n.onPolylineClickListener=e?yield a.S.addListener("onPolylineClick",n.generateCallback(e)):void 0})()}setOnMarkerDragStartListener(e){var n=this;return(0,r.Z)(function*(){n.onMarkerDragStartListener&&n.onMarkerDragStartListener.remove(),n.onMarkerDragStartListener=e?yield a.S.addListener("onMarkerDragStart",n.generateCallback(e)):void 0})()}setOnMarkerDragListener(e){var n=this;return(0,r.Z)(function*(){n.onMarkerDragListener&&n.onMarkerDragListener.remove(),n.onMarkerDragListener=e?yield a.S.addListener("onMarkerDrag",n.generateCallback(e)):void 0})()}setOnMarkerDragEndListener(e){var n=this;return(0,r.Z)(function*(){n.onMarkerDragEndListener&&n.onMarkerDragEndListener.remove(),n.onMarkerDragEndListener=e?yield a.S.addListener("onMarkerDragEnd",n.generateCallback(e)):void 0})()}setOnMyLocationButtonClickListener(e){var n=this;return(0,r.Z)(function*(){n.onMyLocationButtonClickListener&&n.onMyLocationButtonClickListener.remove(),n.onMyLocationButtonClickListener=e?yield a.S.addListener("onMyLocationButtonClick",n.generateCallback(e)):void 0})()}setOnMyLocationClickListener(e){var n=this;return(0,r.Z)(function*(){n.onMyLocationClickListener&&n.onMyLocationClickListener.remove(),n.onMyLocationClickListener=e?yield a.S.addListener("onMyLocationClick",n.generateCallback(e)):void 0})()}removeAllMapListeners(){var e=this;return(0,r.Z)(function*(){e.onBoundsChangedListener&&(e.onBoundsChangedListener.remove(),e.onBoundsChangedListener=void 0),e.onCameraIdleListener&&(e.onCameraIdleListener.remove(),e.onCameraIdleListener=void 0),e.onCameraMoveStartedListener&&(e.onCameraMoveStartedListener.remove(),e.onCameraMoveStartedListener=void 0),e.onClusterClickListener&&(e.onClusterClickListener.remove(),e.onClusterClickListener=void 0),e.onClusterInfoWindowClickListener&&(e.onClusterInfoWindowClickListener.remove(),e.onClusterInfoWindowClickListener=void 0),e.onInfoWindowClickListener&&(e.onInfoWindowClickListener.remove(),e.onInfoWindowClickListener=void 0),e.onMapClickListener&&(e.onMapClickListener.remove(),e.onMapClickListener=void 0),e.onPolylineClickListener&&(e.onPolylineClickListener.remove(),e.onPolylineClickListener=void 0),e.onMarkerClickListener&&(e.onMarkerClickListener.remove(),e.onMarkerClickListener=void 0),e.onPolygonClickListener&&(e.onPolygonClickListener.remove(),e.onPolygonClickListener=void 0),e.onCircleClickListener&&(e.onCircleClickListener.remove(),e.onCircleClickListener=void 0),e.onMarkerDragStartListener&&(e.onMarkerDragStartListener.remove(),e.onMarkerDragStartListener=void 0),e.onMarkerDragListener&&(e.onMarkerDragListener.remove(),e.onMarkerDragListener=void 0),e.onMarkerDragEndListener&&(e.onMarkerDragEndListener.remove(),e.onMarkerDragEndListener=void 0),e.onMyLocationButtonClickListener&&(e.onMyLocationButtonClickListener.remove(),e.onMyLocationButtonClickListener=void 0),e.onMyLocationClickListener&&(e.onMyLocationClickListener.remove(),e.onMyLocationClickListener=void 0)})()}generateCallback(e){const n=this.id;return i=>{i.mapId==n&&e(i)}}}var E=m(553),l=m(6689),B=m(9843),q=m(930),re=m(6814),W=m(95);function N(b,e){if(1&b){const n=l.EpF();l.TgZ(0,"ion-fab",6),l.NdJ("click",function(){l.CHM(n);const h=l.oxw();return l.KtG(h.dismiss(!1))}),l.TgZ(1,"ion-fab-button"),l._UZ(2,"ion-icon",7),l.qZA()()}}function oe(b,e){if(1&b){const n=l.EpF();l.TgZ(0,"ion-searchbar",8),l.NdJ("ngModelChange",function(h){l.CHM(n);const g=l.oxw();return l.KtG(g.text=h)})("ionInput",function(){l.CHM(n);const h=l.oxw();return l.KtG(h.search())}),l.qZA()}if(2&b){const n=l.oxw();l.Q6J("ngModel",n.text)("debounce",800)}}function se(b,e){if(1&b){const n=l.EpF();l.TgZ(0,"ion-button",9),l.NdJ("click",function(){l.CHM(n);const h=l.oxw();return l.KtG(h.dismiss())}),l._uU(1," Guardar Ubicaci\xf3n "),l.qZA()}if(2&b){const n=l.oxw();l.Q6J("disabled",!n.marker)}}let J=(()=>{var b;class e{constructor(i,h,g){this.modal=i,this.loading=h,this.genericService=g,this.visor=!1,this.apiKey=E.N.map,this.makers=[],this.placeMarkers=[]}ngOnInit(){this.initMap()}initMap(){var i=this;return(0,r.Z)(function*(){const h=yield i.loading.create({animated:!0,spinner:"dots",translucent:!0,message:"Cargando el mapa..."});if(yield h.present(),document.getElementById("map")&&(i.mapRef=document.getElementById("map")),i.visor)i.evento&&(i.coords={latitude:i.evento.mapLat,longitude:i.evento.mapLong});else{const{coords:g}=yield O.getCurrentPosition();i.coords=g}i.newMap=yield y.create({id:"my-map",element:i.mapRef,apiKey:i.apiKey,config:{center:{lat:i.coords.latitude,lng:i.coords.longitude},streetViewControl:!i.visor,zoom:18,fullscreenControl:!1,mapTypeControl:!1}}),i.visor&&(i.marker=yield i.createMarker(i.coords),i.makers.push(i.marker),i.markerSelected=i.coords),i.visor||i.newMap.setOnMapClickListener(function(){var g=(0,r.Z)(function*(k){i.newMap.removeMarker(i.marker),i.marker=yield i.createMarker(k),i.markerSelected=k});return function(k){return g.apply(this,arguments)}}()),yield h.dismiss()})()}createPolyline(i){var h=this;return(0,r.Z)(function*(){const g={strokeColor:"red",path:[{lat:i.latitude,lng:i.longitude},{lat:i.latitude-.01,lng:i.longitude}],geodesic:!1,strokeWeight:5};yield h.newMap.addPolylines([g])})()}createMarker(i){var h=this;return(0,r.Z)(function*(){return yield h.newMap.addMarker({coordinate:{lat:i.latitude,lng:i.longitude}})})()}getRoute(i,h){var g=this;return(0,r.Z)(function*(){(new google.maps.DirectionsService).route({origin:i,destination:h,travelMode:google.maps.TravelMode.DRIVING},function(){var H=(0,r.Z)(function*(R,x){if(x===google.maps.DirectionsStatus.OK){const S=[];for(const t of R.routes[0].overview_path)S.push({lat:t.lat(),lng:t.lng()});yield g.newMap.addPolylines([{strokeColor:"red",path:S,geodesic:!1,strokeWeight:5}])}else alert("Could not display directions due to: "+x)});return function(R,x){return H.apply(this,arguments)}}())})()}dismiss(i=!0){i?this.modal.dismiss(this.markerSelected):this.modal.dismiss()}search(){var i=this;this.genericService.placeGoogleMaps(this.text).subscribe(function(){var h=(0,r.Z)(function*(g){i.newMap.removeMarkers(i.makers),i.makers=[],i.markerSelected=null;for(const k of g.places)yield i.createMarker(k.location);i.newMap.setCamera({zoom:8,coordinate:g.places[0].locations})});return function(g){return h.apply(this,arguments)}}(),h=>{})}}return(b=e).\u0275fac=function(i){return new(i||b)(l.Y36(B.IN),l.Y36(B.HT),l.Y36(q.M))},b.\u0275cmp=l.Xpm({type:b,selectors:[["app-map"]],inputs:{visor:"visor",evento:"evento",text:"text"},decls:7,vars:3,consts:[["vertical","top","horizontal","start","slot","fixed",3,"click",4,"ngIf"],["id","map"],[1,"fixed-top","d-flex"],["placeholder","Buscar lugar","class","ms-auto me-4 mt-2","type","text",3,"ngModel","debounce","ngModelChange","ionInput",4,"ngIf"],[1,"fixed-bottom","d-flex"],["class","mx-auto mb-3","expand","block","shape","round",3,"disabled","click",4,"ngIf"],["vertical","top","horizontal","start","slot","fixed",3,"click"],["name","close-outline"],["placeholder","Buscar lugar","type","text",1,"ms-auto","me-4","mt-2",3,"ngModel","debounce","ngModelChange","ionInput"],["expand","block","shape","round",1,"mx-auto","mb-3",3,"disabled","click"]],template:function(i,h){1&i&&(l.TgZ(0,"ion-content"),l.YNc(1,N,3,0,"ion-fab",0),l._UZ(2,"capacitor-google-map",1),l.TgZ(3,"div",2),l.YNc(4,oe,1,2,"ion-searchbar",3),l.qZA(),l.TgZ(5,"div",4),l.YNc(6,se,2,1,"ion-button",5),l.qZA()()),2&i&&(l.xp6(1),l.Q6J("ngIf",!h.visor),l.xp6(3),l.Q6J("ngIf",!h.visor),l.xp6(2),l.Q6J("ngIf",!h.visor))},dependencies:[re.O5,W.JJ,W.On,B.YG,B.W2,B.IJ,B.W4,B.gu,B.VI,B.j9],styles:["capacitor-google-map[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}ion-searchbar[_ngcontent-%COMP%]{width:80%}"]}),e})()}}]);