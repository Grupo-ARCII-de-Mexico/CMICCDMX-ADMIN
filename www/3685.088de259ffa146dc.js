"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3685],{3685:(_,p,n)=>{n.r(p),n.d(p,{SliderVerPageModule:()=>C});var m=n(6814),f=n(95),r=n(9843),g=n(7564),c=n(5861),h=n(553),e=n(6689),Z=n(9403),v=n(4433),S=n(7153),y=n(2425),b=n(930);function x(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"ion-item",12),e._UZ(1,"ion-img",16),e.TgZ(2,"ion-buttons",17)(3,"ion-button",18),e._UZ(4,"ion-icon",19),e.qZA(),e.TgZ(5,"ion-button",20),e.NdJ("click",function(){const l=e.CHM(s).$implicit,d=e.oxw();return e.KtG(d.deleteSlider(l.id))}),e._UZ(6,"ion-icon",21),e.qZA()(),e._UZ(7,"ion-reorder",22),e.qZA()}if(2&o){const s=a.$implicit,t=e.oxw();e.xp6(1),e.Q6J("src",t.uri+s.imagen),e.xp6(2),e.MGl("routerLink","/dashboard/website/slider/",s.id,"")}}function P(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"ion-fab",23)(1,"ion-fab-button",24),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.updatePosition())}),e._UZ(2,"ion-icon",25),e.qZA()()}}const T=[{path:"",component:(()=>{var o;class a{constructor(t,i,l,d,u){this.sliderRepo=t,this.alert=i,this.loading=l,this.toast=d,this.genericS=u,this.uri=h.N.image+"sliders/",this.sliders=[],this.positionChange=!1}ngOnInit(){var t=this;this.sliderRepo.slider$.subscribe(function(){var i=(0,c.Z)(function*(l){t.sliders=l.sort((d,u)=>d.position-u.position)});return function(l){return i.apply(this,arguments)}}())}deleteSlider(t){var i=this;return(0,c.Z)(function*(){var l;yield i.alert.setData({animated:!0,header:"Est\xe1 a punto de eliminar este Slider",message:"Si lo elimina se perder\xe1n todos los datos relacionados. \n \xbfDesea continuar?",buttons:[{text:"Cancelar"},{text:"Confirmar",handler:(l=(0,c.Z)(function*(){i.loading.setData({animated:!0,message:"Eliminando",spinner:"dots"}),yield i.loading.create(),yield i.loading.show(),i.genericS.delete("sliders",t).subscribe(function(){var d=(0,c.Z)(function*(u){yield i.loading.hide(),i.toast.success("Slider Eliminado"),i.sliderRepo.deleteSlider(t)});return function(u){return d.apply(this,arguments)}}())}),function(){return l.apply(this,arguments)})}]})})()}handleReorder(t){var i=this;return(0,c.Z)(function*(){const l=i.sliders.splice(t.detail.from,1)[0];i.sliders.splice(t.detail.to,0,l),i.positionChange=!0,console.log(i.sliders),t.detail.complete()})()}updatePosition(){var t=this;return(0,c.Z)(function*(){t.loading.setData({animated:!0,message:"Guardando",spinner:"dots"}),yield t.loading.create(),yield t.loading.show();let i=0;for(const l of t.sliders)yield t.genericS.update("sliders",l.id,{position:i}).toPromise(),i++;t.positionChange=!1,t.toast.success("Reposicionamiento Guardado","Success"),yield t.loading.hide()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.Y36(Z.t),e.Y36(v.c),e.Y36(S.b),e.Y36(y._W),e.Y36(b.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-slider-ver"]],decls:25,vars:5,consts:[[3,"fullscreen"],["color","dark",1,"py-2"],[1,"ms-2","ms-md-5","mb-0","titulo"],[1,"palito","ms-2","ms-md-5","mt-0","mb-3"],[1,"px-3"],[1,"container"],[1,"d-flex","mt-1"],["placeholder","Buscar Slider","inputmode","text","type","text",1,"ms-auto","me-3","my-0","w-100",3,"debounce"],[1,"table","mt-0"],[1,"red"],["scope","col",1,"red","d-flex"],[1,"ms-auto","me-5"],[1,"w-100"],[3,"disabled","ionItemReorder"],["class","w-100",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],[1,"img-fluid",3,"src"],["color","primary","slot","end"],["color","primary",3,"routerLink"],["slot","icon-only","name","create-outline"],["color","primary","slot","end",3,"click"],["slot","icon-only","name","trash-outline"],["slot","end"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","save"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br"),e.TgZ(2,"ion-toolbar",1),e._UZ(3,"br"),e.TgZ(4,"h1",2)(5,"b"),e._uU(6," Sliders"),e.qZA()(),e._UZ(7,"hr",3),e.qZA(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6),e._UZ(11,"ion-searchbar",7),e.qZA(),e.TgZ(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10)(16,"span"),e._uU(17,"Foto"),e.qZA(),e.TgZ(18,"span",11),e._uU(19,"Opciones"),e.qZA()()()(),e.TgZ(20,"tbody")(21,"ion-list",12)(22,"ion-reorder-group",13),e.NdJ("ionItemReorder",function(d){return i.handleReorder(d)}),e.YNc(23,x,8,2,"ion-item",14),e.qZA()()()()()(),e.YNc(24,P,3,0,"ion-fab",15),e.qZA()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(11),e.Q6J("debounce",250),e.xp6(11),e.Q6J("disabled",!1),e.xp6(1),e.Q6J("ngForOf",i.sliders),e.xp6(1),e.Q6J("ngIf",i.positionChange))},dependencies:[m.sg,m.O5,r.YG,r.Sm,r.W2,r.IJ,r.W4,r.gu,r.Xz,r.Ie,r.q_,r.Nh,r.oz,r.VI,r.sr,r.j9,r.YI,g.rH],styles:[".img-fluid[_ngcontent-%COMP%]{max-width:200px}.red[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}"]}),a})()}];let V=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(T),g.Bz]}),a})(),C=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,f.u5,r.Pc,f.UX,V]}),a})()}}]);