"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4023],{4023:(E,b,s)=>{s.r(b),s.d(b,{VerBolsaPageModule:()=>Y});var _=s(6814),p=s(95),c=s(9843),m=s(7564),Z=s(5861),f=s(553),o=s(6689),h=s(7115),x=s(930),M=s(4433),v=s(7153),P=s(2425),A=s(6593),T=s(7602),y=s(6991);let U=(()=>{var e;class r{transform(i,n){const a=[];if(!n)return i;if(i)for(const d of i){var l,u,g;(null==d||null===(l=d.titulo)||void 0===l?void 0:l.toLowerCase().indexOf(n.toLowerCase()))>-1&&a.push(d),(null==d||null===(u=d.area)||void 0===u?void 0:u.toLowerCase().indexOf(n.toLowerCase()))>-1&&a.push(d),(null==d||null===(g=d.descripcion)||void 0===g?void 0:g.toLowerCase().indexOf(n.toLowerCase()))>-1&&a.push(d)}return(0,y.o)(a)}}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=o.Yjl({name:"bolsaTrabajoSearch",type:e,pure:!0}),r})();function C(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"tr")(1,"th",15),o._UZ(2,"ion-img",16),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td")(8,"ion-buttons",17)(9,"ion-button",18),o._UZ(10,"ion-icon",19),o.qZA(),o.TgZ(11,"ion-button",18),o._UZ(12,"ion-icon",19),o.qZA(),o.TgZ(13,"ion-button",20),o.NdJ("click",function(){const a=o.CHM(t).$implicit,l=o.oxw(2);return o.KtG(l.deleteEvento(a.id))}),o._UZ(14,"ion-icon",21),o.TgZ(15,"ion-button",20),o.NdJ("click",function(){const a=o.CHM(t).$implicit,l=o.oxw(2);return l.openModalPostulante=!0,o.KtG(l.licitacionModal=a)}),o._UZ(16,"ion-icon",22),o.qZA()()()()()}if(2&e){const t=r.$implicit,i=o.oxw(2);o.xp6(2),o.Q6J("src",i.uri+t.foto),o.xp6(2),o.Oqu(t.titulo),o.xp6(2),o.Oqu(t.puestoDeseado),o.xp6(3),o.MGl("routerLink","editar-bolsa/",t.id,""),o.xp6(2),o.MGl("routerLink","editar-bolsa/",t.identificador,"")}}function B(e,r){if(1&e&&(o.TgZ(0,"tbody"),o.YNc(1,C,17,5,"tr",14),o.ALo(2,"bolsaTrabajoSearch"),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.xi3(2,1,t.bolsa.slice(t.pagina*t.divisor,(t.pagina+1)*t.divisor),t.search))}}function q(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"tr")(1,"th",15),o._UZ(2,"ion-img",16),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td")(8,"ion-buttons",17)(9,"ion-button",18),o._UZ(10,"ion-icon",19),o.qZA(),o.TgZ(11,"ion-button",20),o.NdJ("click",function(){const a=o.CHM(t).$implicit,l=o.oxw(2);return o.KtG(l.deleteEvento(a.id))}),o._UZ(12,"ion-icon",21),o.qZA(),o.TgZ(13,"ion-button",20),o.NdJ("click",function(){const a=o.CHM(t).$implicit,l=o.oxw(2);return l.openModal=!0,o.KtG(l.licitacionModal=a)}),o._UZ(14,"ion-icon",23),o.qZA(),o.TgZ(15,"ion-button",20),o.NdJ("click",function(){const a=o.CHM(t).$implicit,l=o.oxw(2);return l.openModalPostulante=!0,o.KtG(l.licitacionModal=a)}),o._UZ(16,"ion-icon",22),o.qZA()()()()}if(2&e){const t=r.$implicit,i=o.oxw(2);o.xp6(2),o.Q6J("src",i.uri+t.foto),o.xp6(2),o.Oqu(t.titulo),o.xp6(2),o.Oqu(t.puestoDeseado),o.xp6(3),o.MGl("routerLink","editar-bolsa/",t.id,"")}}function V(e,r){if(1&e&&(o.TgZ(0,"tbody"),o.YNc(1,q,17,4,"tr",14),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.bolsaSelected)}}function J(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar",24)(2,"ion-buttons",25)(3,"ion-button",26),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.openModal=!1)}),o._uU(4,"Cerrar"),o.qZA()(),o.TgZ(5,"ion-title"),o._uU(6),o.qZA()()(),o.TgZ(7,"ion-content",27)(8,"ion-list")(9,"ion-item")(10,"ion-label"),o._uU(11," Logo "),o.TgZ(12,"p"),o._UZ(13,"ion-img",16),o.qZA()()(),o.TgZ(14,"ion-item")(15,"ion-label"),o._uU(16," \xc1rea "),o.TgZ(17,"p"),o._uU(18),o.qZA()()(),o.TgZ(19,"ion-item")(20,"ion-label"),o._uU(21," Descripci\xf3n "),o._UZ(22,"p",28),o.qZA()(),o.TgZ(23,"ion-item")(24,"ion-label"),o._uU(25," Tipo de Trabajo "),o.TgZ(26,"p",29),o._uU(27),o.qZA()()(),o.TgZ(28,"ion-item")(29,"ion-label"),o._uU(30," Escolaridad "),o.TgZ(31,"p"),o._uU(32),o.qZA()()(),o.TgZ(33,"ion-item")(34,"ion-label"),o._uU(35," Puesto "),o.TgZ(36,"p"),o._uU(37),o.qZA()()()()()}if(2&e){const t=o.oxw();o.xp6(6),o.Oqu(t.licitacionModal.titulo),o.xp6(7),o.Q6J("src",t.uri+t.licitacionModal.foto),o.xp6(5),o.lnq("",t.licitacionModal.estado,", ",t.licitacionModal.municipio,", ",null!=t.licitacionModal.delegacion?t.licitacionModal.delegacion:"",""),o.xp6(4),o.Q6J("innerHTML",t.toHtml(t.licitacionModal.descripcion),o.oJD),o.xp6(5),o.Oqu(t.licitacionModal.tipoContratacion),o.xp6(5),o.Oqu(t.licitacionModal.escolaridad),o.xp6(5),o.Oqu(t.licitacionModal.puestoDeseado)}}function O(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"ion-button",31),o.NdJ("click",function(){o.CHM(t);const n=o.oxw().$implicit,a=o.oxw(2);return o.KtG(a.download(n.curriculum))}),o._UZ(1,"ion-icon",32),o.qZA()}}function w(e,r){if(1&e&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o.YNc(8,O,2,0,"ion-button",30),o.qZA()()),2&e){const t=r.$implicit;o.xp6(2),o.Oqu(t.nombre),o.xp6(2),o.Oqu(t.telefono),o.xp6(2),o.Oqu(t.correo),o.xp6(2),o.Q6J("ngIf",t.curriculum)}}function N(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar",24)(2,"ion-buttons",25)(3,"ion-button",26),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.openModalPostulante=!1)}),o._uU(4,"Cerrar"),o.qZA()(),o.TgZ(5,"ion-title"),o._uU(6),o.qZA()()(),o.TgZ(7,"ion-content",27)(8,"table",8)(9,"thead",9)(10,"tr")(11,"th",10),o._uU(12,"Nombre"),o.qZA(),o.TgZ(13,"th",10),o._uU(14,"Tel\xe9fono"),o.qZA(),o.TgZ(15,"th",10),o._uU(16,"Correo"),o.qZA(),o.TgZ(17,"th",10),o._uU(18,"Curr\xedculum"),o.qZA()()(),o.TgZ(19,"tbody"),o.YNc(20,w,9,4,"tr",14),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(6),o.hij("Postulantes de ",t.licitacionModal.titulo,""),o.xp6(14),o.Q6J("ngForOf",t.licitacionModal.postulantes)}}const j=[{path:"",component:(()=>{var e;class r{constructor(i,n,a,l,u,g){this.bolsaTrabajo=i,this.genericService=n,this.alert=a,this.loading=l,this.toast=u,this.sanitizer=g,this.uri=f.N.image+"bolsa-trabajo-logos/",this.uri2=f.N.image+"bolsa-trabajo-curriculum/",this.openModal=!1,this.bolsa=[],this.bolsaSelected=[],this.divisor=15,this.pagina=0,this.openModalPostulante=!1,this.postulantes=[]}ngOnInit(){this.bolsaTrabajo.BolsaTrabajo$.subscribe(i=>{this.bolsa=i,this.bolsaSelected=i.slice(0,this.divisor)})}getPagina(i){this.pagina=i,this.bolsaSelected=this.bolsa.slice(i*this.divisor,(i+1)*this.divisor)}deleteEvento(i){var n=this;return(0,Z.Z)(function*(){var a;yield n.alert.setData({animated:!0,header:"Est\xe1 a punto de eliminar esta Oferta de Trabajo",message:"Si lo elimina se perder\xe1n todos los datos relacionados. \n \xbfDesea continuar?",buttons:[{text:"Cancelar"},{text:"Confirmar",handler:(a=(0,Z.Z)(function*(){n.loading.setData({animated:!0,message:"Eliminando",spinner:"dots"}),yield n.loading.create(),yield n.loading.show(),n.genericService.update("bolsa-trabajo",i,{active:!1}).subscribe(function(){var l=(0,Z.Z)(function*(u){yield n.loading.hide(),n.toast.success("Oferta de Trabajo Eliminada"),n.bolsaTrabajo.deleteBolsaTrabajo(i)});return function(u){return l.apply(this,arguments)}}())}),function(){return a.apply(this,arguments)})}]})})()}toHtml(i){return this.sanitizer.bypassSecurityTrustHtml(i)}download(i){console.log(i);const n=document.createElement("a");n.href=this.uri2+i,n.download="curriculum.pdf",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}return(e=r).\u0275fac=function(i){return new(i||e)(o.Y36(h._),o.Y36(x.M),o.Y36(M.c),o.Y36(v.b),o.Y36(P._W),o.Y36(A.H7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-ver-bolsa"]],decls:31,vars:9,consts:[[3,"fullscreen"],["color","dark",1,"py-2"],[1,"ms-2","ms-md-5","mb-0","titulo"],[1,"palito","ms-2","ms-md-5","mt-0","mb-3"],[1,"mt-1","px-3"],[1,"container"],[1,"d-flex","mt-5"],["placeholder","Buscar Empleo","inputmode","text","type","text",1,"ms-auto","me-3","my-0","w-100",3,"ngModel","debounce","ngModelChange"],[1,"table","mt-0"],[1,"red"],["scope","col",1,"red"],[4,"ngIf"],[3,"total","divisor","pagina"],["trigger","open-modal",3,"isOpen","willDismiss"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center"],[3,"src"],["color","primary","slot","start"],["color","primary",3,"routerLink"],["slot","icon-only","name","create-outline"],["color","primary",3,"click"],["slot","icon-only","name","trash-outline"],["slot","icon-only","name","people-outline"],["slot","icon-only","name","eye-outline"],["color","dark"],["slot","start"],["color","primary","fill","solid",3,"click"],[1,"ion-padding"],[3,"innerHTML"],[2,"white-space","pre-wrap"],["slot","start","fill","clear",3,"click",4,"ngIf"],["slot","start","fill","clear",3,"click"],["slot","icon-only","name","download-outline"]],template:function(i,n){1&i&&(o.TgZ(0,"ion-content",0),o._UZ(1,"br"),o.TgZ(2,"ion-toolbar",1),o._UZ(3,"br"),o.TgZ(4,"h1",2)(5,"b"),o._uU(6," Bolsa de Trabajo"),o.qZA()(),o._UZ(7,"hr",3),o.qZA(),o.TgZ(8,"div",4)(9,"div",5)(10,"div",6),o._UZ(11,"hr"),o.TgZ(12,"ion-searchbar",7),o.NdJ("ngModelChange",function(l){return n.search=l})("ngModelChange",function(){return n.bolsaSelected=[]}),o.qZA()(),o.TgZ(13,"table",8)(14,"thead",9)(15,"tr")(16,"th",10),o._uU(17,"Logo"),o.qZA(),o.TgZ(18,"th",10),o._uU(19,"Nombre"),o.qZA(),o.TgZ(20,"th",10),o._uU(21,"Puesto"),o.qZA(),o.TgZ(22,"th",10),o._uU(23,"Opciones"),o.qZA()()(),o.YNc(24,B,3,4,"tbody",11),o.YNc(25,V,2,1,"tbody",11),o.qZA(),o.TgZ(26,"paginador",12),o.NdJ("pagina",function(l){return n.getPagina(l)}),o.qZA()()()(),o.TgZ(27,"ion-modal",13),o.NdJ("willDismiss",function(){return n.openModal=!1}),o.YNc(28,J,38,9,"ng-template"),o.qZA(),o.TgZ(29,"ion-modal",13),o.NdJ("willDismiss",function(){return n.openModalPostulante=!1}),o.YNc(30,N,21,2,"ng-template"),o.qZA()),2&i&&(o.Q6J("fullscreen",!0),o.xp6(12),o.Q6J("ngModel",n.search)("debounce",250),o.xp6(12),o.Q6J("ngIf",0===n.bolsaSelected.length),o.xp6(1),o.Q6J("ngIf",n.bolsaSelected.length>0),o.xp6(1),o.Q6J("total",n.bolsa.length)("divisor",n.divisor),o.xp6(1),o.Q6J("isOpen",n.openModal),o.xp6(2),o.Q6J("isOpen",n.openModalPostulante))},dependencies:[_.sg,_.O5,p.JJ,p.On,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Xz,c.Ie,c.Q$,c.q_,c.VI,c.wd,c.sr,c.ki,c.j9,c.YI,T.a,m.rH,U],styles:["ion-searchbar[_ngcontent-%COMP%]{width:250px;border-radius:15px!important;border-start-end-radius:10px}ion-img[_ngcontent-%COMP%]{width:150px}.red[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),r})()}];let F=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[m.Bz.forChild(j),m.Bz]}),r})();var k=s(3386);let Y=(()=>{var e;class r{}return(e=r).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[_.ez,p.u5,c.Pc,T.a,F,k.d]}),r})()}}]);