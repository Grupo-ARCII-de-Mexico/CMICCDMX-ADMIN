"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7270],{3896:(N,u,t)=>{t.r(u),t.d(u,{CrearPageModule:()=>A});var f=t(6814),r=t(95),n=t(9843),m=t(7564),c=t(5861),p=t(4664),g=t(9397),e=t(6689),Z=t(2425),b=t(7153),v=t(3733),h=t(930);const y=[{path:"",component:(()=>{var i;class d{constructor(a,o,l,P,U,T,F){this.fb=a,this.toast=o,this.load=l,this.afiliadoRepo=P,this.genericService=U,this.activeParams=T,this.nav=F,this.year=(new Date).getFullYear(),this.edit=!1}ngOnInit(){this.afiliadoForm=this.fb.group({fechaEmision:[null],fechaFacturacion:[null],fechaPagoDelegacion:[null],registro:[null],certificado:[null],nip:[null],inicioOperaciones:[null],nombre:[null],representanteLegal:[null],tamano:[null],telefono1:[null],telefono2:[null],correo1:[null],correo2:[null],anosConsecutivos:[null],ultimoAno:[null],especialidad1:[null],especialidad2:[null],especialidad3:[null],cumpleanos:[null]}),this.activeParams.params.pipe((0,p.w)(a=>(this.identificador=a.id,a.id&&(this.edit=!0),this.afiliadoRepo.user$)),(0,g.b)(a=>{if(this.edit){const o=a.find(l=>l.id===Number(this.identificador));o&&this.afiliadoForm.setValue({fechaEmision:o.fechaEmision,fechaFacturacion:o.fechaFacturacion,fechaPagoDelegacion:o.fechaPagoDelegacion,registro:o.registro,certificado:o.certificado,nip:o.nip,inicioOperaciones:o.inicioOperaciones,nombre:o.nombre,representanteLegal:o.representanteLegal,tamano:o.tamano,telefono1:o.telefono1,telefono2:o.telefono2,correo1:o.correo1,correo2:o.correo2,anosConsecutivos:o.anosConsecutivos,ultimoAno:o.ultimoAno,especialidad1:o.especialidad1,especialidad2:o.especialidad2,especialidad3:o.especialidad3,cumpleanos:o.cumpleanos})}})).subscribe()}save(){var a=this;return(0,c.Z)(function*(){a.edit?yield a.update():(yield a.load.setData({animated:!0,spinner:"dots",translucent:!0,message:"Creando Afiliado..."}),yield a.load.create(),yield a.load.show(),a.genericService.post("afiliados",a.afiliadoForm.value).subscribe(function(){var o=(0,c.Z)(function*(l){a.afiliadoForm.reset(),a.afiliadoRepo.addAfiliado(l),yield a.load.hide(),a.toast.success("Afiliado Guardada"),a.nav.navigateForward("/dashboard/afiliados")});return function(l){return o.apply(this,arguments)}}()))})()}update(){var a=this;return(0,c.Z)(function*(){yield a.load.setData({animated:!0,spinner:"dots",translucent:!0,message:"Guardando Cambios..."}),yield a.load.create(),yield a.load.show(),a.genericService.update("afiliados",Number(a.identificador),a.afiliadoForm.value).subscribe(function(){var o=(0,c.Z)(function*(l){a.afiliadoForm.reset(),a.afiliadoRepo.updateAfiliado(Number(a.identificador),l),yield a.load.hide(),a.toast.success("Afiliado Actualizada"),a.nav.navigateForward("/dashboard/afiliados")});return function(l){return o.apply(this,arguments)}}())})()}onFileSelected(a){this.file={documento:"file",uri:a.target.files[0]},a.target.value=""}click(a){document.getElementById(a).click()}}return(i=d).\u0275fac=function(a){return new(a||i)(e.Y36(r.qu),e.Y36(Z._W),e.Y36(b.b),e.Y36(v.s),e.Y36(h.M),e.Y36(m.gz),e.Y36(n.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-crear"]],decls:64,vars:4,consts:[[3,"fullscreen"],["color","dark",1,"py-2"],[1,"ms-2","ms-md-5","mb-0","titulo"],[1,"palito","ms-2","ms-md-5","mt-0","mb-3"],[1,"mt-1","px-4"],[1,"container"],[3,"formGroup"],[1,"row"],[1,"col-md-4","my-3"],["formControlName","fechaEmision","presentation","date"],["formControlName","fechaFacturacion","presentation","date"],["formControlName","fechaPagoDelegacion","presentation","date"],["type","number","label","Registro","labelPlacement","floating","formControlName","registro",1,"border","my-2"],["type","number","label","Certificado","labelPlacement","floating","formControlName","certificado",1,"border","my-2"],["type","number","label","NIP","labelPlacement","floating","formControlName","nip",1,"border","my-2"],["formControlName","inicioOperaciones","presentation","date"],["type","text","label","Nombre","labelPlacement","floating","formControlName","nombre",1,"border","my-2"],["type","text","label","Representante Legal","labelPlacement","floating","formControlName","representanteLegal",1,"border","my-2"],["type","text","label","Tama\xf1o","labelPlacement","floating","formControlName","tamano",1,"border","my-2"],["type","text","label","Telefono 1","labelPlacement","floating","formControlName","telefono1",1,"border","my-2"],["type","text","label","Telefono 2","labelPlacement","floating","formControlName","telefono2",1,"border","my-2"],["type","text","label","Correo 1","labelPlacement","floating","formControlName","correo1",1,"border","my-2"],["type","text","label","Correo 2","labelPlacement","floating","formControlName","correo2",1,"border","my-2"],["type","number","label","A\xf1os Consecutivos","labelPlacement","floating","formControlName","anosConsecutivos",1,"border","my-2"],["type","number","label","Ultimo A\xf1o","labelPlacement","floating","formControlName","ultimoAno",1,"border","my-2"],["type","text","label","Especialidad 1","labelPlacement","floating","formControlName","especialidad1",1,"border","my-2"],["type","text","label","Especialidad 2","labelPlacement","floating","formControlName","especialidad2",1,"border","my-2"],["type","text","label","Especialidad 3","labelPlacement","floating","formControlName","especialidad3",1,"border","my-2"],["formControlName","cumpleanos","presentation","date"],["expand","block","shape","round",3,"click"]],template:function(a,o){1&a&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br"),e.TgZ(2,"ion-toolbar",1),e._UZ(3,"br"),e.TgZ(4,"h1",2)(5,"b"),e._uU(6),e.qZA()(),e._UZ(7,"hr",3),e.qZA(),e.TgZ(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"h5"),e._uU(14,"Fecha de Emisi\xf3n"),e.qZA(),e._UZ(15,"ion-datetime",9),e.qZA(),e.TgZ(16,"div",8)(17,"h5"),e._uU(18,"Fecha de Facturaci\xf3n"),e.qZA(),e._UZ(19,"ion-datetime",10),e.qZA(),e.TgZ(20,"div",8)(21,"h5"),e._uU(22,"Fecha de Pago de Delegaci\xf3n"),e.qZA(),e._UZ(23,"ion-datetime",11),e.qZA(),e.TgZ(24,"div",8),e._UZ(25,"ion-input",12),e.qZA(),e.TgZ(26,"div",8),e._UZ(27,"ion-input",13),e.qZA(),e.TgZ(28,"div",8),e._UZ(29,"ion-input",14),e.qZA(),e.TgZ(30,"div",8)(31,"h5"),e._uU(32,"Inicio de Operaciones"),e.qZA(),e._UZ(33,"ion-datetime",15),e.qZA(),e.TgZ(34,"div",8),e._UZ(35,"ion-input",16),e.qZA(),e.TgZ(36,"div",8),e._UZ(37,"ion-input",17),e.qZA(),e.TgZ(38,"div",8),e._UZ(39,"ion-input",18),e.qZA(),e.TgZ(40,"div",8),e._UZ(41,"ion-input",19),e.qZA(),e.TgZ(42,"div",8),e._UZ(43,"ion-input",20),e.qZA(),e.TgZ(44,"div",8),e._UZ(45,"ion-input",21),e.qZA(),e.TgZ(46,"div",8),e._UZ(47,"ion-input",22),e.qZA(),e.TgZ(48,"div",8),e._UZ(49,"ion-input",23),e.qZA(),e.TgZ(50,"div",8),e._UZ(51,"ion-input",24),e.qZA(),e.TgZ(52,"div",8),e._UZ(53,"ion-input",25),e.qZA(),e.TgZ(54,"div",8),e._UZ(55,"ion-input",26),e.qZA(),e.TgZ(56,"div",8),e._UZ(57,"ion-input",27),e.qZA(),e.TgZ(58,"div",8)(59,"h5"),e._uU(60,"Cumplea\xf1os"),e.qZA(),e._UZ(61,"ion-datetime",28),e.qZA()(),e.TgZ(62,"ion-button",29),e.NdJ("click",function(){return o.save()}),e._uU(63),e.qZA()()()()()),2&a&&(e.Q6J("fullscreen",!0),e.xp6(6),e.hij(" ",o.edit?"Editar ":"Crear "," Afiliado"),e.xp6(4),e.Q6J("formGroup",o.afiliadoForm),e.xp6(53),e.hij(" ",o.edit?"Actualizar ":"Crear "," Afiliado "))},dependencies:[r._Y,r.JJ,r.JL,n.YG,n.W2,n.x4,n.pK,n.sr,n.as,n.QI,n.j9,r.sg,r.u]}),d})()}];let C=(()=>{var i;class d{}return(i=d).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(y),m.Bz]}),d})(),A=(()=>{var i;class d{}return(i=d).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.ez,r.u5,n.Pc,C,r.UX]}),d})()}}]);