"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9200],{9200:(Q,f,a)=>{a.r(f),a.d(f,{RegistrarUsuarioPageModule:()=>S});var g=a(6814),l=a(95),s=a(9843),v=a(7564),p=a(5861),Z=a(9026),x=a(9397),d=a(4028),e=a(6689),U=a(930),b=a(8013),T=a(7153),h=a(2425),A=a(2264);function P(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.qZA()),2&o){const i=n.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.titulo)}}function C(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.qZA()),2&o){const i=n.$implicit;e.Q6J("value",n.index),e.xp6(1),e.Oqu(i)}}function _(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.qZA()),2&o){const i=n.$implicit;e.Q6J("value",null==i?null:i.id),e.xp6(1),e.Oqu(null==i?null:i.ciudad)}}function y(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.qZA()),2&o){const i=n.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.nombre)}}function R(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",28),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.Q6J("value",null==i.extranjero?null:i.extranjero.id),e.xp6(1),e.Oqu(null==i.extranjero?null:i.extranjero.nombre)}}function N(o,n){if(1&o){const i=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.update())}),e.TgZ(1,"ion-item")(2,"ion-select",8),e.YNc(3,P,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(4,"ion-item")(5,"ion-select",10),e.YNc(6,C,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(7,"ion-item"),e._UZ(8,"ion-input",11),e.qZA(),e.TgZ(9,"ion-item")(10,"ion-input",12)(11,"div",13),e._uU(12,"Nombre Completo "),e.TgZ(13,"ion-text",14),e._uU(14,"*"),e.qZA()()()(),e.TgZ(15,"ion-item")(16,"ion-input",15)(17,"div",13),e._uU(18,"Tel\xe9fono "),e.TgZ(19,"ion-text",14),e._uU(20,"*"),e.qZA()()()(),e.TgZ(21,"ion-item")(22,"ion-input",16)(23,"div",13),e._uU(24,"Correo "),e.TgZ(25,"ion-text",14),e._uU(26,"*"),e.qZA()()()(),e.TgZ(27,"ion-item"),e._UZ(28,"ion-input",17),e.qZA(),e.TgZ(29,"ion-item")(30,"ion-input",18)(31,"div",13),e._uU(32,"Cargo en la empresa "),e._UZ(33,"ion-text",14),e.qZA()()(),e.TgZ(34,"ion-item")(35,"ion-select",19),e.YNc(36,_,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(37,"ion-item"),e._UZ(38,"ion-input",20),e.qZA(),e.TgZ(39,"ion-item")(40,"ion-select",21)(41,"div",13),e._uU(42,"Estado de Origen "),e.qZA(),e.YNc(43,y,2,2,"ion-select-option",9),e.YNc(44,R,2,2,"ion-select-option",22),e.qZA()(),e.TgZ(45,"ion-item"),e._UZ(46,"ion-input",23),e.qZA(),e.TgZ(47,"ion-item"),e._UZ(48,"ion-input",24),e.qZA(),e.TgZ(49,"ion-item")(50,"ion-text"),e._uU(51,"Suba su credencial estudiantil o documento que lo avale "),e._UZ(52,"br"),e.qZA(),e.TgZ(53,"ion-button",25),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.upload())}),e._uU(54," Subir Credencial "),e.qZA()(),e.TgZ(55,"ion-button",26),e._uU(56," Crear "),e.qZA()()}if(2&o){const i=e.oxw();e.Q6J("formGroup",i.usuarioForm),e.xp6(3),e.Q6J("ngForOf",i.evento),e.xp6(3),e.Q6J("ngForOf",i.tipoPublicoArray),e.xp6(29),e.Q6J("cancelText","Cerrar"),e.xp6(1),e.Q6J("ngForOf",i.delegaciones),e.xp6(4),e.Q6J("cancelText","Cerrar"),e.xp6(3),e.Q6J("ngForOf",i.estados),e.xp6(1),e.Q6J("ngIf",i.extranjero)}}const F=[{path:"",component:(()=>{var o;class n{constructor(t,r,u,c,m,q,I){this.fb=t,this.genericService=r,this.eventos=u,this.load=c,this.toast=m,this.modalC=q,this.compressService=I,this.evento=[],this.delegaciones=[],this.estados=[],this.tipoPublico=d.L,this.tipoPublicoArray=d.x,this.boleto={costo:0,privilegio:"Sesi\xf3n Foro + Comida",quieroFactura:!1,plataformaPago:1}}ngOnInit(){this.eventos.evento$.subscribe(t=>{this.evento=t}),(0,Z.$)(this.genericService.getAll("delegacion"),this.genericService.getAll("estados")).pipe((0,x.b)(t=>{this.delegaciones=t[0].sort(function(r,u){return r.ciudad.localeCompare(u.ciudad)}),this.extranjero=t[1].find(r=>33==r.id),this.estados=t[1].filter(r=>33!==r.id).sort(function(r,u){return r.nombre.localeCompare(u.nombre)})})).subscribe(),this.usuarioForm=this.fb.group({nombre:[null,l.kI.required],telefono:[null,l.kI.required],email:[null,[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],rfc:[],cargo:[],delegacion:[],curp:[],evidencia:[],organizacion:[],empresa:[],numAfiliado:[],estado:[],tipo:[d.L.AFILIADOS],evento:[]})}update(){var t=this;return(0,p.Z)(function*(){if(t.load.setData({message:"Creando Usuario",animated:!0,spinner:"dots"}),yield t.load.create(),yield t.load.show(),t.usuarioForm.controls.delegacion.value){var r,u;const c=null!==(r=t.delegaciones.find(m=>m.id===t.usuarioForm.controls.delegacion.value))&&void 0!==r?r:null;t.usuarioForm.controls.delegacion.setValue(null!==(u=null==c?void 0:c.ciudad)&&void 0!==u?u:null)}t.genericService.post("participante",{...t.usuarioForm.value}).subscribe(function(){var c=(0,p.Z)(function*(m){yield t.modalC.dismiss(),yield t.load.hide(),t.toast.success("Usuario Actualizado")});return function(m){return c.apply(this,arguments)}}())})()}upload(){var t=this;return(0,p.Z)(function*(){t.evidencia=yield t.compressService.returnImageCompress()})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(U.M),e.Y36(b.hJ),e.Y36(T.b),e.Y36(h._W),e.Y36(s.IN),e.Y36(A.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registrar-usuario"]],decls:11,vars:2,consts:[[3,"fullscreen"],["color","dark",1,"py-2"],[1,"ms-2","ms-md-5","mb-0","titulo"],[1,"palito","ms-2","ms-md-5","mt-0","mb-3"],[1,"mt-3","px-4"],[1,"container","px-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Eventos","formControlName","evento","placeholder","Seleccione el evento"],[3,"value",4,"ngFor","ngForOf"],["label","Tipo de Participante","formControlName","tipo","placeholder","Seleccione"],["labelPlacement","floating","label","No.Afiliado","formControlName","numAfiliado","type","text"],["labelPlacement","floating","formControlName","nombre","type","text"],["slot","label"],["color","danger"],["labelPlacement","floating","formControlName","telefono","type","text"],["labelPlacement","floating","formControlName","email","type","email"],["label","Ingrese el nombre de su empresa","labelPlacement","floating","formControlName","empresa","type","text"],["labelPlacement","floating","formControlName","cargo","type","text"],["label","Delegaci\xf3n CMIC","formControlName","delegacion","okText","Seleccionar","placeholder","Seleccione",3,"cancelText"],["label","Ingrese el nombre de su organizaci\xf3n","labelPlacement","floating","formControlName","organizacion","type","text"],["formControlName","estado","okText","Seleccionar","placeholder","Seleccione",3,"cancelText"],["class","border-top",3,"value",4,"ngIf"],["label","RFC","labelPlacement","floating","formControlName","rfc","type","text"],["label","CURP","labelPlacement","floating","formControlName","curp","type","text"],["expand","block","shape","round",3,"click"],["expand","block","slot","end","shape","round","type","submit",1,"mt-3"],[3,"value"],[1,"border-top",3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br"),e.TgZ(2,"ion-toolbar",1),e._UZ(3,"br"),e.TgZ(4,"h1",2)(5,"b"),e._uU(6,"Registrar Usuarios"),e.qZA()(),e._UZ(7,"hr",3),e.qZA(),e._UZ(8,"div",4),e.TgZ(9,"div",5),e.YNc(10,N,57,8,"form",6),e.qZA()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngIf",r.usuarioForm))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.sg,l.u,s.YG,s.W2,s.pK,s.Ie,s.t9,s.n0,s.yW,s.sr,s.QI,s.j9]}),n})()}];let J=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.Bz.forChild(F),v.Bz]}),n})(),S=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,l.u5,l.UX,s.Pc,J]}),n})()}}]);